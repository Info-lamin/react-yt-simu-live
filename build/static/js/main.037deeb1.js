/*! For license information please see main.037deeb1.js.LICENSE.txt */
(()=>{var e={532:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:(e,t,n)=>{"use strict";n(532)},262:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},110:(e,t,n)=>{"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=_},309:(e,t,n)=>{"use strict";e.exports=n(746)},102:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async=!("async"in r)||!!r.async,s.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(s,r.attrs),r.text&&(s.text=""+r.text),("onload"in s?t:n)(s,i),s.onload||t(s,i),o.appendChild(s)}},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function j(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ie=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Ie)&&(Ae(),xe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ve=!1,ze=null,Ue={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,It,kt,Tt=!1,xt=[],Ct=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Pt.forEach(zt),Rt.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return jt(t,e)}if(0<xt.length){jt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),null!==Nt&&jt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return In}var Tn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Tn),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ir={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=kr("animationend"),xr=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(xr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(je.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,Ve||(Ve=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(Ve)throw e=ze,Ve=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case xr:case Cr:l=yn;break;case Ar:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Xn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=jn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Vr(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Re(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,o))&&s.unshift(Kr(n,l,a)):i||null!=(l=Re(n,o))&&s.push(Kr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function Ii(e){return{current:e}}function ki(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var xi={},Ci=Ii(xi),Ai=Ii(!1),Ni=xi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ai),ki(Ci)}function Di(e,t,n){if(Ci.current!==xi)throw Error(o(168));Ti(Ci,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ni=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),Ti(Ci,e)):ki(Ai),Ti(Ai,n)}var Vi=null,zi=!1,Ui=!1;function ji(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,zi=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Xi=o+e}else $i=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Ii(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function Eo(e){var t=vo.current;ki(vo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function Co(e){null===xo?xo=[e]:xo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Po=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function jo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ri(t)?Ni:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ri(t)?Ni:Ci.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=Mc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return a(r);case R:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Vc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=$o(!0),Jo=$o(!1),Zo={},es=Ii(Zo),ts=Ii(Zo),ns=Ii(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ti(ns,t),Ti(ts,e),Ti(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ti(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ti(ts,e),Ti(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Ii(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,ys=null,vs=!1,bs=!1,ws=0,_s=0;function Ss(){throw Error(o(321))}function Es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,ys=gs=ms=null,vs=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function xs(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function Cs(e,t){return"function"===typeof t?t(e):t}function As(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function Rs(e,t){var n=ms,r=xs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ws(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,zs(9,Ds.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&ps)||Os(n,t,i)}return i}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=No(e,1);null!==t&&rc(t,e,1,-1)}function Vs(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return xs().memoizedState}function js(e,t,n,r){var i=Ts();ms.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Es(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}ms.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function qs(e,t){return js(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Ks(e,t){return Bs(4,2,e,t)}function Hs(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function $s(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return xs().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ao(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ao(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var sa={readContext:To,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:To,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:Vs,useDebugValue:Ys,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=Vs(!1),t=e[0];return e=Zs.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Ts();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&ps)||Os(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ls.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Nl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:To,useCallback:$s,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Ks,useLayoutEffect:Hs,useMemo:Xs,useReducer:As,useRef:Us,useState:function(){return As(Cs)},useDebugValue:Ys,useDeferredValue:function(e){return Js(xs(),gs.memoizedState,e)},useTransition:function(){return[As(Cs)[0],xs().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Rs,useId:ea,unstable_isNewReconciler:!1},ca={readContext:To,useCallback:$s,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Ks,useLayoutEffect:Hs,useMemo:Xs,useReducer:Ns,useRef:Us,useState:function(){return Ns(Cs)},useDebugValue:Ys,useDeferredValue:function(e){var t=xs();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ns(Cs)[0],xs().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Rs,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Hl=r),ha(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Is(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return xa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Dl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Ol),Ol|=r;return _a(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=Ri(n)?Ni:Ci.current;return o=Pi(t,o),ko(t,i),n=Is(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Pi(t,c=Ri(n)?Ni:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ko(t,s,r,c),Po=!1;var h=t.memoizedState;s.state=h,Vo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ai.current||Po?("function"===typeof u&&(jo(t,n,u,r),l=t.memoizedState),(a=Po||qo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Pi(t,l=Ri(n)?Ni:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ko(t,s,r,l),Po=!1,h=t.memoizedState,s.state=h,Vo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ai.current||Po?("function"===typeof f&&(jo(t,n,f,r),p=t.memoizedState),(c=Po||qo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,o,i)}function Aa(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ka(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Ra,Oa,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Va(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),rc(r,e,i,-1))}return gc(),Ua(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ja(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ja(e,n,t);else if(19===e.tag)ja(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Ai),ki(Ci),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Oa(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":H(r),Z(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Eo(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Xe()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ti(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ai),ki(Ci),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,gl(t,e),Xa=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Za=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=$a;var c=Xa;if($a=s,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?El(i):null!==l?(l.return=s,Za=l):El(i);for(;null!==o;)Za=o,wl(o,t,n),o=o.sibling;Za=i,$a=a,Xa=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Il,kl=Math.ceil,Tl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Al=0,Nl=null,Pl=null,Rl=0,Ol=0,Dl=Ii(0),Ll=0,Ml=null,Fl=0,Vl=0,zl=0,Ul=null,jl=null,Bl=0,ql=1/0,Wl=null,Kl=!1,Hl=null,Gl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Al)&&e===Nl||(e===Nl&&(0===(2&Al)&&(Vl|=n),4===Ll&&lc(e,Rl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Xe()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Nl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),si((function(){0===(6&Al)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Al;Al|=2;var s=mc();for(Nl===e&&Rl===t||(Wl=null,ql=Xe()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),Tl.current=s,Al=i,null!==Pl?t=0:(Nl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,jl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,jl,Wl),t);break}Sc(e,jl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,jl,Wl),r);break}Sc(e,jl,Wl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=jl,jl=n,null!==t&&ac(t)),e}function ac(e){null===jl?jl=e:jl.push.apply(jl,e)}function lc(e,t){for(t&=~zl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,jl,Wl),ic(e,Xe()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Xe()+500,zi&&Bi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Al=t))&&Bi()}}function hc(){Ol=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:os(),ki(Ai),ki(Ci),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:Eo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Pl=e=Dc(e.current,null),Rl=Ol=t,Ll=0,Ml=null,zl=Vl=Fl=0,jl=Ul=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}xo=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(So(),hs.current=sa,vs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(ps=0,ys=gs=ms=null,bs=!1,ws=0,xl.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=sa,null===e?sa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&Fl)&&0===(268435455&Vl)||lc(Nl,Rl)}function yc(e,t){var n=Al;Al|=2;var r=mc();for(Nl===e&&Rl===t||(Wl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(So(),Al=n,Tl.current=r,null!==Pl)throw Error(o(261));return Nl=null,Rl=0,Ll}function vc(){for(;null!==Pl;)wc(Pl)}function bc(){for(;null!==Pl&&!Ye();)wc(Pl)}function wc(e){var t=Il(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,xl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nl&&(Pl=Nl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,xl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Al=l,bt=a,Cl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Ec(){if(null!==Yl){var e=wt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(sl(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Za=v;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Al=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ic(e,t,n){e=Lo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Lo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Xe()-Bl?fc(e,0):zl|=n),ic(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=No(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xc(e,n)}function Nc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Mc(n.children,i,s,t);case I:a=8,i|=8;break;case k:return(e=Rc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=s,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=s,e;case O:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case x:a=9;break e;case C:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Bc(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,l){return(e=jc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(rc(e,i,s,o),Mo(e,i,s)),s}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:ss(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(Ti(ls,1&ls.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ti(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ka(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);ko(t,n),i=Is(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=yo(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Oo(e,t),Vo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ta(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Va(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(vo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Do(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=To(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ea(e,t,r,i=yo(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Wa(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Wo(t,r,i),Ho(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Kc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kc(l);a.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(s)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Al)&&(ql=Xe()+500,Bi()))}break;case 13:dc((function(){var t=No(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=No(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Te,xe,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,k=null,T=-1,x=5,C=-1;function A(){return!(t.unstable_now()-C<x)}function N(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?E():(I=!1,k=null)}}else I=!1}if("function"===typeof b)E=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,E=function(){R.postMessage(null)}}else E=function(){y(N,0)};function O(e){k=e,I||(I=!0,E())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},542:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(439),o=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(788)),i=a(n(506)),o=a(n(626)),s=a(n(364));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){l('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,s=void 0;try{for(var a,c=o.default[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){n(a.value)}}catch(u){i=!0,s=u}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&s.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){var t=s.default[r],i=e.getPlayerState(),o=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var i=e.getPlayerState(),o=void 0;"number"===typeof t.timeout&&(o=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(o),n())}))})).then((function(){return o})):o}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){return e[r].apply(e,n)}))}},o=!0,a=!1,l=void 0;try{for(var c,u=i.default[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){r(c.value)}}catch(d){a=!0,l=d}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}return n}};t.default=c,e.exports=t.default},439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},71:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(n(542)),o=a(n(642)),s=a(n(698));function a(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,i.default)();if(l||(l=(0,o.default)(a)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=s.default.proxyEvents(a);var c=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):l.then((function(r){var i=new r.Player(e,t);return a.on("ready",(function(){n(i)})),null}))})),u=s.default.promisifyPlayer(c,n);return u.on=a.on,u.off=a.off,u},e.exports=t.default},642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(102),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,o.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},788:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(572)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},572:(e,t,n)=>{var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var o=s[l];n=i.call(e,o),s.splice(l,1),l--}return n})),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(426),t.names=[],t.skips=[],t.formatters={}},426:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,a){a=a||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!s)return;var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return a.long?s(l=e,i,"day")||s(l,r,"hour")||s(l,n,"minute")||s(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>$l,SDK_VERSION:()=>eu,_DEFAULT_ENTRY_NAME:()=>Bc,_addComponent:()=>Hc,_addOrOverwriteComponent:()=>Gc,_apps:()=>Wc,_clearComponents:()=>Xc,_components:()=>Kc,_getProvider:()=>Yc,_registerComponent:()=>Qc,_removeServiceInstance:()=>$c,deleteApp:()=>iu,getApp:()=>nu,getApps:()=>ru,initializeApp:()=>tu,onLog:()=>su,registerVersion:()=>ou,setLogLevel:()=>au});var t=n(791),r=n.t(t,2),i=n(250);function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const l=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r};function c(e,t){const n=s({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=s({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=s({},o),Object.keys(i).forEach((e=>{n[r][e]=c(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function d(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function f(e){if(e.type)return e;if("#"===e.charAt(0))return f(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(d(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(d(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function p(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function m(e){let t="hsl"===(e=f(e)).type||"hsla"===e.type?f(function(e){e=f(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),p({type:a,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function g(e,t){return e=f(e),t=h(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,p(e)}function y(e,t){if(e=f(e),t=h(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return p(e)}function v(e,t){if(e=f(e),t=h(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return p(e)}function b(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var w=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_=b((function(e){return w.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var S=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),E=Math.abs,I=String.fromCharCode,k=Object.assign;function T(e){return e.trim()}function x(e,t,n){return e.replace(t,n)}function C(e,t){return e.indexOf(t)}function A(e,t){return 0|e.charCodeAt(t)}function N(e,t,n){return e.slice(t,n)}function P(e){return e.length}function R(e){return e.length}function O(e,t){return t.push(e),e}var D=1,L=1,M=0,F=0,V=0,z="";function U(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:D,column:L,length:s,return:""}}function j(e,t){return k(U("",null,null,"",null,null,0),e,{length:-e.length},t)}function B(){return V=F>0?A(z,--F):0,L--,10===V&&(L=1,D--),V}function q(){return V=F<M?A(z,F++):0,L++,10===V&&(L=1,D++),V}function W(){return A(z,F)}function K(){return F}function H(e,t){return N(z,e,t)}function G(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q(e){return D=L=1,M=P(z=e),F=0,[]}function Y(e){return z="",e}function $(e){return T(H(F-1,Z(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(V=W())&&V<33;)q();return G(e)>2||G(V)>3?"":" "}function J(e,t){for(;--t&&q()&&!(V<48||V>102||V>57&&V<65||V>70&&V<97););return H(e,K()+(t<6&&32==W()&&32==q()))}function Z(e){for(;q();)switch(V){case e:return F;case 34:case 39:34!==e&&39!==e&&Z(V);break;case 40:41===e&&Z(e);break;case 92:q()}return F}function ee(e,t){for(;q()&&e+V!==57&&(e+V!==84||47!==W()););return"/*"+H(t,F-1)+"*"+I(47===e?e:q())}function te(e){for(;!G(W());)q();return H(e,F)}var ne="-ms-",re="-moz-",ie="-webkit-",oe="comm",se="rule",ae="decl",le="@keyframes";function ce(e,t){for(var n="",r=R(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ue(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ae:return e.return=e.return||e.value;case oe:return"";case le:return e.return=e.value+"{"+ce(e.children,r)+"}";case se:e.value=e.props.join(",")}return P(n=ce(e.children,r))?e.return=e.value+"{"+n+"}":""}function de(e){return Y(he("",null,null,null,[""],e=Q(e),0,[0],e))}function he(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",w=i,_=o,S=r,E=b;g;)switch(p=v,v=q()){case 40:if(108!=p&&58==A(E,d-1)){-1!=C(E+=x($(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=$(v);break;case 9:case 10:case 13:case 32:E+=X(p);break;case 92:E+=J(K()-1,7);continue;case 47:switch(W()){case 42:case 47:O(pe(ee(q(),K()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=P(E)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(E=x(E,/\f/g,"")),f>0&&P(E)-d&&O(f>32?me(E+";",r,n,d-1):me(x(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(O(S=fe(E,t,n,c,u,i,a,b,w=[],_=[],d),o),123===v)if(0===u)he(E,t,S,S,w,o,d,a,_);else switch(99===h&&110===A(E,3)?100:h){case 100:case 108:case 109:case 115:he(e,S,S,r&&O(fe(e,S,S,0,0,i,a,b,i,w=[],d),_),i,_,d,a,r?w:_);break;default:he(E,S,S,S,[""],_,0,a,_)}}c=u=f=0,m=y=1,b=E="",d=s;break;case 58:d=1+P(E),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==B())continue;switch(E+=I(v),v*m){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(P(E)-1)*y,y=1;break;case 64:45===W()&&(E+=$(q())),h=W(),u=d=P(b=E+=te(K())),v++;break;case 45:45===p&&2==P(E)&&(m=0)}}return o}function fe(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],f=R(h),p=0,m=0,g=0;p<r;++p)for(var y=0,v=N(e,d+1,d=E(m=s[p])),b=e;y<f;++y)(b=T(m>0?h[y]+" "+v:x(v,/&\f/g,h[y])))&&(l[g++]=b);return U(e,t,n,0===i?se:a,l,c,u)}function pe(e,t,n){return U(e,t,n,oe,I(V),N(e,2,-2),0)}function me(e,t,n,r){return U(e,t,n,ae,N(e,0,r),N(e,r+1,-1),r)}var ge=function(e,t,n){for(var r=0,i=0;r=i,i=W(),38===r&&12===i&&(t[n]=1),!G(i);)q();return H(e,F)},ye=function(e,t){return Y(function(e,t){var n=-1,r=44;do{switch(G(r)){case 0:38===r&&12===W()&&(t[n]=1),e[n]+=ge(F-1,t,n);break;case 2:e[n]+=$(r);break;case 4:if(44===r){e[++n]=58===W()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=I(r)}}while(r=q());return e}(Q(e),t))},ve=new WeakMap,be=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ve.get(n))&&!r){ve.set(e,!0);for(var i=[],o=ye(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},we=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function _e(e,t){switch(function(e,t){return 45^A(e,0)?(((t<<2^A(e,0))<<2^A(e,1))<<2^A(e,2))<<2^A(e,3):0}(e,t)){case 5103:return ie+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+e+re+e+ne+e+e;case 6828:case 4268:return ie+e+ne+e+e;case 6165:return ie+e+ne+"flex-"+e+e;case 5187:return ie+e+x(e,/(\w+).+(:[^]+)/,ie+"box-$1$2"+ne+"flex-$1$2")+e;case 5443:return ie+e+ne+"flex-item-"+x(e,/flex-|-self/,"")+e;case 4675:return ie+e+ne+"flex-line-pack"+x(e,/align-content|flex-|-self/,"")+e;case 5548:return ie+e+ne+x(e,"shrink","negative")+e;case 5292:return ie+e+ne+x(e,"basis","preferred-size")+e;case 6060:return ie+"box-"+x(e,"-grow","")+ie+e+ne+x(e,"grow","positive")+e;case 4554:return ie+x(e,/([^-])(transform)/g,"$1"+ie+"$2")+e;case 6187:return x(x(x(e,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),e,"")+e;case 5495:case 3959:return x(e,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return x(x(e,/(.+:)(flex-)?(.*)/,ie+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+e+e;case 4095:case 3583:case 4068:case 2532:return x(e,/(.+)-inline(.+)/,ie+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(e)-1-t>6)switch(A(e,t+1)){case 109:if(45!==A(e,t+4))break;case 102:return x(e,/(.+:)(.+)-([^]+)/,"$1"+ie+"$2-$3$1"+re+(108==A(e,t+3)?"$3":"$2-$3"))+e;case 115:return~C(e,"stretch")?_e(x(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==A(e,t+1))break;case 6444:switch(A(e,P(e)-3-(~C(e,"!important")&&10))){case 107:return x(e,":",":"+ie)+e;case 101:return x(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ie+(45===A(e,14)?"inline-":"")+"box$3$1"+ie+"$2$3$1"+ne+"$2box$3")+e}break;case 5936:switch(A(e,t+11)){case 114:return ie+e+ne+x(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ie+e+ne+x(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ie+e+ne+x(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ie+e+ne+e+e}return e}var Se=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ae:e.return=_e(e.value,e.length);break;case le:return ce([j(e,{value:x(e.value,"@","@"+ie)})],r);case se:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ce([j(e,{props:[x(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ce([j(e,{props:[x(t,/:(plac\w+)/,":"+ie+"input-$1")]}),j(e,{props:[x(t,/:(plac\w+)/,":-moz-$1")]}),j(e,{props:[x(t,/:(plac\w+)/,ne+"input-$1")]})],r)}return""}))}}],Ee=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Se;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u=[ue,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=R(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([be,we].concat(r,u));o=function(e,t,n,r){l=n,function(e){ce(de(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new S({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return h.sheet.hydrate(a),h};var Ie={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ke=/[A-Z]|^ms/g,Te=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xe=function(e){return 45===e.charCodeAt(1)},Ce=function(e){return null!=e&&"boolean"!==typeof e},Ae=b((function(e){return xe(e)?e:e.replace(ke,"-$&").toLowerCase()})),Ne=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Te,(function(e,t,n){return Re={name:t,styles:n,next:Re},t}))}return 1===Ie[e]||xe(e)||"number"!==typeof t||0===t?t:t+"px"};function Pe(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Re={name:n.name,styles:n.styles,next:Re},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Re={name:r.name,styles:r.styles,next:Re},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Pe(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":Ce(s)&&(r+=Ae(o)+":"+Ne(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=Pe(e,t,s);switch(o){case"animation":case"animationName":r+=Ae(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)Ce(s[l])&&(r+=Ae(o)+":"+Ne(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Re,o=n(e);return Re=i,Pe(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var Re,Oe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var De=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Re=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Pe(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Pe(n,t,e[s]),r&&(i+=o[s]);Oe.lastIndex=0;for(var a,l="";null!==(a=Oe.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Re}},Le=!!r.useInsertionEffect&&r.useInsertionEffect,Me=Le||function(e){return e()},Fe=Le||t.useLayoutEffect,Ve=t.createContext("undefined"!==typeof HTMLElement?Ee({key:"css"}):null);Ve.Provider;var ze=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Ve);return e(n,i,r)}))};var Ue=t.createContext({});var je=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Be=function(e,t,n){je(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},qe=_,We=function(e){return"theme"!==e},Ke=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?qe:We},He=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Ge=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return je(t,n,r),Me((function(){return Be(t,n,r)})),null},Qe=function e(n,r){var i,o,a=n.__emotion_real===n,l=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var c=He(n,r,a),u=c||Ke(l),d=!u("as");return function(){var h=arguments,f=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&f.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)f.push.apply(f,h);else{0,f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var g=ze((function(e,n,r){var i=d&&e.as||l,s="",a=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=t.useContext(Ue)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var m=De(f.concat(a),n.registered,h);s+=n.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=d&&void 0===c?Ke(i):u,y={};for(var v in e)d&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=s,y.ref=r,t.createElement(t.Fragment,null,t.createElement(Ge,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=l,g.__emotion_styles=f,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,n){return e(t,s({},r,n,{shouldForwardProp:He(g,n,!0)})).apply(void 0,f)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Qe[e]=Qe(e)}));function Ye(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function $e(e){if(!Ye(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=$e(e[n])})),t}function Xe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?s({},e):e;return Ye(e)&&Ye(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(Ye(t[i])&&i in e&&Ye(e[i])?r[i]=Xe(e[i],t[i],n):n.clone?r[i]=Ye(t[i])?$e(t[i]):t[i]:r[i]=t[i])})),r}const Je=["values","unit","step"],Ze=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>s({},e,{[t.key]:t.val})),{})};const et={borderRadius:4},tt={xs:0,sm:600,md:900,lg:1200,xl:1536},nt={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(tt[e],"px)")};function rt(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||nt;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||nt;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||tt).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function ot(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function st(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}function at(e){if("string"!==typeof e)throw new Error(d(7));return e.charAt(0).toUpperCase()+e.slice(1)}function lt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function ct(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:lt(e,n)||i,t&&(r=t(r,i,e)),r}const ut=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=lt(e.theme,r)||{};return rt(e,o,(e=>{let r=ct(s,i,e);return e===r&&"string"===typeof e&&(r=ct(s,i,"".concat(t).concat("default"===e?"":at(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const dt=function(e,t){return t?Xe(e,t,{clone:!1}):e};const ht={m:"margin",p:"padding"},ft={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mt=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!pt[e])return[e];e=pt[e]}const[t,n]=e.split(""),r=ht[t],i=ft[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),gt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],yt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],vt=[...gt,...yt];function bt(e,t,n,r){var i;const o=null!=(i=lt(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function wt(e){return bt(e,"spacing",8)}function _t(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function St(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=_t(t,n),e)),{})}(mt(n),r);return rt(e,e[n],i)}function Et(e,t){const n=wt(e.theme);return Object.keys(e).map((r=>St(e,t,r,n))).reduce(dt,{})}function It(e){return Et(e,gt)}function kt(e){return Et(e,yt)}function Tt(e){return Et(e,vt)}It.propTypes={},It.filterProps=gt,kt.propTypes={},kt.filterProps=yt,Tt.propTypes={},Tt.filterProps=vt;const xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?dt(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function Ct(e){return"number"!==typeof e?e:"".concat(e,"px solid")}const At=ut({prop:"border",themeKey:"borders",transform:Ct}),Nt=ut({prop:"borderTop",themeKey:"borders",transform:Ct}),Pt=ut({prop:"borderRight",themeKey:"borders",transform:Ct}),Rt=ut({prop:"borderBottom",themeKey:"borders",transform:Ct}),Ot=ut({prop:"borderLeft",themeKey:"borders",transform:Ct}),Dt=ut({prop:"borderColor",themeKey:"palette"}),Lt=ut({prop:"borderTopColor",themeKey:"palette"}),Mt=ut({prop:"borderRightColor",themeKey:"palette"}),Ft=ut({prop:"borderBottomColor",themeKey:"palette"}),Vt=ut({prop:"borderLeftColor",themeKey:"palette"}),zt=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=bt(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:_t(t,e)});return rt(e,e.borderRadius,n)}return null};zt.propTypes={},zt.filterProps=["borderRadius"];xt(At,Nt,Pt,Rt,Ot,Dt,Lt,Mt,Ft,Vt,zt);const Ut=e=>{if(void 0!==e.gap&&null!==e.gap){const t=bt(e.theme,"spacing",8),n=e=>({gap:_t(t,e)});return rt(e,e.gap,n)}return null};Ut.propTypes={},Ut.filterProps=["gap"];const jt=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=bt(e.theme,"spacing",8),n=e=>({columnGap:_t(t,e)});return rt(e,e.columnGap,n)}return null};jt.propTypes={},jt.filterProps=["columnGap"];const Bt=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=bt(e.theme,"spacing",8),n=e=>({rowGap:_t(t,e)});return rt(e,e.rowGap,n)}return null};Bt.propTypes={},Bt.filterProps=["rowGap"];xt(Ut,jt,Bt,ut({prop:"gridColumn"}),ut({prop:"gridRow"}),ut({prop:"gridAutoFlow"}),ut({prop:"gridAutoColumns"}),ut({prop:"gridAutoRows"}),ut({prop:"gridTemplateColumns"}),ut({prop:"gridTemplateRows"}),ut({prop:"gridTemplateAreas"}),ut({prop:"gridArea"}));function qt(e,t){return"grey"===t?t:e}xt(ut({prop:"color",themeKey:"palette",transform:qt}),ut({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qt}),ut({prop:"backgroundColor",themeKey:"palette",transform:qt}));function Wt(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Kt=ut({prop:"width",transform:Wt}),Ht=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||tt[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:Wt(t)}};return rt(e,e.maxWidth,t)}return null};Ht.filterProps=["maxWidth"];const Gt=ut({prop:"minWidth",transform:Wt}),Qt=ut({prop:"height",transform:Wt}),Yt=ut({prop:"maxHeight",transform:Wt}),$t=ut({prop:"minHeight",transform:Wt}),Xt=(ut({prop:"size",cssProperty:"width",transform:Wt}),ut({prop:"size",cssProperty:"height",transform:Wt}),xt(Kt,Ht,Gt,Qt,Yt,$t,ut({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Ct},borderTop:{themeKey:"borders",transform:Ct},borderRight:{themeKey:"borders",transform:Ct},borderBottom:{themeKey:"borders",transform:Ct},borderLeft:{themeKey:"borders",transform:Ct},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zt},color:{themeKey:"palette",transform:qt},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qt},backgroundColor:{themeKey:"palette",transform:qt},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:It},mt:{style:It},mr:{style:It},mb:{style:It},ml:{style:It},mx:{style:It},my:{style:It},margin:{style:It},marginTop:{style:It},marginRight:{style:It},marginBottom:{style:It},marginLeft:{style:It},marginX:{style:It},marginY:{style:It},marginInline:{style:It},marginInlineStart:{style:It},marginInlineEnd:{style:It},marginBlock:{style:It},marginBlockStart:{style:It},marginBlockEnd:{style:It},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ut},rowGap:{style:Bt},columnGap:{style:jt},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wt},maxWidth:{style:Ht},minWidth:{transform:Wt},height:{transform:Wt},maxHeight:{transform:Wt},minHeight:{transform:Wt},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Jt=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=lt(n,a)||{};if(c)return c(i);return rt(i,t,(t=>{let n=ct(u,l,t);return t===n&&"string"===typeof t&&(n=ct(u,l,"".concat(e).concat("default"===t?"":at(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!=(r=o.unstable_sxConfig)?r:Xt;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=it(o.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],c=o,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])l=dt(l,e(n,i,o,s));else{const e=rt({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=dt(l,e):l[n]=t({sx:i,theme:o})}else l=dt(l,e(n,i,o,s))})),ot(a,l)}return Array.isArray(i)?i.map(a):a(i)}}();Jt.filterProps=["sx"];const Zt=Jt,en=["breakpoints","palette","spacing","shape"];const tn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,a=o(e,en),l=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=o(e,Je),a=Ze(t),l=Object.keys(a);function c(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function u(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function d(e,i){const o=l.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[l[o]]?t[l[o]]:i)-r/100).concat(n,")")}return s({keys:l,values:a,up:c,down:u,between:d,only:function(e){return l.indexOf(e)+1<l.length?d(e,l[l.indexOf(e)+1]):c(e)},not:function(e){const t=l.indexOf(e);return 0===t?c(l[1]):t===l.length-1?u(l[t]):d(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=wt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let u=Xe({breakpoints:l,direction:"ltr",components:{},palette:s({mode:"light"},n),spacing:c,shape:s({},et,i)},a);for(var d=arguments.length,h=new Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return u=h.reduce(((e,t)=>Xe(e,t)),u),u.unstable_sxConfig=s({},Xt,null==a?void 0:a.unstable_sxConfig),u.unstable_sx=function(e){return Zt({sx:e,theme:this})},u},nn=["variant"];function rn(e){return 0===e.length}function on(e){const{variant:t}=e,n=o(e,nn);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?rn(r)?e[t]:at(e[t]):"".concat(rn(r)?t:at(t)).concat(at(e[t].toString()))})),r}const sn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const an=e=>{const t={};return e&&e.forEach((e=>{const n=on(e.props);t[n]=e.style})),t},ln=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&i.push(t[on(n.props)])})),i};function cn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const un=tn(),dn=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function hn(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function fn(e){return e?(t,n)=>n[e]:null}const pn=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const o=t(s({},n,{theme:hn(s({},n,{defaultTheme:r,themeId:i}))}));let a;if(o&&o.variants&&(a=o.variants,delete o.variants),a){return[o,...ln(n,an(a),a)]}return o};function mn(e,t){return s({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const gn={black:"#000",white:"#fff"},yn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},vn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},bn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Sn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},En={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},In=["mode","contrastThreshold","tonalOffset"],kn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gn.white,default:gn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Tn={text:{primary:gn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function xn(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=v(e.main,i):"dark"===t&&(e.dark=y(e.main,o)))}function Cn(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=o(e,In),a=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_n[200],light:_n[50],dark:_n[400]}:{main:_n[700],light:_n[400],dark:_n[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:vn[200],light:vn[50],dark:vn[400]}:{main:vn[500],light:vn[300],dark:vn[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bn[500],light:bn[300],dark:bn[700]}:{main:bn[700],light:bn[400],dark:bn[800]}}(t),u=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Sn[400],light:Sn[300],dark:Sn[700]}:{main:Sn[700],light:Sn[500],dark:Sn[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:En[400],light:En[300],dark:En[700]}:{main:En[800],light:En[500],dark:En[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wn[400],light:wn[300],dark:wn[700]}:{main:"#ed6c02",light:wn[500],dark:wn[900]}}(t);function p(e){const t=function(e,t){const n=m(e),r=m(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Tn.text.primary)>=n?Tn.text.primary:kn.text.primary;return t}const g=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t=s({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(d(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(d(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return xn(t,"light",o,r),xn(t,"dark",a,r),t.contrastText||(t.contrastText=p(t.main)),t},y={dark:Tn,light:kn};return Xe(s({common:s({},gn),mode:t,primary:g({color:a,name:"primary"}),secondary:g({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:c,name:"error"}),warning:g({color:f,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:h,name:"success"}),grey:yn,contrastThreshold:n,getContrastText:p,augmentColor:g,tonalOffset:r},y[t]),i)}const An=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Nn={textTransform:"uppercase"},Pn='"Roboto", "Helvetica", "Arial", sans-serif';function Rn(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=Pn,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:f}=n,p=o(n,An);const m=i/14,g=f||(e=>"".concat(e/d*m,"rem")),y=(e,t,n,i,o)=>{return s({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===Pn?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},o,h);var a},v={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(l,48,1.167,0),h4:y(l,34,1.235,.25),h5:y(l,24,1.334,0),h6:y(c,20,1.6,.15),subtitle1:y(l,16,1.75,.15),subtitle2:y(c,14,1.57,.1),body1:y(l,16,1.5,.15),body2:y(l,14,1.43,.15),button:y(c,14,1.75,.4,Nn),caption:y(l,12,1.66,.4),overline:y(l,12,2.66,1,Nn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Xe(s({htmlFontSize:d,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:u},v),p,{clone:!1})}function On(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Dn=["none",On(0,2,1,-1,0,1,1,0,0,1,3,0),On(0,3,1,-2,0,2,2,0,0,1,5,0),On(0,3,3,-2,0,3,4,0,0,1,8,0),On(0,2,4,-1,0,4,5,0,0,1,10,0),On(0,3,5,-1,0,5,8,0,0,1,14,0),On(0,3,5,-1,0,6,10,0,0,1,18,0),On(0,4,5,-2,0,7,10,1,0,2,16,1),On(0,5,5,-3,0,8,10,1,0,3,14,2),On(0,5,6,-3,0,9,12,1,0,3,16,2),On(0,6,6,-3,0,10,14,1,0,4,18,3),On(0,6,7,-4,0,11,15,1,0,4,20,3),On(0,7,8,-4,0,12,17,2,0,5,22,4),On(0,7,8,-4,0,13,19,2,0,5,24,4),On(0,7,9,-4,0,14,21,2,0,5,26,4),On(0,8,9,-5,0,15,22,2,0,6,28,5),On(0,8,10,-5,0,16,24,2,0,6,30,5),On(0,8,11,-5,0,17,26,2,0,6,32,5),On(0,9,11,-5,0,18,28,2,0,7,34,6),On(0,9,12,-6,0,19,29,2,0,7,36,6),On(0,10,13,-6,0,20,31,3,0,8,38,7),On(0,10,13,-6,0,21,33,3,0,8,40,7),On(0,10,14,-6,0,22,35,3,0,8,42,7),On(0,11,14,-7,0,23,36,3,0,9,44,8),On(0,11,15,-7,0,24,38,3,0,9,46,8)],Ln=["duration","easing","delay"],Mn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Fn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Vn(e){return"".concat(Math.round(e),"ms")}function zn(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Un(e){const t=s({},Mn,e.easing),n=s({},Fn,e.duration);return s({getAutoHeightDuration:zn,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:a=0}=r;o(r,Ln);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:Vn(i)," ").concat(s," ").concat("string"===typeof a?a:Vn(a)))).join(",")}},e,{easing:t,duration:n})}const jn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Bn=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,a=o(e,Bn);if(e.vars)throw new Error(d(18));const l=Cn(n),c=tn(e);let u=Xe(c,{mixins:mn(c.breakpoints,t),palette:l,shadows:Dn.slice(),typography:Rn(l,i),transitions:Un(r),zIndex:s({},jn)});u=Xe(u,a);for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return u=f.reduce(((e,t)=>Xe(e,t)),u),u.unstable_sxConfig=s({},Xt,null==a?void 0:a.unstable_sxConfig),u.unstable_sx=function(e){return Zt({sx:e,theme:this})},u}const Wn=qn(),Kn="$$material",Hn=e=>cn(e)&&"classes"!==e,Gn=cn,Qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=un,rootShouldForwardProp:r=cn,slotShouldForwardProp:i=cn}=e,a=e=>Zt(s({},e,{theme:hn(s({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:f=fn(dn(u))}=l,p=o(l,sn),m=void 0!==d?d:u&&"Root"!==u&&"root"!==u||!1,g=h||!1;let y=cn;"Root"===u||"root"===u?y=r:u?y=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(y=void 0);const v=function(e,t){return Qe(e,t)}(e,s({shouldForwardProp:y,label:undefined},p)),b=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];const u=o?o.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>pn({styledArg:e,props:r,defaultTheme:n,themeId:t});if(Ye(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return ln(n,an(t),t).forEach((e=>{r=Xe(r,e)})),r}),n}return e})):[];let d=r;if(Ye(r)){let e;r&&r.variants&&(e=r.variants,delete d.variants,d=t=>{let n=r;return ln(t,an(e),e).forEach((e=>{n=Xe(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(d=e=>pn({styledArg:r,props:e,defaultTheme:n,themeId:t}));c&&f&&u.push((e=>{const r=hn(s({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(c,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,o]=n;t[i]="function"===typeof o?o(s({},e,{theme:r})):o})),f(e,t)}return null})),c&&!m&&u.push((e=>{const r=hn(s({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return ln(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),an(n)})(c,r),r,c)})),g||u.push(a);const h=u.length-o.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");d=[...r,...e],d.raw=[...r.raw,...e]}const p=v(d,...u);return e.muiName&&(p.muiName=e.muiName),p};return v.withConfig&&(b.withConfig=v.withConfig),b}}({themeId:Kn,defaultTheme:Wn,rootShouldForwardProp:Hn}),Yn=Qn;const $n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Ue);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},Xn=tn();const Jn=function(){return $n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn)};function Zn(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=Jn(r);i&&(o=o[i]||o);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?c(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return s}function er(e){let{props:t,name:n}=e;return Zn({props:t,name:n,defaultTheme:Wn,themeId:Kn})}function tr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function nr(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{tr(t,e)}))}),n)}const rr=nr,ir="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const or=function(e){const n=t.useRef(e);return ir((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},sr=or;let ar,lr=!0,cr=!1;const ur={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function dr(e){e.metaKey||e.altKey||e.ctrlKey||(lr=!0)}function hr(){lr=!1}function fr(){"hidden"===this.visibilityState&&cr&&(lr=!0)}function pr(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return lr||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!ur[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const mr=function(){const e=t.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",dr,!0),e.addEventListener("mousedown",hr,!0),e.addEventListener("pointerdown",hr,!0),e.addEventListener("touchstart",hr,!0),e.addEventListener("visibilitychange",fr,!0)}(e.ownerDocument)}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!pr(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(cr=!0,window.clearTimeout(ar),ar=window.setTimeout((()=>{cr=!1}),100),n.current=!1,!0)},ref:e}};function gr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function yr(e,t){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yr(e,t)}function vr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yr(e,t)}const br=t.createContext(null);function wr(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function _r(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Sr(e,n,r){var i=wr(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:_r(a,"exit",e),enter:_r(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:_r(a,"exit",e),enter:_r(a,"enter",e)})}})),o}var Er=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ir=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}vr(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,wr(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:_r(e,"appear",r),enter:_r(e,"enter",r),exit:_r(e,"exit",r)})}))):Sr(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=wr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=o(e,["component","childFactory"]),s=this.state.contextValue,a=Er(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(br.Provider,{value:s},a):t.createElement(br.Provider,{value:s},t.createElement(n,i,a))},n}(t.Component);Ir.propTypes={},Ir.defaultProps={component:"div",childFactory:function(e){return e}};const kr=Ir;n(110);var Tr=ze((function(e,n){var r=e.styles,i=De([r],void 0,t.useContext(Ue)),o=t.useRef();return Fe((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),t.hydrate([s])),o.current=[t,r],function(){t.flush()}}),[n]),Fe((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Be(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return De(t)}var Cr=function(){var e=xr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ar=n(184);const Nr=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:c,onExited:u,timeout:d}=e,[h,f]=t.useState(!1),p=l(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),m={width:a,height:a,top:-a/2+s,left:-a/2+o},g=l(r.child,h&&r.childLeaving,i&&r.childPulsate);return c||h||f(!0),t.useEffect((()=>{if(!c&&null!=u){const e=setTimeout(u,d);return()=>{clearTimeout(e)}}}),[u,c,d]),(0,Ar.jsx)("span",{className:p,style:m,children:(0,Ar.jsx)("span",{className:g})})},Pr=e=>e,Rr=(()=>{let e=Pr;return{configure(t){e=t},generate:t=>e(t),reset(){e=Pr}}})(),Or={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Dr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=Or[t];return r?"".concat(n,"-").concat(r):"".concat(Rr.generate(e),"-").concat(t)}function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Dr(e,t,n)})),r}const Mr=Lr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Fr,Vr,zr,Ur;const jr=["center","classes","className"];let Br,qr,Wr,Kr;const Hr=Cr(Br||(Br=Fr||(Fr=gr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Gr=Cr(qr||(qr=Vr||(Vr=gr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Qr=Cr(Wr||(Wr=zr||(zr=gr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Yr=Yn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$r=Yn(Nr,{name:"MuiTouchRipple",slot:"Ripple"})(Kr||(Kr=Ur||(Ur=gr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Mr.rippleVisible,Hr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Mr.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Mr.child,Mr.childLeaving,Gr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Mr.childPulsate,Qr,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Xr=t.forwardRef((function(e,n){const r=er({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:c}=r,u=o(r,jr),[d,h]=t.useState([]),f=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[d]);const m=t.useRef(!1),g=t.useRef(0),y=t.useRef(null),v=t.useRef(null);t.useEffect((()=>()=>{g.current&&clearTimeout(g.current)}),[]);const b=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:o}=e;h((e=>[...e,(0,Ar.jsx)($r,{classes:{ripple:l(a.ripple,Mr.ripple),rippleVisible:l(a.rippleVisible,Mr.rippleVisible),ripplePulsate:l(a.ripplePulsate,Mr.ripplePulsate),child:l(a.child,Mr.child),childLeaving:l(a.childLeaving,Mr.childLeaving),childPulsate:l(a.childPulsate,Mr.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},f.current)])),f.current+=1,p.current=o}),[a]),w=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===y.current&&(y.current=()=>{b({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},g.current=setTimeout((()=>{y.current&&(y.current(),y.current=null)}),80)):b({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,b]),_=t.useCallback((()=>{w({},{pulsate:!0})}),[w]),S=t.useCallback(((e,t)=>{if(clearTimeout(g.current),"touchend"===(null==e?void 0:e.type)&&y.current)return y.current(),y.current=null,void(g.current=setTimeout((()=>{S(e,t)})));y.current=null,h((e=>e.length>0?e.slice(1):e)),p.current=t}),[]);return t.useImperativeHandle(n,(()=>({pulsate:_,start:w,stop:S})),[_,w,S]),(0,Ar.jsx)(Yr,s({className:l(Mr.root,a.root,c),ref:v},u,{children:(0,Ar.jsx)(kr,{component:null,exit:!0,children:d})}))})),Jr=Xr;function Zr(e){return Dr("MuiButtonBase",e)}const ei=Lr("MuiButtonBase",["root","disabled","focusVisible"]),ti=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ni=Yn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(ei.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ri=t.forwardRef((function(e,n){const r=er({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:c,className:d,component:h="button",disabled:f=!1,disableRipple:p=!1,disableTouchRipple:m=!1,focusRipple:g=!1,LinkComponent:y="a",onBlur:v,onClick:b,onContextMenu:w,onDragLeave:_,onFocus:S,onFocusVisible:E,onKeyDown:I,onKeyUp:k,onMouseDown:T,onMouseLeave:x,onMouseUp:C,onTouchEnd:A,onTouchMove:N,onTouchStart:P,tabIndex:R=0,TouchRippleProps:O,touchRippleRef:D,type:L}=r,M=o(r,ti),F=t.useRef(null),V=t.useRef(null),z=rr(V,D),{isFocusVisibleRef:U,onFocus:j,onBlur:B,ref:q}=mr(),[W,K]=t.useState(!1);f&&W&&K(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{K(!0),F.current.focus()}})),[]);const[H,G]=t.useState(!1);t.useEffect((()=>{G(!0)}),[]);const Q=H&&!p&&!f;function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return sr((r=>{t&&t(r);return!n&&V.current&&V.current[e](r),!0}))}t.useEffect((()=>{W&&g&&!p&&H&&V.current.pulsate()}),[p,g,W,H]);const $=Y("start",T),X=Y("stop",w),J=Y("stop",_),Z=Y("stop",C),ee=Y("stop",(e=>{W&&e.preventDefault(),x&&x(e)})),te=Y("start",P),ne=Y("stop",A),re=Y("stop",N),ie=Y("stop",(e=>{B(e),!1===U.current&&K(!1),v&&v(e)}),!1),oe=sr((e=>{F.current||(F.current=e.currentTarget),j(e),!0===U.current&&(K(!0),E&&E(e)),S&&S(e)})),se=()=>{const e=F.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},ae=t.useRef(!1),le=sr((e=>{g&&!ae.current&&W&&V.current&&" "===e.key&&(ae.current=!0,V.current.stop(e,(()=>{V.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!f&&(e.preventDefault(),b&&b(e))})),ce=sr((e=>{g&&" "===e.key&&V.current&&W&&!e.defaultPrevented&&(ae.current=!1,V.current.stop(e,(()=>{V.current.pulsate(e)}))),k&&k(e),b&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&b(e)}));let ue=h;"button"===ue&&(M.href||M.to)&&(ue=y);const de={};"button"===ue?(de.type=void 0===L?"button":L,de.disabled=f):(M.href||M.to||(de.role="button"),f&&(de["aria-disabled"]=f));const he=rr(n,q,F);const fe=s({},r,{centerRipple:a,component:h,disabled:f,disableRipple:p,disableTouchRipple:m,focusRipple:g,tabIndex:R,focusVisible:W}),pe=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=u({root:["root",t&&"disabled",n&&"focusVisible"]},Zr,i);return n&&r&&(o.root+=" ".concat(r)),o})(fe);return(0,Ar.jsxs)(ni,s({as:ue,className:l(pe.root,d),ownerState:fe,onBlur:ie,onClick:b,onContextMenu:X,onFocus:oe,onKeyDown:le,onKeyUp:ce,onMouseDown:$,onMouseLeave:ee,onMouseUp:Z,onDragLeave:J,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:he,tabIndex:f?-1:R,type:L},de,M,{children:[c,Q?(0,Ar.jsx)(Jr,s({ref:z,center:a},O)):null]}))})),ii=ri,oi=at;function si(e){return Dr("MuiButton",e)}const ai=Lr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const li=t.createContext({});const ci=t.createContext(void 0),ui=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],di=e=>s({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),hi=Yn(ii,{shouldForwardProp:e=>Hn(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(oi(n.color))],t["size".concat(oi(n.size))],t["".concat(n.variant,"Size").concat(oi(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return s({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":s({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):g(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):g(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):g(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":s({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(ai.focusVisible)]:s({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(ai.disabled)]:s({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat(g(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(ai.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(ai.disabled)]:{boxShadow:"none"}}})),fi=Yn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(oi(n.size))]]}})((e=>{let{ownerState:t}=e;return s({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},di(t))})),pi=Yn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(oi(n.size))]]}})((e=>{let{ownerState:t}=e;return s({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},di(t))})),mi=t.forwardRef((function(e,n){const r=t.useContext(li),i=t.useContext(ci),a=er({props:c(r,e),name:"MuiButton"}),{children:d,color:h="primary",component:f="button",className:p,disabled:m=!1,disableElevation:g=!1,disableFocusRipple:y=!1,endIcon:v,focusVisibleClassName:b,fullWidth:w=!1,size:_="medium",startIcon:S,type:E,variant:I="text"}=a,k=o(a,ui),T=s({},a,{color:h,component:f,disabled:m,disableElevation:g,disableFocusRipple:y,fullWidth:w,size:_,type:E,variant:I}),x=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e;return s({},a,u({root:["root",o,"".concat(o).concat(oi(t)),"size".concat(oi(i)),"".concat(o,"Size").concat(oi(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(oi(i))],endIcon:["endIcon","iconSize".concat(oi(i))]},si,a))})(T),C=S&&(0,Ar.jsx)(fi,{className:x.startIcon,ownerState:T,children:S}),A=v&&(0,Ar.jsx)(pi,{className:x.endIcon,ownerState:T,children:v}),N=i||"";return(0,Ar.jsxs)(hi,s({ownerState:T,className:l(r.className,x.root,p,N),component:f,disabled:m,focusRipple:!y,focusVisibleClassName:l(x.focusVisible,b),ref:n,type:E},k,{classes:x,children:[C,d,A]}))})),gi=mi,yi=e=>(0,Ar.jsx)(gi,{variant:"contained",color:"primary",style:{margin:"5px",fontSize:"12px",lineHeight:"1.25",padding:"6px 8px",width:"100%",textTransform:"none"},onClick:()=>{e.showDrawer(e.id)},disabled:e.disabled,children:e.name}),vi=e=>(0,Ar.jsx)("div",{className:"drawer-page",id:e.id,children:e.children});let bi=0;const wi=r["useId".toString()];function _i(e){if(void 0!==wi){const t=wi();return null!=e?e:t}return function(e){const[n,r]=t.useState(e),i=e||n;return t.useEffect((()=>{null==n&&(bi+=1,r("mui-".concat(bi)))}),[n]),i}(e)}var Si=n(164);function Ei(e){return e&&e.ownerDocument||document}function Ii(e){return Ei(e).defaultView||window}function ki(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}const Ti=["onChange","maxRows","minRows","style","value"];function xi(e){return parseInt(e,10)||0}const Ci={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Ai(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const Ni=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:a=1,style:l,value:c}=e,u=o(e,Ti),{current:d}=t.useRef(null!=c),h=t.useRef(null),f=nr(n,h),p=t.useRef(null),m=t.useRef(0),[g,y]=t.useState({outerHeightStyle:0}),v=t.useCallback((()=>{const t=h.current,n=Ii(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=p.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n.boxSizing,s=xi(n.paddingBottom)+xi(n.paddingTop),l=xi(n.borderBottomWidth)+xi(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let d=c;a&&(d=Math.max(Number(a)*u,d)),i&&(d=Math.min(Number(i)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===o?s+l:0),overflow:Math.abs(d-c)<=1}}),[i,a,e.placeholder]),b=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},w=t.useCallback((()=>{const e=v();Ai(e)||y((t=>b(t,e)))}),[v]);ir((()=>{const e=()=>{m.current=0,(()=>{const e=v();Ai(e)||Si.flushSync((()=>{y((t=>b(t,e)))}))})()};let t;const n=ki(e),r=h.current,i=Ii(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[v]),ir((()=>{w()})),t.useEffect((()=>{m.current=0}),[c]);return(0,Ar.jsxs)(t.Fragment,{children:[(0,Ar.jsx)("textarea",s({value:c,onChange:e=>{m.current=0,d||w(),r&&r(e)},ref:f,rows:a,style:s({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},l)},u)),(0,Ar.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:s({},Ci,l,{paddingTop:0,paddingBottom:0})})]})}));function Pi(e){return"string"===typeof e}function Ri(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const Oi=t.createContext(void 0);function Di(){return t.useContext(Oi)}const Li=ir;function Mi(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Ar.jsx)(Tr,{styles:r})}const Fi=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=Jn(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,Ar.jsx)(Mi,{styles:o})};const Vi=function(e){return(0,Ar.jsx)(Fi,s({},e,{defaultTheme:Wn,themeId:Kn}))};function zi(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Ui(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(zi(e.value)&&""!==e.value||t&&zi(e.defaultValue)&&""!==e.defaultValue)}function ji(e){return Dr("MuiInputBase",e)}const Bi=Lr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),qi=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Wi=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(oi(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Ki=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Hi=Yn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Wi})((e=>{let{theme:t,ownerState:n}=e;return s({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(Bi.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&s({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Gi=Yn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ki})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=s({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return s({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(Bi.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(Bi.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),Qi=(0,Ar.jsx)(Vi,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Yi=t.forwardRef((function(e,n){var r;const i=er({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:c,autoFocus:h,className:f,components:p={},componentsProps:m={},defaultValue:g,disabled:y,disableInjectingGlobalStyles:v,endAdornment:b,fullWidth:w=!1,id:_,inputComponent:S="input",inputProps:E={},inputRef:I,maxRows:k,minRows:T,multiline:x=!1,name:C,onBlur:A,onChange:N,onClick:P,onFocus:R,onKeyDown:O,onKeyUp:D,placeholder:L,readOnly:M,renderSuffix:F,rows:V,slotProps:z={},slots:U={},startAdornment:j,type:B="text",value:q}=i,W=o(i,qi),K=null!=E.value?E.value:q,{current:H}=t.useRef(null!=K),G=t.useRef(),Q=t.useCallback((e=>{0}),[]),Y=rr(G,I,E.ref,Q),[$,X]=t.useState(!1),J=Di();const Z=Ri({props:i,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Z.focused=J?J.focused:$,t.useEffect((()=>{!J&&y&&$&&(X(!1),A&&A())}),[J,y,$,A]);const ee=J&&J.onFilled,te=J&&J.onEmpty,ne=t.useCallback((e=>{Ui(e)?ee&&ee():te&&te()}),[ee,te]);Li((()=>{H&&ne({value:K})}),[K,ne,H]);t.useEffect((()=>{ne(G.current)}),[]);let re=S,ie=E;x&&"input"===re&&(ie=s(V?{type:void 0,minRows:V,maxRows:V}:{type:void 0,maxRows:k,minRows:T},ie),re=Ni);t.useEffect((()=>{J&&J.setAdornedStart(Boolean(j))}),[J,j]);const oe=s({},i,{color:Z.color||"primary",disabled:Z.disabled,endAdornment:b,error:Z.error,focused:Z.focused,formControl:J,fullWidth:w,hiddenLabel:Z.hiddenLabel,multiline:x,size:Z.size,startAdornment:j,type:B}),se=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:h,size:f,startAdornment:p,type:m}=e;return u({root:["root","color".concat(oi(n)),r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&"medium"!==f&&"size".concat(oi(f)),d&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]},ji,t)})(oe),ae=U.root||p.Root||Hi,le=z.root||m.root||{},ce=U.input||p.Input||Gi;return ie=s({},ie,null!=(r=z.input)?r:m.input),(0,Ar.jsxs)(t.Fragment,{children:[!v&&Qi,(0,Ar.jsxs)(ae,s({},le,!Pi(ae)&&{ownerState:s({},oe,le.ownerState)},{ref:n,onClick:e=>{G.current&&e.currentTarget===e.target&&G.current.focus(),P&&P(e)}},W,{className:l(se.root,le.className,f,M&&"MuiInputBase-readOnly"),children:[j,(0,Ar.jsx)(Oi.Provider,{value:null,children:(0,Ar.jsx)(ce,s({ownerState:oe,"aria-invalid":Z.error,"aria-describedby":a,autoComplete:c,autoFocus:h,defaultValue:g,disabled:Z.disabled,id:_,onAnimationStart:e=>{ne("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:C,placeholder:L,readOnly:M,required:Z.required,rows:V,value:K,onKeyDown:O,onKeyUp:D,type:B},ie,!Pi(ce)&&{as:re,ownerState:s({},oe,ie.ownerState)},{ref:Y,className:l(se.input,ie.className,M&&"MuiInputBase-readOnly"),onBlur:e=>{A&&A(e),E.onBlur&&E.onBlur(e),J&&J.onBlur?J.onBlur(e):X(!1)},onChange:function(e){if(!H){const t=e.target||G.current;if(null==t)throw new Error(d(1));ne({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];E.onChange&&E.onChange(e,...n),N&&N(e,...n)},onFocus:e=>{Z.disabled?e.stopPropagation():(R&&R(e),E.onFocus&&E.onFocus(e),J&&J.onFocus?J.onFocus(e):X(!0))}}))}),b,F?F(s({},Z,{startAdornment:j})):null]}))]})})),$i=Yi;function Xi(e){return Dr("MuiInput",e)}const Ji=s({},Bi,Lr("MuiInput",["root","underline","input"])),Zi=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],eo=Yn(Hi,{shouldForwardProp:e=>Hn(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Wi(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),s({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Ji.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Ji.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Ji.disabled,", .").concat(Ji.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(Ji.disabled,":before")]:{borderBottomStyle:"dotted"}})})),to=Yn(Gi,{name:"MuiInput",slot:"Input",overridesResolver:Ki})({}),no=t.forwardRef((function(e,t){var n,r,i,a;const l=er({props:e,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:h,fullWidth:f=!1,inputComponent:p="input",multiline:m=!1,slotProps:g,slots:y={},type:v="text"}=l,b=o(l,Zi),w=(e=>{const{classes:t,disableUnderline:n}=e;return s({},t,u({root:["root",!n&&"underline"],input:["input"]},Xi,t))})(l),_={root:{ownerState:{disableUnderline:c}}},S=(null!=g?g:h)?Xe(null!=g?g:h,_):_,E=null!=(n=null!=(r=y.root)?r:d.Root)?n:eo,I=null!=(i=null!=(a=y.input)?a:d.Input)?i:to;return(0,Ar.jsx)($i,s({slots:{root:E,input:I},slotProps:S,fullWidth:f,inputComponent:p,multiline:m,ref:t,type:v},b,{classes:w}))}));no.muiName="Input";const ro=no;function io(e){return Dr("MuiFilledInput",e)}const oo=s({},Bi,Lr("MuiFilledInput",["root","underline","input"])),so=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],ao=Yn(Hi,{shouldForwardProp:e=>Hn(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Wi(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return s({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(oo.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(oo.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(oo.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(oo.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(oo.disabled,", .").concat(oo.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(oo.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&s({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),lo=Yn(Gi,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ki})((e=>{let{theme:t,ownerState:n}=e;return s({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),co=t.forwardRef((function(e,t){var n,r,i,a;const l=er({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:h=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:g={},type:y="text"}=l,v=o(l,so),b=s({},l,{fullWidth:h,inputComponent:f,multiline:p,type:y}),w=(e=>{const{classes:t,disableUnderline:n}=e;return s({},t,u({root:["root",!n&&"underline"],input:["input"]},io,t))})(l),_={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:d)?Xe(null!=m?m:d,_):_,E=null!=(n=null!=(r=g.root)?r:c.Root)?n:ao,I=null!=(i=null!=(a=g.input)?a:c.Input)?i:lo;return(0,Ar.jsx)($i,s({slots:{root:E,input:I},componentsProps:S,fullWidth:h,inputComponent:f,multiline:p,ref:t,type:y},v,{classes:w}))}));co.muiName="Input";const uo=co;var ho;const fo=["children","classes","className","label","notched"],po=Yn("fieldset",{shouldForwardProp:Hn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mo=Yn("legend",{shouldForwardProp:Hn})((e=>{let{ownerState:t,theme:n}=e;return s({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&s({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function go(e){return Dr("MuiOutlinedInput",e)}const yo=s({},Bi,Lr("MuiOutlinedInput",["root","notchedOutline","input"])),vo=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],bo=Yn(Hi,{shouldForwardProp:e=>Hn(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Wi})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return s({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(yo.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(yo.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(yo.focused," .").concat(yo.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(yo.error," .").concat(yo.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(yo.disabled," .").concat(yo.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&s({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),wo=Yn((function(e){const{className:t,label:n,notched:r}=e,i=o(e,fo),a=null!=n&&""!==n,l=s({},e,{notched:r,withLabel:a});return(0,Ar.jsx)(po,s({"aria-hidden":!0,className:t,ownerState:l},i,{children:(0,Ar.jsx)(mo,{ownerState:l,children:a?(0,Ar.jsx)("span",{children:n}):ho||(ho=(0,Ar.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),_o=Yn(Gi,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ki})((e=>{let{theme:t,ownerState:n}=e;return s({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),So=t.forwardRef((function(e,n){var r,i,a,l,c;const d=er({props:e,name:"MuiOutlinedInput"}),{components:h={},fullWidth:f=!1,inputComponent:p="input",label:m,multiline:g=!1,notched:y,slots:v={},type:b="text"}=d,w=o(d,vo),_=(e=>{const{classes:t}=e;return s({},t,u({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},go,t))})(d),S=Di(),E=Ri({props:d,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=s({},d,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:f,hiddenLabel:E.hiddenLabel,multiline:g,size:E.size,type:b}),k=null!=(r=null!=(i=v.root)?i:h.Root)?r:bo,T=null!=(a=null!=(l=v.input)?l:h.Input)?a:_o;return(0,Ar.jsx)($i,s({slots:{root:k,input:T},renderSuffix:e=>(0,Ar.jsx)(wo,{ownerState:I,className:_.notchedOutline,label:null!=m&&""!==m&&E.required?c||(c=(0,Ar.jsxs)(t.Fragment,{children:[m,"\u2009","*"]})):m,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:f,inputComponent:p,multiline:g,ref:n,type:b},w,{classes:s({},_,{notchedOutline:null})}))}));So.muiName="Input";const Eo=So;function Io(e){return Dr("MuiFormLabel",e)}const ko=Lr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),To=["children","className","color","component","disabled","error","filled","focused","required"],xo=Yn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return s({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return s({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(ko.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(ko.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(ko.error)]:{color:(t.vars||t).palette.error.main}})})),Co=Yn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(ko.error)]:{color:(t.vars||t).palette.error.main}}})),Ao=t.forwardRef((function(e,t){const n=er({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:a="label"}=n,c=o(n,To),d=Ri({props:n,muiFormControl:Di(),states:["color","required","focused","disabled","error","filled"]}),h=s({},n,{color:d.color||"primary",component:a,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),f=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e;return u({root:["root","color".concat(oi(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},Io,t)})(h);return(0,Ar.jsxs)(xo,s({as:a,ownerState:h,className:l(f.root,i),ref:t},c,{children:[r,d.required&&(0,Ar.jsxs)(Co,{ownerState:h,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))})),No=Ao;function Po(e){return Dr("MuiInputLabel",e)}Lr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ro=["disableAnimation","margin","shrink","variant","className"],Oo=Yn(No,{shouldForwardProp:e=>Hn(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ko.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return s({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&s({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&s({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&s({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Do=t.forwardRef((function(e,t){const n=er({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:a}=n,c=o(n,Ro),d=Di();let h=i;"undefined"===typeof h&&d&&(h=d.filled||d.focused||d.adornedStart);const f=Ri({props:n,muiFormControl:d,states:["size","variant","required","focused"]}),p=s({},n,{disableAnimation:r,formControl:d,shrink:h,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:l}=e;return s({},t,u({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(oi(r)),a],asterisk:[l&&"asterisk"]},Po,t))})(p);return(0,Ar.jsx)(Oo,s({"data-shrink":h,ownerState:p,ref:t,className:l(m.root,a)},c,{classes:m}))})),Lo=Do;const Mo=function(e,n){var r,i;return t.isValidElement(e)&&-1!==n.indexOf(null!=(r=e.type.muiName)?r:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)};function Fo(e){return Dr("MuiFormControl",e)}Lr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Vo=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],zo=Yn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return s({},t.root,t["margin".concat(oi(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return s({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Uo=t.forwardRef((function(e,n){const r=er({props:e,name:"MuiFormControl"}),{children:i,className:a,color:c="primary",component:d="div",disabled:h=!1,error:f=!1,focused:p,fullWidth:m=!1,hiddenLabel:g=!1,margin:y="none",required:v=!1,size:b="medium",variant:w="outlined"}=r,_=o(r,Vo),S=s({},r,{color:c,component:d,disabled:h,error:f,fullWidth:m,hiddenLabel:g,margin:y,required:v,size:b,variant:w}),E=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return u({root:["root","none"!==n&&"margin".concat(oi(n)),r&&"fullWidth"]},Fo,t)})(S),[I,k]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{if(!Mo(t,["Input","Select"]))return;const n=Mo(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[T,x]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{Mo(t,["Input","Select"])&&(Ui(t.props,!0)||Ui(t.props.inputProps,!0))&&(e=!0)})),e})),[C,A]=t.useState(!1);h&&C&&A(!1);const N=void 0===p||h?C:p;let P;const R=t.useMemo((()=>({adornedStart:I,setAdornedStart:k,color:c,disabled:h,error:f,filled:T,focused:N,fullWidth:m,hiddenLabel:g,size:b,onBlur:()=>{A(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{A(!0)},registerEffect:P,required:v,variant:w})),[I,c,h,f,T,N,m,g,P,v,b,w]);return(0,Ar.jsx)(Oi.Provider,{value:R,children:(0,Ar.jsx)(zo,s({as:d,ownerState:S,className:l(E.root,a),ref:n},_,{children:i}))})})),jo=Uo;function Bo(e){return Dr("MuiFormHelperText",e)}const qo=Lr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Wo;const Ko=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ho=Yn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(oi(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return s({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(qo.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(qo.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),Go=t.forwardRef((function(e,t){const n=er({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:a="p"}=n,c=o(n,Ko),d=Ri({props:n,muiFormControl:Di(),states:["variant","size","disabled","error","filled","focused","required"]}),h=s({},n,{component:a,contained:"filled"===d.variant||"outlined"===d.variant,variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),f=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e;return u({root:["root",i&&"disabled",o&&"error",r&&"size".concat(oi(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},Bo,t)})(h);return(0,Ar.jsx)(Ho,s({as:a,ownerState:h,className:l(f.root,i),ref:t},c,{children:" "===r?Wo||(Wo=(0,Ar.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));n(457);const Qo=Ei;function Yo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function $o(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const Xo=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Jo(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:a=!1}=e,c=o(e,Xo),u=a?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:d,internalRef:h}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=l(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=s({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),a=s({},n,i,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=Yo(s({},i,r)),c=$o(r),u=$o(i),d=t(a),h=l(null==d?void 0:d.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),f=s({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=s({},d,n,u,c);return h.length>0&&(p.className=h),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:d.ref}}(s({},c,{externalSlotProps:u})),f=function(e,t,n){return void 0===e||Pi(e)?t:s({},t,{ownerState:s({},t.ownerState,n)})}(n,s({},d,{ref:nr(h,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return f}const Zo=t.createContext({});function es(e){return Dr("MuiList",e)}Lr("MuiList",["root","padding","dense","subheader"]);const ts=["children","className","component","dense","disablePadding","subheader"],ns=Yn("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return s({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),rs=t.forwardRef((function(e,n){const r=er({props:e,name:"MuiList"}),{children:i,className:a,component:c="ul",dense:d=!1,disablePadding:h=!1,subheader:f}=r,p=o(r,ts),m=t.useMemo((()=>({dense:d})),[d]),g=s({},r,{component:c,dense:d,disablePadding:h}),y=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return u({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},es,t)})(g);return(0,Ar.jsx)(Zo.Provider,{value:m,children:(0,Ar.jsxs)(ns,s({as:c,className:l(y.root,a),ref:n,ownerState:g},p,{children:[f,i]}))})}));function is(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const os=is,ss=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function as(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ls(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function cs(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function us(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&cs(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const ds=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:f="selectedMenu"}=e,p=o(e,ss),m=t.useRef(null),g=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Li((()=>{i&&m.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&n){const n="".concat(os(Qo(e)),"px");m.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,m.current.style.width="calc(100% + ".concat(n,")")}return m.current}})),[]);const y=rr(m,n);let v=-1;t.Children.forEach(l,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===f&&e.props.selected||-1===v)&&(v=n),v===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(v+=1,v>=l.length&&(v=-1))):v===n&&(v+=1,v>=l.length&&(v=-1))}));const b=t.Children.map(l,((e,n)=>{if(n===v){const n={};return a&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===f&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,Ar.jsx)(rs,s({role:"menu",ref:y,className:c,onKeyDown:e=>{const t=m.current,n=e.key,r=Qo(t).activeElement;if("ArrowDown"===n)e.preventDefault(),us(t,r,d,u,as);else if("ArrowUp"===n)e.preventDefault(),us(t,r,d,u,ls);else if("Home"===n)e.preventDefault(),us(t,null,d,u,as);else if("End"===n)e.preventDefault(),us(t,null,d,u,ls);else if(1===n.length){const i=g.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&cs(r,i);i.previousKeyMatched&&(a||us(t,r,!1,u,as,i))?e.preventDefault():i.previousKeyMatched=!1}h&&h(e)},tabIndex:i?0:-1},p,{children:b}))})),hs=ds,fs=ki,ps=Ii,ms=!1;var gs="unmounted",ys="exited",vs="entering",bs="entered",ws="exiting",_s=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=ys,r.appearStatus=vs):i=bs:i=t.unmountOnExit||t.mountOnEnter?gs:ys,r.state={status:i},r.nextCallback=null,r}vr(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===gs?{status:ys}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==vs&&n!==bs&&(t=vs):n!==vs&&n!==bs||(t=ws)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===vs){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Si.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ys&&this.setState({status:gs})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Si.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||ms?this.safeSetState({status:bs},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:vs},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:bs},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Si.findDOMNode(this);t&&!ms?(this.props.onExit(r),this.safeSetState({status:ws},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ys},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ys},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Si.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===gs)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,o(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(br.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Ss(){}_s.contextType=br,_s.propTypes={},_s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ss,onEntering:Ss,onEntered:Ss,onExit:Ss,onExiting:Ss,onExited:Ss},_s.UNMOUNTED=gs,_s.EXITED=ys,_s.ENTERING=vs,_s.ENTERED=bs,_s.EXITING=ws;const Es=_s;function Is(){const e=Jn(Wn);return e[Kn]||e}const ks=e=>e.scrollTop;function Ts(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const xs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Cs(e){return"scale(".concat(e,", ").concat(e**2,")")}const As={entering:{opacity:1,transform:Cs(1)},entered:{opacity:1,transform:"none"}},Ns="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ps=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:y="auto",TransitionComponent:v=Es}=e,b=o(e,xs),w=t.useRef(),_=t.useRef(),S=Is(),E=t.useRef(null),I=rr(E,a.ref,n),k=e=>t=>{if(e){const n=E.current;void 0===t?e(n):e(n,t)}},T=k(h),x=k(((e,t)=>{ks(e);const{duration:n,delay:r,easing:i}=Ts({style:g,timeout:y,easing:l},{mode:"enter"});let o;"auto"===y?(o=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=o):o=n,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:r}),S.transitions.create("transform",{duration:Ns?o:.666*o,delay:r,easing:i})].join(","),u&&u(e,t)})),C=k(d),A=k(m),N=k((e=>{const{duration:t,delay:n,easing:r}=Ts({style:g,timeout:y,easing:l},{mode:"exit"});let i;"auto"===y?(i=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=i):i=t,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:n}),S.transitions.create("transform",{duration:Ns?i:.666*i,delay:Ns?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=Cs(.75),f&&f(e)})),P=k(p);return t.useEffect((()=>()=>{clearTimeout(w.current)}),[]),(0,Ar.jsx)(v,s({appear:i,in:c,nodeRef:E,onEnter:x,onEntered:C,onEntering:T,onExit:N,onExited:P,onExiting:A,addEndListener:e=>{"auto"===y&&(w.current=setTimeout(e,_.current||0)),r&&r(E.current,e)},timeout:"auto"===y?null:y},b,{children:(e,n)=>t.cloneElement(a,s({style:s({opacity:0,transform:Cs(.75),visibility:"exited"!==e||c?void 0:"hidden"},As[e],g,a.props.style),ref:I},n))}))}));Ps.muiSupportAuto=!0;const Rs=Ps;function Os(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function Ds(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ls(e){return parseInt(Ii(e).getComputedStyle(e).paddingRight,10)||0}function Ms(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ds(e,i)}))}function Fs(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Vs(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Ei(e);return t.body===e?Ii(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=is(Ei(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Ls(r)+e,"px");const t=Ei(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Ls(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=Ei(r).body;else{const t=r.parentElement,n=Ii(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const zs=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ds(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Ms(t,e.mount,e.modalRef,r,!0);const i=Fs(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Fs(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Vs(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Fs(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Ds(e.modalRef,t),Ms(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&Ds(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Us(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=zs,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:f}=e,p=t.useRef({}),m=t.useRef(null),g=t.useRef(null),y=nr(g,f),[v,b]=t.useState(!h),w=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let _=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(_=!1);const S=()=>(p.current.modalRef=g.current,p.current.mount=m.current,p.current),E=()=>{o.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},I=or((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Ei(m.current).body;o.add(S(),e),g.current&&E()})),k=t.useCallback((()=>o.isTopModal(S())),[o]),T=or((e=>{m.current=e,e&&(h&&k()?E():g.current&&Ds(g.current,_))})),x=t.useCallback((()=>{o.remove(S(),_)}),[_,o]);t.useEffect((()=>()=>{x()}),[x]),t.useEffect((()=>{h?I():w&&a||x()}),[h,x,w,a,I]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},A=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Yo(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=s({},n,t);return s({role:"presentation"},r,{onKeyDown:C(r),ref:y})},getBackdropProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({"aria-hidden":!0},e,{onClick:A(e),open:h})},getTransitionProps:()=>({onEnter:Os((()=>{b(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:Os((()=>{b(!0),c&&c(),a&&x()}),null==u?void 0:u.props.onExited)}),rootRef:y,portalRef:T,isTopModal:k,exited:v,hasTransition:w}}const js=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bs(e){const t=[],n=[];return Array.from(e.querySelectorAll(js)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function qs(){return!0}function Ws(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=Bs,isEnabled:a=qs,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=nr(n.ref,m),y=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=Ei(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=Ei(m.current),t=t=>{y.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=y.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=y.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const v=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,Ar.jsxs)(t.Fragment,{children:[(0,Ar.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,Ar.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:d,"data-testid":"sentinelEnd"})]})}const Ks=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=t.useState(null),l=nr(t.isValidElement(r)?r.ref:null,n);if(ir((()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),ir((()=>{if(s&&!o)return tr(n,s),()=>{tr(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,Ar.jsx)(t.Fragment,{children:r})}return(0,Ar.jsx)(t.Fragment,{children:s?Si.createPortal(r,s):s})}));const Hs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Gs={entering:{opacity:1},entered:{opacity:1}},Qs=t.forwardRef((function(e,n){const r=Is(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:f,onEntering:p,onExit:m,onExited:g,onExiting:y,style:v,timeout:b=i,TransitionComponent:w=Es}=e,_=o(e,Hs),S=t.useRef(null),E=rr(S,c.ref,n),I=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},k=I(p),T=I(((e,t)=>{ks(e);const n=Ts({style:v,timeout:b,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),x=I(f),C=I(y),A=I((e=>{const t=Ts({style:v,timeout:b,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),N=I(g);return(0,Ar.jsx)(w,s({appear:l,in:d,nodeRef:S,onEnter:T,onEntered:x,onEntering:k,onExit:A,onExited:N,onExiting:C,addEndListener:e=>{a&&a(S.current,e)},timeout:b},_,{children:(e,n)=>t.cloneElement(c,s({style:s({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},Gs[e],v,c.props.style),ref:E},n))}))})),Ys=Qs;function $s(e){return Dr("MuiBackdrop",e)}Lr("MuiBackdrop",["root","invisible"]);const Xs=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Js=Yn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return s({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Zs=t.forwardRef((function(e,t){var n,r,i;const a=er({props:e,name:"MuiBackdrop"}),{children:c,className:d,component:h="div",components:f={},componentsProps:p={},invisible:m=!1,open:g,slotProps:y={},slots:v={},TransitionComponent:b=Ys,transitionDuration:w}=a,_=o(a,Xs),S=s({},a,{component:h,invisible:m}),E=(e=>{const{classes:t,invisible:n}=e;return u({root:["root",n&&"invisible"]},$s,t)})(S),I=null!=(n=y.root)?n:p.root;return(0,Ar.jsx)(b,s({in:g,timeout:w},_,{children:(0,Ar.jsx)(Js,s({"aria-hidden":!0},I,{as:null!=(r=null!=(i=v.root)?i:f.Root)?r:h,className:l(E.root,d,null==I?void 0:I.className),ownerState:s({},S,null==I?void 0:I.ownerState),classes:E,ref:t,children:c}))}))}));function ea(e){return Dr("MuiModal",e)}Lr("MuiModal",["root","hidden","backdrop"]);const ta=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],na=Yn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return s({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),ra=Yn(Zs,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ia=t.forwardRef((function(e,n){var r,i,a,c,d,h;const f=er({name:"MuiModal",props:e}),{BackdropComponent:p=ra,BackdropProps:m,className:g,closeAfterTransition:y=!1,children:v,container:b,component:w,components:_={},componentsProps:S={},disableAutoFocus:E=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:k=!1,disablePortal:T=!1,disableRestoreFocus:x=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:N=!1,onBackdropClick:P,open:R,slotProps:O,slots:D}=f,L=o(f,ta),M=s({},f,{closeAfterTransition:y,disableAutoFocus:E,disableEnforceFocus:I,disableEscapeKeyDown:k,disablePortal:T,disableRestoreFocus:x,disableScrollLock:C,hideBackdrop:A,keepMounted:N}),{getRootProps:F,getBackdropProps:V,getTransitionProps:z,portalRef:U,isTopModal:j,exited:B,hasTransition:q}=Us(s({},M,{rootRef:n})),W=s({},M,{exited:B}),K=(e=>{const{open:t,exited:n,classes:r}=e;return u({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},ea,r)})(W),H={};if(void 0===v.props.tabIndex&&(H.tabIndex="-1"),q){const{onEnter:e,onExited:t}=z();H.onEnter=e,H.onExited=t}const G=null!=(r=null!=(i=null==D?void 0:D.root)?i:_.Root)?r:na,Q=null!=(a=null!=(c=null==D?void 0:D.backdrop)?c:_.Backdrop)?a:p,Y=null!=(d=null==O?void 0:O.root)?d:S.root,$=null!=(h=null==O?void 0:O.backdrop)?h:S.backdrop,X=Jo({elementType:G,externalSlotProps:Y,externalForwardedProps:L,getSlotProps:F,additionalProps:{ref:n,as:w},ownerState:W,className:l(g,null==Y?void 0:Y.className,null==K?void 0:K.root,!W.open&&W.exited&&(null==K?void 0:K.hidden))}),J=Jo({elementType:Q,externalSlotProps:$,additionalProps:m,getSlotProps:e=>V(s({},e,{onClick:t=>{P&&P(t),null!=e&&e.onClick&&e.onClick(t)}})),className:l(null==$?void 0:$.className,null==m?void 0:m.className,null==K?void 0:K.backdrop),ownerState:W});return N||R||q&&!B?(0,Ar.jsx)(Ks,{ref:U,container:b,disablePortal:T,children:(0,Ar.jsxs)(G,s({},X,{children:[!A&&p?(0,Ar.jsx)(Q,s({},J)):null,(0,Ar.jsx)(Ws,{disableEnforceFocus:I,disableAutoFocus:E,disableRestoreFocus:x,isEnabled:j,open:R,children:t.cloneElement(v,H)})]}))}):null})),oa=ia,sa=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function aa(e){return Dr("MuiPaper",e)}Lr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const la=["className","component","elevation","square","variant"],ca=Yn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return s({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&s({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(g("#fff",sa(n.elevation)),", ").concat(g("#fff",sa(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),ua=t.forwardRef((function(e,t){const n=er({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:a=1,square:c=!1,variant:d="elevation"}=n,h=o(n,la),f=s({},n,{component:i,elevation:a,square:c,variant:d}),p=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return u({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},aa,i)})(f);return(0,Ar.jsx)(ca,s({as:i,ownerState:f,className:l(p.root,r),ref:t},h))})),da=ua;function ha(e){return Dr("MuiPopover",e)}Lr("MuiPopover",["root","paper"]);const fa=["onEntering"],pa=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ma=["slotProps"];function ga(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ya(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function va(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function ba(e){return"function"===typeof e?e():e}const wa=Yn(oa,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_a=Yn(da,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Sa=t.forwardRef((function(e,n){var r,i,a;const c=er({props:e,name:"MuiPopover"}),{action:d,anchorEl:h,anchorOrigin:f={vertical:"top",horizontal:"left"},anchorPosition:p,anchorReference:m="anchorEl",children:g,className:y,container:v,elevation:b=8,marginThreshold:w=16,open:_,PaperProps:S={},slots:E,slotProps:I,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:T=Rs,transitionDuration:x="auto",TransitionProps:{onEntering:C}={},disableScrollLock:A=!1}=c,N=o(c.TransitionProps,fa),P=o(c,pa),R=null!=(r=null==I?void 0:I.paper)?r:S,O=t.useRef(),D=rr(O,R.ref),L=s({},c,{anchorOrigin:f,anchorReference:m,elevation:b,marginThreshold:w,externalPaperSlotProps:R,transformOrigin:k,TransitionComponent:T,transitionDuration:x,TransitionProps:N}),M=(e=>{const{classes:t}=e;return u({root:["root"],paper:["paper"]},ha,t)})(L),F=t.useCallback((()=>{if("anchorPosition"===m)return p;const e=ba(h),t=(e&&1===e.nodeType?e:Qo(O.current).body).getBoundingClientRect();return{top:t.top+ga(t,f.vertical),left:t.left+ya(t,f.horizontal)}}),[h,f.horizontal,f.vertical,p,m]),V=t.useCallback((e=>({vertical:ga(e,k.vertical),horizontal:ya(e,k.horizontal)})),[k.horizontal,k.vertical]),z=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=V(t);if("none"===m)return{top:null,left:null,transformOrigin:va(n)};const r=F();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,l=ps(ba(h)),c=l.innerHeight-w,u=l.innerWidth-w;if(null!==w&&i<w){const e=i-w;i-=e,n.vertical+=e}else if(null!==w&&s>c){const e=s-c;i-=e,n.vertical+=e}if(null!==w&&o<w){const e=o-w;o-=e,n.horizontal+=e}else if(a>u){const e=a-u;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:va(n)}}),[h,m,F,V,w]),[U,j]=t.useState(_),B=t.useCallback((()=>{const e=O.current;if(!e)return;const t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,j(!0)}),[z]);t.useEffect((()=>(A&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[h,A,B]);t.useEffect((()=>{_&&B()})),t.useImperativeHandle(d,(()=>_?{updatePosition:()=>{B()}}:null),[_,B]),t.useEffect((()=>{if(!_)return;const e=fs((()=>{B()})),t=ps(h);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,_,B]);let q=x;"auto"!==x||T.muiSupportAuto||(q=void 0);const W=v||(h?Qo(ba(h)).body:void 0),K=null!=(i=null==E?void 0:E.root)?i:wa,H=null!=(a=null==E?void 0:E.paper)?a:_a,G=Jo({elementType:H,externalSlotProps:s({},R,{style:U?R.style:s({},R.style,{opacity:0})}),additionalProps:{elevation:b,ref:D},ownerState:L,className:l(M.paper,null==R?void 0:R.className)}),Q=Jo({elementType:K,externalSlotProps:(null==I?void 0:I.root)||{},externalForwardedProps:P,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:W,open:_},ownerState:L,className:l(M.root,y)}),{slotProps:Y}=Q,$=o(Q,ma);return(0,Ar.jsx)(K,s({},$,!Pi(K)&&{slotProps:Y,disableScrollLock:A},{children:(0,Ar.jsx)(T,s({appear:!0,in:_,onEntering:(e,t)=>{C&&C(e,t),B()},onExited:()=>{j(!1)},timeout:q},N,{children:(0,Ar.jsx)(H,s({},G,{children:g}))}))}))}));function Ea(e){return Dr("MuiMenu",e)}Lr("MuiMenu",["root","paper","list"]);const Ia=["onEntering"],ka=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Ta={vertical:"top",horizontal:"right"},xa={vertical:"top",horizontal:"left"},Ca=Yn(Sa,{shouldForwardProp:e=>Hn(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Aa=Yn(_a,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Na=Yn(hs,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Pa=t.forwardRef((function(e,n){var r,i;const a=er({props:e,name:"MuiMenu"}),{autoFocus:c=!0,children:d,className:h,disableAutoFocusItem:f=!1,MenuListProps:p={},onClose:m,open:g,PaperProps:y={},PopoverClasses:v,transitionDuration:b="auto",TransitionProps:{onEntering:w}={},variant:_="selectedMenu",slots:S={},slotProps:E={}}=a,I=o(a.TransitionProps,Ia),k=o(a,ka),T=Is(),x="rtl"===T.direction,C=s({},a,{autoFocus:c,disableAutoFocusItem:f,MenuListProps:p,onEntering:w,PaperProps:y,transitionDuration:b,TransitionProps:I,variant:_}),A=(e=>{const{classes:t}=e;return u({root:["root"],paper:["paper"],list:["list"]},Ea,t)})(C),N=c&&!f&&g,P=t.useRef(null);let R=-1;t.Children.map(d,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===_&&e.props.selected||-1===R)&&(R=n))}));const O=null!=(r=S.paper)?r:Aa,D=null!=(i=E.paper)?i:y,L=Jo({elementType:S.root,externalSlotProps:E.root,ownerState:C,className:[A.root,h]}),M=Jo({elementType:O,externalSlotProps:D,ownerState:C,className:A.paper});return(0,Ar.jsx)(Ca,s({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?Ta:xa,slots:{paper:O,root:S.root},slotProps:{root:L,paper:M},open:g,ref:n,transitionDuration:b,TransitionProps:s({onEntering:(e,t)=>{P.current&&P.current.adjustStyleForScrollbar(e,T),w&&w(e,t)}},I),ownerState:C},k,{classes:v,children:(0,Ar.jsx)(Na,s({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:P,autoFocus:c&&(-1===R||f),autoFocusItem:N,variant:_},p,{className:l(A.list,p.className),children:d}))}))})),Ra=Pa;function Oa(e){return Dr("MuiNativeSelect",e)}const Da=Lr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),La=["className","disabled","error","IconComponent","inputRef","variant"],Ma=e=>{let{ownerState:t,theme:n}=e;return s({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":s({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(Da.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},Fa=Yn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Hn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(Da.multiple)]:t.multiple}]}})(Ma),Va=e=>{let{ownerState:t,theme:n}=e;return s({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(Da.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},za=Yn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(oi(n.variant))],n.open&&t.iconOpen]}})(Va),Ua=t.forwardRef((function(e,n){const{className:r,disabled:i,error:a,IconComponent:c,inputRef:d,variant:h="standard"}=e,f=o(e,La),p=s({},e,{disabled:i,variant:h,error:a}),m=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return u({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat(oi(n)),o&&"iconOpen",r&&"disabled"]},Oa,t)})(p);return(0,Ar.jsxs)(t.Fragment,{children:[(0,Ar.jsx)(Fa,s({ownerState:p,className:l(m.select,r),disabled:i,ref:d||n},f)),e.multiple?null:(0,Ar.jsx)(za,{as:c,ownerState:p,className:m.icon})]})})),ja=Ua;const Ba=function(e){let{controlled:n,default:r,name:i,state:o="value"}=e;const{current:s}=t.useRef(void 0!==n),[a,l]=t.useState(r);return[s?n:a,t.useCallback((e=>{s||l(e)}),[])]};function qa(e){return Dr("MuiSelect",e)}const Wa=Lr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ka;const Ha=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ga=Yn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(Wa.select)]:t.select},{["&.".concat(Wa.select)]:t[n.variant]},{["&.".concat(Wa.error)]:t.error},{["&.".concat(Wa.multiple)]:t.multiple}]}})(Ma,{["&.".concat(Wa.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Qa=Yn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(oi(n.variant))],n.open&&t.iconOpen]}})(Va),Ya=Yn("input",{shouldForwardProp:e=>Gn(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $a(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Xa(e){return null==e||"string"===typeof e&&!e.trim()}const Ja=t.forwardRef((function(e,n){var r;const{"aria-describedby":i,"aria-label":a,autoFocus:c,autoWidth:h,children:f,className:p,defaultOpen:m,defaultValue:g,disabled:y,displayEmpty:v,error:b=!1,IconComponent:w,inputRef:_,labelId:S,MenuProps:E={},multiple:I,name:k,onBlur:T,onChange:x,onClose:C,onFocus:A,onOpen:N,open:P,readOnly:R,renderValue:O,SelectDisplayProps:D={},tabIndex:L,value:M,variant:F="standard"}=e,V=o(e,Ha),[z,U]=Ba({controlled:M,default:g,name:"Select"}),[j,B]=Ba({controlled:P,default:m,name:"Select"}),q=t.useRef(null),W=t.useRef(null),[K,H]=t.useState(null),{current:G}=t.useRef(null!=P),[Q,Y]=t.useState(),$=rr(n,_),X=t.useCallback((e=>{W.current=e,e&&H(e)}),[]),J=null==K?void 0:K.parentNode;t.useImperativeHandle($,(()=>({focus:()=>{W.current.focus()},node:q.current,value:z})),[z]),t.useEffect((()=>{m&&j&&K&&!G&&(Y(h?null:J.clientWidth),W.current.focus())}),[K,h]),t.useEffect((()=>{c&&W.current.focus()}),[c]),t.useEffect((()=>{if(!S)return;const e=Qo(W.current).getElementById(S);if(e){const t=()=>{getSelection().isCollapsed&&W.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[S]);const Z=(e,t)=>{e?N&&N(t):C&&C(t),G||(Y(h?null:J.clientWidth),B(e))},ee=t.Children.toArray(f),te=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(I){n=Array.isArray(z)?z.slice():[];const t=z.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(U(n),x)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:k}}),x(i,e)}I||Z(!1,t)}},ne=null!==K&&j;let re,ie;delete V["aria-invalid"];const oe=[];let se=!1,ae=!1;(Ui({value:z})||v)&&(O?re=O(z):se=!0);const le=ee.map((e=>{if(!t.isValidElement(e))return null;let n;if(I){if(!Array.isArray(z))throw new Error(d(2));n=z.some((t=>$a(t,e.props.value))),n&&se&&oe.push(e.props.children)}else n=$a(z,e.props.value),n&&se&&(ie=e.props.children);return n&&(ae=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:te(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));se&&(re=I?0===oe.length?null:oe.reduce(((e,t,n)=>(e.push(t),n<oe.length-1&&e.push(", "),e)),[]):ie);let ce,ue=Q;!h&&G&&K&&(ue=J.clientWidth),ce="undefined"!==typeof L?L:y?null:0;const de=D.id||(k?"mui-component-select-".concat(k):void 0),he=s({},e,{variant:F,value:z,open:ne,error:b}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return u({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat(oi(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},qa,t)})(he),pe=s({},E.PaperProps,null==(r=E.slotProps)?void 0:r.paper),me=_i();return(0,Ar.jsxs)(t.Fragment,{children:[(0,Ar.jsx)(Ga,s({ref:X,tabIndex:ce,role:"combobox","aria-controls":me,"aria-disabled":y?"true":void 0,"aria-expanded":ne?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[S,de].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!R){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Z(!0,e))}},onMouseDown:y||R?null:e=>{0===e.button&&(e.preventDefault(),W.current.focus(),Z(!0,e))},onBlur:e=>{!ne&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:k}}),T(e))},onFocus:A},D,{ownerState:he,className:l(D.className,fe.select,p),id:de,children:Xa(re)?Ka||(Ka=(0,Ar.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,Ar.jsx)(Ya,s({"aria-invalid":b,value:Array.isArray(z)?z.join(","):z,name:k,ref:q,"aria-hidden":!0,onChange:e=>{const t=ee.find((t=>t.props.value===e.target.value));void 0!==t&&(U(t.props.value),x&&x(e,t))},tabIndex:-1,disabled:y,className:fe.nativeInput,autoFocus:c,ownerState:he},V)),(0,Ar.jsx)(Qa,{as:w,className:fe.icon,ownerState:he}),(0,Ar.jsx)(Ra,s({id:"menu-".concat(k||""),anchorEl:J,open:ne,onClose:e=>{Z(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:s({"aria-labelledby":S,role:"listbox","aria-multiselectable":I?"true":void 0,disableListWrap:!0,id:me},E.MenuListProps),slotProps:s({},E.slotProps,{paper:s({},pe,{style:s({minWidth:ue},null!=pe?pe.style:null)})}),children:le}))]})})),Za=Ja;function el(e){return Dr("MuiSvgIcon",e)}Lr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tl=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nl=Yn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(oi(n.color))],t["fontSize".concat(oi(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),rl=t.forwardRef((function(e,n){const r=er({props:e,name:"MuiSvgIcon"}),{children:i,className:a,color:c="inherit",component:d="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:p=!1,titleAccess:m,viewBox:g="0 0 24 24"}=r,y=o(r,tl),v=t.isValidElement(i)&&"svg"===i.type,b=s({},r,{color:c,component:d,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:g,hasSvgAsChild:v}),w={};p||(w.viewBox=g);const _=(e=>{const{color:t,fontSize:n,classes:r}=e;return u({root:["root","inherit"!==t&&"color".concat(oi(t)),"fontSize".concat(oi(n))]},el,r)})(b);return(0,Ar.jsxs)(nl,s({as:d,className:l(_.root,a),focusable:"false",color:f,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:n},w,y,v&&i.props,{ownerState:b,children:[v?i.props.children:i,m?(0,Ar.jsx)("title",{children:m}):null]}))}));rl.muiName="SvgIcon";const il=rl;const ol=function(e,n){function r(t,r){return(0,Ar.jsx)(il,s({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=il.muiName,t.memo(t.forwardRef(r))}((0,Ar.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),sl=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],al=["root"],ll={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Hn(e)&&"variant"!==e,slot:"Root"},cl=Yn(ro,ll)(""),ul=Yn(Eo,ll)(""),dl=Yn(uo,ll)(""),hl=t.forwardRef((function(e,n){const r=er({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:a,classes:c={},className:u,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:f=ol,id:p,input:m,inputProps:g,label:y,labelId:v,MenuProps:b,multiple:w=!1,native:_=!1,onClose:S,onOpen:E,open:I,renderValue:k,SelectDisplayProps:T,variant:x="outlined"}=r,C=o(r,sl),A=_?ja:Za,N=Ri({props:r,muiFormControl:Di(),states:["variant","error"]}),P=N.variant||x,R=s({},r,{variant:P,classes:c}),O=(e=>{const{classes:t}=e;return t})(R),D=o(O,al),L=m||{standard:(0,Ar.jsx)(cl,{ownerState:R}),outlined:(0,Ar.jsx)(ul,{label:y,ownerState:R}),filled:(0,Ar.jsx)(dl,{ownerState:R})}[P],M=rr(n,L.ref);return(0,Ar.jsx)(t.Fragment,{children:t.cloneElement(L,s({inputComponent:A,inputProps:s({children:a,error:N.error,IconComponent:f,variant:P,type:void 0,multiple:w},_?{id:p}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:v,MenuProps:b,onClose:S,onOpen:E,open:I,renderValue:k,SelectDisplayProps:s({id:p},T)},g,{classes:g?Xe(D,g.classes):D},m?m.props.inputProps:{})},w&&_&&"outlined"===P?{notched:!0}:{},{ref:M,className:l(L.props.className,u,O.root)},!m&&{variant:P},C))})}));hl.muiName="Select";const fl=hl;function pl(e){return Dr("MuiTextField",e)}Lr("MuiTextField",["root"]);const ml=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],gl={standard:ro,filled:uo,outlined:Eo},yl=Yn(jo,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vl=t.forwardRef((function(e,t){const n=er({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:a,className:c,color:d="primary",defaultValue:h,disabled:f=!1,error:p=!1,FormHelperTextProps:m,fullWidth:g=!1,helperText:y,id:v,InputLabelProps:b,inputProps:w,InputProps:_,inputRef:S,label:E,maxRows:I,minRows:k,multiline:T=!1,name:x,onBlur:C,onChange:A,onFocus:N,placeholder:P,required:R=!1,rows:O,select:D=!1,SelectProps:L,type:M,value:F,variant:V="outlined"}=n,z=o(n,ml),U=s({},n,{autoFocus:i,color:d,disabled:f,error:p,fullWidth:g,multiline:T,required:R,select:D,variant:V}),j=(e=>{const{classes:t}=e;return u({root:["root"]},pl,t)})(U);const B={};"outlined"===V&&(b&&"undefined"!==typeof b.shrink&&(B.notched=b.shrink),B.label=E),D&&(L&&L.native||(B.id=void 0),B["aria-describedby"]=void 0);const q=_i(v),W=y&&q?"".concat(q,"-helper-text"):void 0,K=E&&q?"".concat(q,"-label"):void 0,H=gl[V],G=(0,Ar.jsx)(H,s({"aria-describedby":W,autoComplete:r,autoFocus:i,defaultValue:h,fullWidth:g,multiline:T,name:x,rows:O,maxRows:I,minRows:k,type:M,value:F,id:q,inputRef:S,onBlur:C,onChange:A,onFocus:N,placeholder:P,inputProps:w},B,_));return(0,Ar.jsxs)(yl,s({className:l(j.root,c),disabled:f,error:p,fullWidth:g,ref:t,required:R,color:d,variant:V,ownerState:U},z,{children:[null!=E&&""!==E&&(0,Ar.jsx)(Lo,s({htmlFor:q,id:K},b,{children:E})),D?(0,Ar.jsx)(fl,s({"aria-describedby":W,id:q,labelId:K,value:F,input:G},L,{children:a})):G,y&&(0,Ar.jsx)(Go,s({id:W},m,{children:y}))]}))})),bl=vl,wl=["sx"];function _l(e){const{sx:t}=e,n=o(e,wl),{systemProps:r,otherProps:i}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Xt;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let a;return a=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return Ye(e)?s({},r,e):r}:s({},r,t),s({},i,{sx:a})}const Sl=t.createContext();function El(e){return Dr("MuiGrid",e)}const Il=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],kl=Lr("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...Il.map((e=>"grid-xs-".concat(e))),...Il.map((e=>"grid-sm-".concat(e))),...Il.map((e=>"grid-md-".concat(e))),...Il.map((e=>"grid-lg-".concat(e))),...Il.map((e=>"grid-xl-".concat(e)))]),Tl=kl,xl=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Cl(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Al(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const Nl=Yn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return s({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;return rt({theme:t},st({values:n.direction,breakpoints:t.breakpoints.values}),(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Tl.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=st({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Al({breakpoints:t.breakpoints.values,values:e})),o=rt({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(Cl(o)),["& > .".concat(Tl.item)]:{paddingTop:Cl(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(Tl.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=st({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Al({breakpoints:t.breakpoints.values,values:e})),o=rt({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(Cl(o),")"),marginLeft:"-".concat(Cl(o)),["& > .".concat(Tl.item)]:{paddingLeft:Cl(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(Tl.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=st({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[i]:a;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(Cl(e),")");u={flexBasis:t,maxWidth:t}}}o=s({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const Pl=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const d=[];l.forEach((t=>{const n=e[t];n&&d.push("grid-".concat(t,"-").concat(String(n)))}));return u({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...d]},El,t)},Rl=t.forwardRef((function(e,n){const r=er({props:e,name:"MuiGrid"}),{breakpoints:i}=Is(),a=_l(r),{className:c,columns:u,columnSpacing:d,component:h="div",container:f=!1,direction:p="row",item:m=!1,rowSpacing:g,spacing:y=0,wrap:v="wrap",zeroMinWidth:b=!1}=a,w=o(a,xl),_=g||y,S=d||y,E=t.useContext(Sl),I=f?u||12:E,k={},T=s({},w);i.keys.forEach((e=>{null!=w[e]&&(k[e]=w[e],delete T[e])}));const x=s({},a,{columns:I,container:f,direction:p,item:m,rowSpacing:_,columnSpacing:S,wrap:v,zeroMinWidth:b,spacing:y},k,{breakpoints:i.keys}),C=Pl(x);return(0,Ar.jsx)(Sl.Provider,{value:I,children:(0,Ar.jsx)(Nl,s({ownerState:x,className:l(C.root,c),as:h,ref:n},T))})}));const Ol=Rl,Dl=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ll={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ml;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ml extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fl=function(e){return function(e){const t=Dl(e);return Ll.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Vl=function(e){try{return Ll.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=zl(e[n],t[n]));return e}const Ul=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,jl=()=>{try{return Ul()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Vl(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Bl=()=>{var e;return null===(e=jl())||void 0===e?void 0:e.config};class ql{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Wl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kl(){var e;const t=null===(e=jl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Hl(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Gl(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ql(){const e=Wl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Yl(){try{return"object"===typeof indexedDB}catch(e){return!1}}class $l extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Jl,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new $l(n,o,t)}}const Jl=/\{\$([^}]+)}/g;function Zl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ec(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(tc(n)&&tc(o)){if(!ec(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tc(e){return null!==e&&"object"===typeof e}function nc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rc(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ic(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function oc(e,t){const n=new sc(e,t);return n.subscribe.bind(n)}class sc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ac),void 0===r.error&&(r.error=ac),void 0===r.complete&&(r.complete=ac);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ac(){}function lc(e){return e&&e._delegate?e._delegate:e}class cc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const uc="[DEFAULT]";class dc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ql;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uc})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hc(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc;return this.component?this.component.multipleInstances?e:uc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function hc(e){return e===uc?void 0:e}class fc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pc=[];var mc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mc||(mc={}));const gc={debug:mc.DEBUG,verbose:mc.VERBOSE,info:mc.INFO,warn:mc.WARN,error:mc.ERROR,silent:mc.SILENT},yc=mc.INFO,vc={[mc.DEBUG]:"log",[mc.VERBOSE]:"log",[mc.INFO]:"info",[mc.WARN]:"warn",[mc.ERROR]:"error"},bc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=vc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class wc{constructor(e){this.name=e,this._logLevel=yc,this._logHandler=bc,this._userLogHandler=null,pc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?gc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mc.DEBUG,...t),this._logHandler(this,mc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mc.VERBOSE,...t),this._logHandler(this,mc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mc.INFO,...t),this._logHandler(this,mc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mc.WARN,...t),this._logHandler(this,mc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mc.ERROR,...t),this._logHandler(this,mc.ERROR,...t)}}const _c=(e,t)=>t.some((t=>e instanceof t));let Sc,Ec;const Ic=new WeakMap,kc=new WeakMap,Tc=new WeakMap,xc=new WeakMap,Cc=new WeakMap;let Ac={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Nc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ec||(Ec=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Oc(this),n),Rc(Ic.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rc(e.apply(Oc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Oc(this),t,...r);return Tc.set(o,t.sort?t.sort():[t]),Rc(o)}}function Pc(e){return"function"===typeof e?Nc(e):(e instanceof IDBTransaction&&function(e){if(kc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));kc.set(e,t)}(e),_c(e,Sc||(Sc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ac):e)}function Rc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Rc(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ic.set(t,e)})).catch((()=>{})),Cc.set(t,e),t}(e);if(xc.has(e))return xc.get(e);const t=Pc(e);return t!==e&&(xc.set(e,t),Cc.set(t,e)),t}const Oc=e=>Cc.get(e);const Dc=["get","getKey","getAll","getAllKeys","count"],Lc=["put","add","delete","clear"],Mc=new Map;function Fc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mc.get(t))return Mc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dc.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Mc.set(t,o),o}Ac=(e=>({...e,get:(t,n,r)=>Fc(t,n)||e.get(t,n,r),has:(t,n)=>!!Fc(t,n)||e.has(t,n)}))(Ac);class Vc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const zc="@firebase/app",Uc="0.9.23",jc=new wc("@firebase/app"),Bc="[DEFAULT]",qc={[zc]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wc=new Map,Kc=new Map;function Hc(e,t){try{e.container.addComponent(t)}catch(n){jc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Gc(e,t){e.container.addOrOverwriteComponent(t)}function Qc(e){const t=e.name;if(Kc.has(t))return jc.debug("There were multiple attempts to register component ".concat(t,".")),!1;Kc.set(t,e);for(const n of Wc.values())Hc(n,e);return!0}function Yc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bc;Yc(e,t).clearInstance(n)}function Xc(){Kc.clear()}const Jc=new Xl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zc{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jc.create("app-deleted",{appName:this._name})}}const eu="10.6.0";function tu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Bc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jc.create("bad-app-name",{appName:String(i)});if(n||(n=Bl()),!n)throw Jc.create("no-options");const o=Wc.get(i);if(o){if(ec(n,o.options)&&ec(r,o.config))return o;throw Jc.create("duplicate-app",{appName:i})}const s=new fc(i);for(const l of Kc.values())s.addComponent(l);const a=new Zc(n,r,s);return Wc.set(i,a),a}function nu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc;const t=Wc.get(e);if(!t&&e===Bc&&Bl())return tu();if(!t)throw Jc.create("no-app",{appName:e});return t}function ru(){return Array.from(Wc.values())}async function iu(e){const t=e.name;Wc.has(t)&&(Wc.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ou(e,t,n){var r;let i=null!==(r=qc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void jc.warn(e.join(" "))}Qc(new cc("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function su(e,t){if(null!==e&&"function"!==typeof e)throw Jc.create("invalid-log-argument");!function(e,t){for(const n of pc){let r=null;t&&t.level&&(r=gc[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:mc[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function au(e){var t;t=e,pc.forEach((e=>{e.setLogLevel(t)}))}const lu="firebase-heartbeat-database",cu=1,uu="firebase-heartbeat-store";let du=null;function hu(){return du||(du=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Rc(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Rc(s.result),e.oldVersion,e.newVersion,Rc(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(lu,cu,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(uu)}}).catch((e=>{throw Jc.create("idb-open",{originalErrorMessage:e.message})}))),du}async function fu(e,t){try{const n=(await hu()).transaction(uu,"readwrite"),r=n.objectStore(uu);await r.put(t,pu(e)),await n.done}catch(n){if(n instanceof $l)jc.warn(n.message);else{const e=Jc.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});jc.warn(e.message)}}}function pu(e){return"".concat(e.name,"!").concat(e.options.appId)}class mu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yu(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e;const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=gu();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=gu(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),vu(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Fl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gu(){return(new Date).toISOString().substring(0,10)}class yu{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Yl()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await hu();return await t.transaction(uu).objectStore(uu).get(pu(e))}catch(t){if(t instanceof $l)jc.warn(t.message);else{const e=Jc.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});jc.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vu(e){return Fl(JSON.stringify({version:2,heartbeats:e})).length}var bu;bu="",Qc(new cc("platform-logger",(e=>new Vc(e)),"PRIVATE")),Qc(new cc("heartbeat",(e=>new mu(e)),"PRIVATE")),ou(zc,Uc,bu),ou(zc,Uc,"esm2017"),ou("fire-js","");class wu{constructor(e,t){this._delegate=e,this.firebase=t,Hc(e,new cc("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),iu(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bc;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bc;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Hc(this._delegate,e)}_addOrOverwriteComponent(e){Gc(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _u=new Xl("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Su=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=tu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Zl(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:ou,setLogLevel:au,onLog:su,apps:null,SDK_VERSION:eu,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Qc(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw _u.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&zl(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Zl(n,e=e||Bc))throw _u.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(wu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){zl(n,e)},createSubscribe:oc,ErrorFactory:Xl,deepExtend:zl}),n}(),Eu=new wc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Eu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Eu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Iu=Su;!function(e){ou("@firebase/app-compat","0.2.23",e)}();Iu.registerVersion("firebase","10.6.0","app-compat");var ku,Tu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},xu={},Cu=Cu||{},Au=Tu||self;function Nu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ru="closure_uid_"+(1e9*Math.random()>>>0),Ou=0;function Du(e,t,n){return e.call.apply(e.bind,arguments)}function Lu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mu(e,t,n){return(Mu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Du:Lu).apply(null,arguments)}function Fu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function zu(){this.s=this.s,this.o=this.o}zu.prototype.s=!1,zu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ru)&&e[Ru]||(e[Ru]=++Ou))},zu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ju(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bu(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Nu(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function qu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qu.prototype.h=function(){this.defaultPrevented=!0};var Wu=function(){if(!Au.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Au.addEventListener("test",(()=>{}),t),Au.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Ku(e){return/^[\s\xa0]*$/.test(e)}function Hu(){var e=Au.navigator;return e&&(e=e.userAgent)?e:""}function Gu(e){return-1!=Hu().indexOf(e)}function Qu(e){return Qu[" "](e),e}Qu[" "]=function(){};var Yu,$u,Xu=Gu("Opera"),Ju=Gu("Trident")||Gu("MSIE"),Zu=Gu("Edge"),ed=Zu||Ju,td=Gu("Gecko")&&!(-1!=Hu().toLowerCase().indexOf("webkit")&&!Gu("Edge"))&&!(Gu("Trident")||Gu("MSIE"))&&!Gu("Edge"),nd=-1!=Hu().toLowerCase().indexOf("webkit")&&!Gu("Edge");function rd(){var e=Au.document;return e?e.documentMode:void 0}e:{var id="",od=function(){var e=Hu();return td?/rv:([^\);]+)(\)|;)/.exec(e):Zu?/Edge\/([\d\.]+)/.exec(e):Ju?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nd?/WebKit\/(\S+)/.exec(e):Xu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(od&&(id=od?od[1]:""),Ju){var sd=rd();if(null!=sd&&sd>parseFloat(id)){Yu=String(sd);break e}}Yu=id}if(Au.document&&Ju){var ad=rd();$u=ad||(parseInt(Yu,10)||void 0)}else $u=void 0;var ld=$u;function cd(e,t){if(qu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(td){e:{try{Qu(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ud[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cd.$.h.call(this)}}Vu(cd,qu);var ud={2:"touch",3:"pen",4:"mouse"};cd.prototype.h=function(){cd.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var dd="closure_listenable_"+(1e6*Math.random()|0),hd=0;function fd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++hd,this.fa=this.ia=!1}function pd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function md(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function gd(e){const t={};for(const n in e)t[n]=e[n];return t}const yd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vd(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<yd.length;t++)n=yd[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bd(e){this.src=e,this.g={},this.h=0}function wd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Uu(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(pd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _d(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}bd.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=_d(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new fd(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Sd="closure_lm_"+(1e6*Math.random()|0),Ed={};function Id(e,t,n,r,i){if(r&&r.once)return Td(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Id(e,t[o],n,r,i);return null}return n=Od(n),e&&e[dd]?e.O(t,n,Pu(r)?!!r.capture:!!r,i):kd(e,t,n,!1,r,i)}function kd(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Pu(i)?!!i.capture:!!i,a=Pd(e);if(a||(e[Sd]=a=new bd(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Nd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wu||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ad(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Td(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Td(e,t[o],n,r,i);return null}return n=Od(n),e&&e[dd]?e.P(t,n,Pu(r)?!!r.capture:!!r,i):kd(e,t,n,!0,r,i)}function xd(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)xd(e,t[o],n,r,i);else r=Pu(r)?!!r.capture:!!r,n=Od(n),e&&e[dd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_d(o=e.g[t],n,r,i))&&(pd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Pd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_d(t,n,r,i)),(n=-1<e?t[e]:null)&&Cd(n))}function Cd(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[dd])wd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ad(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pd(t))?(wd(n,e),0==n.h&&(n.src=null,t[Sd]=null)):pd(e)}}}function Ad(e){return e in Ed?Ed[e]:Ed[e]="on"+e}function Nd(e,t){if(e.fa)e=!0;else{t=new cd(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Cd(e),e=n.call(r,t)}return e}function Pd(e){return(e=e[Sd])instanceof bd?e:null}var Rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Od(e){return"function"===typeof e?e:(e[Rd]||(e[Rd]=function(t){return e.handleEvent(t)}),e[Rd])}function Dd(){zu.call(this),this.i=new bd(this),this.S=this,this.J=null}function Ld(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new qu(t,e);else if(t instanceof qu)t.target=t.target||e;else{var i=t;vd(t=new qu(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Md(s,r,!0,t)&&i}if(i=Md(s=t.g=e,r,!0,t)&&i,i=Md(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Md(s=t.g=n[o],r,!1,t)&&i}function Md(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&wd(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Vu(Dd,zu),Dd.prototype[dd]=!0,Dd.prototype.removeEventListener=function(e,t,n,r){xd(this,e,t,n,r)},Dd.prototype.N=function(){if(Dd.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pd(n[r]);delete t.g[e],t.h--}}this.J=null},Dd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dd.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fd=Au.JSON.stringify;function Vd(){var e=Kd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zd=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ud),(e=>e.reset()));class Ud{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jd(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Bd(e){Au.setTimeout((()=>{throw e}),0)}let qd,Wd=!1,Kd=new class{constructor(){this.h=this.g=null}add(e,t){const n=zd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Hd=()=>{const e=Au.Promise.resolve(void 0);qd=()=>{e.then(Gd)}};var Gd=()=>{for(var e;e=Vd();){try{e.h.call(e.g)}catch(n){Bd(n)}var t=zd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wd=!1};function Qd(e,t){Dd.call(this),this.h=e||1,this.g=t||Au,this.j=Mu(this.qb,this),this.l=Date.now()}function Yd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function $d(e,t,n){if("function"===typeof e)n&&(e=Mu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mu(e.handleEvent,e)}return 2147483647<Number(t)?-1:Au.setTimeout(e,t||0)}function Xd(e){e.g=$d((()=>{e.g=null,e.i&&(e.i=!1,Xd(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Vu(Qd,Dd),(ku=Qd.prototype).ga=!1,ku.T=null,ku.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ld(this,"tick"),this.ga&&(Yd(this),this.start()))}},ku.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ku.N=function(){Qd.$.N.call(this),Yd(this),delete this.g};class Jd extends zu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xd(this)}N(){super.N(),this.g&&(Au.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zd(e){zu.call(this),this.h=e,this.g={}}Vu(Zd,zu);var eh=[];function th(e,t,n,r){Array.isArray(n)||(n&&(eh[0]=n.toString()),n=eh);for(var i=0;i<n.length;i++){var o=Id(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function nh(e){md(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Cd(e)}),e),e.g={}}function rh(){this.g=!0}function ih(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Fd(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Zd.prototype.N=function(){Zd.$.N.call(this),nh(this)},Zd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rh.prototype.Ea=function(){this.g=!1},rh.prototype.info=function(){};var oh={},sh=null;function ah(){return sh=sh||new Dd}function lh(e){qu.call(this,oh.Ta,e)}function ch(e){const t=ah();Ld(t,new lh(t))}function uh(e,t){qu.call(this,oh.STAT_EVENT,e),this.stat=t}function dh(e){const t=ah();Ld(t,new uh(t,e))}function hh(e,t){qu.call(this,oh.Ua,e),this.size=t}function fh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Au.setTimeout((function(){e()}),t)}oh.Ta="serverreachability",Vu(lh,qu),oh.STAT_EVENT="statevent",Vu(uh,qu),oh.Ua="timingevent",Vu(hh,qu);var ph={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gh(){}function yh(e){return e.h||(e.h=e.i())}function vh(){}gh.prototype.h=null;var bh,wh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _h(){qu.call(this,"d")}function Sh(){qu.call(this,"c")}function Eh(){}function Ih(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Zd(this),this.P=Th,e=ed?125:void 0,this.V=new Qd(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kh}function kh(){this.i=null,this.g="",this.h=!1}Vu(_h,qu),Vu(Sh,qu),Vu(Eh,gh),Eh.prototype.g=function(){return new XMLHttpRequest},Eh.prototype.i=function(){return{}},bh=new Eh;var Th=45e3,xh={},Ch={};function Ah(e,t,n){e.L=1,e.v=Qh(qh(t)),e.s=n,e.S=!0,Nh(e,null)}function Nh(e,t){e.G=Date.now(),Dh(e),e.A=qh(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),lf(n.i,"t",r),e.C=0,n=e.l.J,e.h=new kh,e.g=cp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Jd(Mu(e.Pa,e,e.g),e.O)),th(e.U,e.g,"readystatechange",e.nb),t=e.I?gd(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ch(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ph(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Rh(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Oh(e,n),r==Ch){4==t&&(e.o=4,dh(14),i=!1),ih(e.j,e.m,null,"[Incomplete Response]");break}if(r==xh){e.o=4,dh(15),ih(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ih(e.j,e.m,r,null),zh(e,r)}Ph(e)&&r!=Ch&&r!=xh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tp(t),t.M=!0,dh(11))):(ih(e.j,e.m,n,"[Invalid Chunked Response]"),Vh(e),Fh(e))}function Oh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ch:(n=Number(t.substring(n,r)),isNaN(n)?xh:(r+=1)+n>t.length?Ch:(t=t.slice(r,r+n),e.C=r+n,t))}function Dh(e){e.Y=Date.now()+e.P,Lh(e,e.P)}function Lh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fh(Mu(e.lb,e),t)}function Mh(e){e.B&&(Au.clearTimeout(e.B),e.B=null)}function Fh(e){0==e.l.H||e.J||ip(e.l,e)}function Vh(e){Mh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Yd(e.V),nh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function zh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||mf(n.i,e)))if(!e.K&&mf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rp(n),Gf(n)}ep(n),dh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=fh(Mu(n.ib,n),6e3));if(1>=pf(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else sp(n,11)}else if((e.K||n.g==e)&&rp(n),!Ku(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(gf(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Gh(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=lp(r,r.J?r.pa:null,r.Y),s.K){yf(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Mh(a),Dh(a)),r.g=s}else Zf(r);0<n.j.length&&Yf(n)}else"stop"!=c[0]&&"close"!=c[0]||sp(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sp(n,7):Hf(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ch()}catch(c){}}function Uh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Nu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Nu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(ku=Ih.prototype).setTimeout=function(e){this.P=e},ku.nb=function(e){e=e.target;const t=this.M;t&&3==Uf(e)?t.l():this.Pa(e)},ku.Pa=function(e){try{if(e==this.g)e:{const u=Uf(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ed||this.g&&(this.h.h||this.g.ja()||jf(this.g)))){this.J||4!=u||7==t||ch(),Mh(this);var n=this.g.da();this.ca=n;t:if(Ph(this)){var r=jf(this.g);e="";var i=r.length,o=4==Uf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vh(this),Fh(this);var s="";break t}this.h.i=new Au.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ku(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,dh(12),Vh(this),Fh(this);break e}ih(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zh(this,n)}this.S?(Rh(this,u,s),ed&&this.i&&3==u&&(th(this.U,this.V,"tick",this.mb),this.V.start())):(ih(this.j,this.m,s,null),zh(this,s)),4==u&&Vh(this),this.i&&!this.J&&(4==u?ip(this.l,this):(this.i=!1,Dh(this)))}else(function(e){const t={};e=(e.g&&2<=Uf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ku(e[r]))continue;var n=jd(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,dh(12)):(this.o=0,dh(13)),Vh(this),Fh(this)}}}catch(u){}},ku.mb=function(){if(this.g){var e=Uf(this.g),t=this.g.ja();this.C<t.length&&(Mh(this),Rh(this,e,t),this.i&&4!=e&&Dh(this))}},ku.cancel=function(){this.J=!0,Vh(this)},ku.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ch(),dh(17)),Vh(this),this.o=2,Fh(this)):Lh(this,this.Y-e)};var jh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bh){this.h=e.h,Wh(this,e.j),this.s=e.s,this.g=e.g,Kh(this,e.m),this.l=e.l;var t=e.i,n=new rf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hh(this,n),this.o=e.o}else e&&(t=String(e).match(jh))?(this.h=!1,Wh(this,t[1]||"",!0),this.s=Yh(t[2]||""),this.g=Yh(t[3]||"",!0),Kh(this,t[4]),this.l=Yh(t[5]||"",!0),Hh(this,t[6]||"",!0),this.o=Yh(t[7]||"")):(this.h=!1,this.i=new rf(null,this.h))}function qh(e){return new Bh(e)}function Wh(e,t,n){e.j=n?Yh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hh(e,t,n){t instanceof rf?(e.i=t,function(e,t){t&&!e.j&&(of(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sf(this,t),lf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=$h(t,tf)),e.i=new rf(t,e.h))}function Gh(e,t,n){e.i.set(t,n)}function Qh(e){return Gh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $h(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Xh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bh.prototype.toString=function(){var e=[],t=this.j;t&&e.push($h(t,Jh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($h(t,Jh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($h(n,"/"==n.charAt(0)?ef:Zh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$h(n,nf)),e.join("")};var Jh=/[#\/\?@]/g,Zh=/[#\?:]/g,ef=/[#\?]/g,tf=/[#\?@]/g,nf=/#/g;function rf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function of(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sf(e,t){of(e),t=cf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function af(e,t){return of(e),t=cf(e,t),e.g.has(t)}function lf(e,t,n){sf(e,t),0<n.length&&(e.i=null,e.g.set(cf(e,t),ju(n)),e.h+=n.length)}function cf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ku=rf.prototype).add=function(e,t){of(this),this.i=null,e=cf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ku.forEach=function(e,t){of(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ku.ta=function(){of(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},ku.Z=function(e){of(this);let t=[];if("string"===typeof e)af(this,e)&&(t=t.concat(this.g.get(cf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ku.set=function(e,t){return of(this),this.i=null,af(this,e=cf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ku.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ku.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var uf=class{constructor(e,t){this.g=e,this.map=t}};function df(e){this.l=e||hf,Au.PerformanceNavigationTiming?e=0<(e=Au.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Au.g&&Au.g.Ka&&Au.g.Ka()&&Au.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hf=10;function ff(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pf(e){return e.h?1:e.g?e.g.size:0}function mf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gf(e,t){e.g?e.g.add(t):e.h=t}function yf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ju(e.i)}df.prototype.cancel=function(){if(this.i=vf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var bf,wf=class{stringify(e){return Au.JSON.stringify(e,void 0)}parse(e){return Au.JSON.parse(e,void 0)}};function _f(){this.g=new wf}function Sf(e,t,n){const r=n||"";try{Uh(e,(function(e,n){let i=e;Pu(e)&&(i=Fd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ef(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function If(e){this.l=e.ec||null,this.j=e.ob||!1}function kf(e,t){Dd.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Tf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vu(If,gh),If.prototype.g=function(){return new kf(this.l,this.j)},If.prototype.i=(bf={},function(){return bf}),Vu(kf,Dd);var Tf=0;function xf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Cf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Af(e)}function Af(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ku=kf.prototype).open=function(e,t){if(this.readyState!=Tf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Af(this)},ku.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Au).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ku.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cf(this)),this.readyState=Tf},ku.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Af(this)),this.g&&(this.readyState=3,Af(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Au.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ku.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cf(this):Af(this),3==this.readyState&&xf(this)}},ku.Za=function(e){this.g&&(this.response=this.responseText=e,Cf(this))},ku.Ya=function(e){this.g&&(this.response=e,Cf(this))},ku.ka=function(){this.g&&Cf(this)},ku.setRequestHeader=function(e,t){this.v.append(e,t)},ku.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ku.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nf=Au.JSON.parse;function Pf(e){Dd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rf,this.L=this.M=!1}Vu(Pf,Dd);var Rf="",Of=/^https?$/i,Df=["POST","PUT"];function Lf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mf(e),Vf(e)}function Mf(e){e.F||(e.F=!0,Ld(e,"complete"),Ld(e,"error"))}function Ff(e){if(e.h&&"undefined"!=typeof Cu&&(!e.C[1]||4!=Uf(e)||2!=e.da()))if(e.v&&4==Uf(e))$d(e.La,0,e);else if(Ld(e,"readystatechange"),4==Uf(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(jh)[1]||null;!i&&Au.self&&Au.self.location&&(i=Au.self.location.protocol.slice(0,-1)),r=!Of.test(i?i.toLowerCase():"")}n=r}if(n)Ld(e,"complete"),Ld(e,"success");else{e.m=6;try{var o=2<Uf(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Mf(e)}}finally{Vf(e)}}}function Vf(e,t){if(e.g){zf(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ld(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function zf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Au.clearTimeout(e.A),e.A=null)}function Uf(e){return e.g?e.g.readyState:0}function jf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Rf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qp){return null}}function Bf(e){let t="";return md(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gh(e,t,n))}function Wf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kf(e){this.Ga=0,this.j=[],this.l=new rh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wf("baseRetryDelayMs",5e3,e),this.hb=Wf("retryDelaySeedMs",1e4,e),this.eb=Wf("forwardChannelMaxRetries",2,e),this.xa=Wf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new df(e&&e.concurrentRequestLimit),this.Ja=new _f,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hf(e){if(Qf(e),3==e.H){var t=e.W++,n=qh(e.I);if(Gh(n,"SID",e.K),Gh(n,"RID",t),Gh(n,"TYPE","terminate"),Xf(e,n),(t=new Ih(e,e.l,t)).L=2,t.v=Qh(qh(n)),n=!1,Au.navigator&&Au.navigator.sendBeacon)try{n=Au.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Au.Image&&((new Image).src=t.v,n=!0),n||(t.g=cp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Dh(t)}ap(e)}function Gf(e){e.g&&(tp(e),e.g.cancel(),e.g=null)}function Qf(e){Gf(e),e.u&&(Au.clearTimeout(e.u),e.u=null),rp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Au.clearTimeout(e.m),e.m=null)}function Yf(e){if(!ff(e.i)&&!e.m){e.m=!0;var t=e.Na;qd||Hd(),Wd||(qd(),Wd=!0),Kd.add(t,e),e.C=0}}function $f(e,t){var n;n=t?t.m:e.W++;const r=qh(e.I);Gh(r,"SID",e.K),Gh(r,"RID",n),Gh(r,"AID",e.V),Xf(e,r),e.o&&e.s&&qf(r,e.o,e.s),n=new Ih(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gf(e.i,n),Ah(n,r,t)}function Xf(e,t){e.na&&md(e.na,(function(e,n){Gh(t,n,e)})),e.h&&Uh({},(function(e,n){Gh(t,n,e)}))}function Jf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Mu(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Sf(a,e,"req"+n+"_")}catch(dg){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Zf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;qd||Hd(),Wd||(qd(),Wd=!0),Kd.add(t,e),e.A=0}}function ep(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=fh(Mu(e.Ma,e),op(e,e.A)),e.A++,!0)}function tp(e){null!=e.B&&(Au.clearTimeout(e.B),e.B=null)}function np(e){e.g=new Ih(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=qh(e.wa);Gh(t,"RID","rpc"),Gh(t,"SID",e.K),Gh(t,"AID",e.V),Gh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Gh(t,"TO",e.qa),Gh(t,"TYPE","xmlhttp"),Xf(e,t),e.o&&e.s&&qf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Qh(qh(t)),n.s=null,n.S=!0,Nh(n,e)}function rp(e){null!=e.v&&(Au.clearTimeout(e.v),e.v=null)}function ip(e,t){var n=null;if(e.g==t){rp(e),tp(e),e.g=null;var r=2}else{if(!mf(e.i,t))return;n=t.F,yf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ld(r=ah(),new hh(r,n)),Yf(e)}else Zf(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(pf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=fh(Mu(e.Na,e,t),op(e,e.C)),e.C++,!0))}(e,t)||2==r&&ep(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sp(e,5);break;case 4:sp(e,10);break;case 3:sp(e,6);break;default:sp(e,2)}}function op(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Mu(e.pb,e);n||(n=new Bh("//www.google.com/images/cleardot.gif"),Au.location&&"http"==Au.location.protocol||Wh(n,"https"),Qh(n)),function(e,t){const n=new rh;if(Au.Image){const r=new Image;r.onload=Fu(Ef,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fu(Ef,n,r,"TestLoadImage: error",!1,t),r.onabort=Fu(Ef,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fu(Ef,n,r,"TestLoadImage: timeout",!1,t),Au.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dh(2);e.H=0,e.h&&e.h.za(t),ap(e),Qf(e)}function ap(e){if(e.H=0,e.ma=[],e.h){const t=vf(e.i);0==t.length&&0==e.j.length||(Bu(e.ma,t),Bu(e.ma,e.j),e.i.i.length=0,ju(e.j),e.j.length=0),e.h.ya()}}function lp(e,t,n){var r=n instanceof Bh?qh(n):new Bh(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Kh(r,r.m);else{var i=Au.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Bh(null);r&&Wh(o,r),t&&(o.g=t),i&&Kh(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Gh(r,n,t),Gh(r,"VER",e.ra),Xf(e,r),r}function cp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Pf(new If({ob:!0})):new Pf(e.va)).Oa(e.J),t}function up(){}function dp(){if(Ju&&!(10<=Number(ld)))throw Error("Environmental error: no available transport.")}function hp(e,t){Dd.call(this),this.g=new Kf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ku(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ku(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mp(this)}function fp(e){_h.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pp(){Sh.call(this),this.status=1}function mp(e){this.g=e}function gp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function vp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(ku=Pf.prototype).Oa=function(e){this.M=e},ku.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bh.g(),this.C=this.u?yh(this.u):yh(bh),this.g.onreadystatechange=Mu(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Lf(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Au.FormData&&e instanceof Au.FormData,!(0<=Uu(Df,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zf(this),0<this.B&&((this.L=function(e){return Ju&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mu(this.ua,this)):this.A=$d(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Lf(this,o)}},ku.ua=function(){"undefined"!=typeof Cu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ld(this,"timeout"),this.abort(8))},ku.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ld(this,"complete"),Ld(this,"abort"),Vf(this))},ku.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vf(this,!0)),Pf.$.N.call(this)},ku.La=function(){this.s||(this.G||this.v||this.l?Ff(this):this.kb())},ku.kb=function(){Ff(this)},ku.isActive=function(){return!!this.g},ku.da=function(){try{return 2<Uf(this)?this.g.status:-1}catch(bf){return-1}},ku.ja=function(){try{return this.g?this.g.responseText:""}catch(bf){return""}},ku.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nf(t)}},ku.Ia=function(){return this.m},ku.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ku=Kf.prototype).ra=8,ku.H=1,ku.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ih(this,this.l,e);let o=this.s;if(this.U&&(o?(o=gd(o),vd(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jf(this,i,t),Gh(n=qh(this.I),"RID",e),Gh(n,"CVER",22),this.F&&Gh(n,"X-HTTP-Session-Id",this.F),Xf(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Bf(o)))+"&"+t:this.o&&qf(n,this.o,o)),gf(this.i,i),this.bb&&Gh(n,"TYPE","init"),this.P?(Gh(n,"$req",t),Gh(n,"SID","null"),i.aa=!0,Ah(i,n,null)):Ah(i,n,t),this.H=2}}else 3==this.H&&(e?$f(this,e):0==this.j.length||ff(this.i)||$f(this))},ku.Ma=function(){if(this.u=null,np(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fh(Mu(this.jb,this),e)}},ku.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dh(10),Gf(this),np(this))},ku.ib=function(){null!=this.v&&(this.v=null,Gf(this),ep(this),dh(19))},ku.pb=function(e){e?(this.l.info("Successfully pinged google.com"),dh(2)):(this.l.info("Failed to ping google.com"),dh(1))},ku.isActive=function(){return!!this.h&&this.h.isActive(this)},(ku=up.prototype).Ba=function(){},ku.Aa=function(){},ku.za=function(){},ku.ya=function(){},ku.isActive=function(){return!0},ku.Va=function(){},dp.prototype.g=function(e,t){return new hp(e,t)},Vu(hp,Dd),hp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;dh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lp(e,null,e.Y),Yf(e)},hp.prototype.close=function(){Hf(this.g)},hp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fd(e),e=n);t.j.push(new uf(t.fb++,e)),3==t.H&&Yf(t)},hp.prototype.N=function(){this.g.h=null,delete this.j,Hf(this.g),delete this.g,hp.$.N.call(this)},Vu(fp,_h),Vu(pp,Sh),Vu(mp,up),mp.prototype.Ba=function(){Ld(this.g,"a")},mp.prototype.Aa=function(e){Ld(this.g,new fp(e))},mp.prototype.za=function(e){Ld(this.g,new pp)},mp.prototype.ya=function(){Ld(this.g,"b")},Vu(gp,(function(){this.blockSize=-1})),gp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)yp(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){yp(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){yp(this,r),i=0;break}}this.h=i,this.i+=t},gp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var bp={};function wp(e){return-128<=e&&128>e?function(e,t){var n=bp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new vp([0|e],0>e?-1:0)})):new vp([0|e],0>e?-1:0)}function _p(e){if(isNaN(e)||!isFinite(e))return Ep;if(0>e)return Cp(_p(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sp;return new vp(t,0)}var Sp=4294967296,Ep=wp(0),Ip=wp(1),kp=wp(16777216);function Tp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function xp(e){return-1==e.h}function Cp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new vp(n,~e.h).add(Ip)}function Ap(e,t){return e.add(Cp(t))}function Np(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Pp(e,t){this.g=e,this.h=t}function Rp(e,t){if(Tp(t))throw Error("division by zero");if(Tp(e))return new Pp(Ep,Ep);if(xp(e))return t=Rp(Cp(e),t),new Pp(Cp(t.g),Cp(t.h));if(xp(t))return t=Rp(e,Cp(t)),new Pp(Cp(t.g),t.h);if(30<e.g.length){if(xp(e)||xp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ip,r=t;0>=r.X(e);)n=Op(n),r=Op(r);var i=Dp(n,1),o=Dp(r,1);for(r=Dp(r,2),n=Dp(n,2);!Tp(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Dp(r,1),n=Dp(n,1)}return t=Ap(e,i.R(t)),new Pp(i,t)}for(i=Ep;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=_p(n)).R(t);xp(s)||0<s.X(e);)s=(o=_p(n-=r)).R(t);Tp(o)&&(o=Ip),i=i.add(o),e=Ap(e,s)}return new Pp(i,e)}function Op(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new vp(n,e.h)}function Dp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new vp(i,e.h)}(ku=vp.prototype).ea=function(){if(xp(this))return-Cp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sp+r)*t,t*=Sp}return e},ku.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Tp(this))return"0";if(xp(this))return"-"+Cp(this).toString(e);for(var t=_p(Math.pow(e,6)),n=this,r="";;){var i=Rp(n,t).g,o=((0<(n=Ap(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Tp(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ku.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ku.X=function(e){return xp(e=Ap(this,e))?-1:Tp(e)?0:1},ku.abs=function(){return xp(this)?Cp(this):this},ku.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new vp(n,-2147483648&n[n.length-1]?-1:0)},ku.R=function(e){if(Tp(this)||Tp(e))return Ep;if(xp(this))return xp(e)?Cp(this).R(Cp(e)):Cp(Cp(this).R(e));if(xp(e))return Cp(this.R(Cp(e)));if(0>this.X(kp)&&0>e.X(kp))return _p(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Np(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Np(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Np(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Np(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new vp(n,0)},ku.gb=function(e){return Rp(this,e).h},ku.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new vp(n,this.h&e.h)},ku.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new vp(n,this.h|e.h)},ku.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new vp(n,this.h^e.h)},dp.prototype.createWebChannel=dp.prototype.g,hp.prototype.send=hp.prototype.u,hp.prototype.open=hp.prototype.m,hp.prototype.close=hp.prototype.close,ph.NO_ERROR=0,ph.TIMEOUT=8,ph.HTTP_ERROR=6,mh.COMPLETE="complete",vh.EventType=wh,wh.OPEN="a",wh.CLOSE="b",wh.ERROR="c",wh.MESSAGE="d",Dd.prototype.listen=Dd.prototype.O,Pf.prototype.listenOnce=Pf.prototype.P,Pf.prototype.getLastError=Pf.prototype.Sa,Pf.prototype.getLastErrorCode=Pf.prototype.Ia,Pf.prototype.getStatus=Pf.prototype.da,Pf.prototype.getResponseJson=Pf.prototype.Wa,Pf.prototype.getResponseText=Pf.prototype.ja,Pf.prototype.send=Pf.prototype.ha,Pf.prototype.setWithCredentials=Pf.prototype.Oa,gp.prototype.digest=gp.prototype.l,gp.prototype.reset=gp.prototype.reset,gp.prototype.update=gp.prototype.j,vp.prototype.add=vp.prototype.add,vp.prototype.multiply=vp.prototype.R,vp.prototype.modulo=vp.prototype.gb,vp.prototype.compare=vp.prototype.X,vp.prototype.toNumber=vp.prototype.ea,vp.prototype.toString=vp.prototype.toString,vp.prototype.getBits=vp.prototype.D,vp.fromNumber=_p,vp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Cp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=_p(Math.pow(n,8)),i=Ep,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=_p(Math.pow(n,s)),i=i.R(s).add(_p(a))):i=(i=i.R(r)).add(_p(a))}return i};var Lp=xu.createWebChannelTransport=function(){return new dp},Mp=xu.getStatEventTarget=function(){return ah()},Fp=xu.ErrorCode=ph,Vp=xu.EventType=mh,zp=xu.Event=oh,Up=xu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jp=xu.FetchXmlHttpFactory=If,Bp=xu.WebChannel=vh,qp=xu.XhrIo=Pf,Wp=xu.Md5=gp,Kp=xu.Integer=vp;const Hp="@firebase/firestore";class Gp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gp.UNAUTHENTICATED=new Gp(null),Gp.GOOGLE_CREDENTIALS=new Gp("google-credentials-uid"),Gp.FIRST_PARTY=new Gp("first-party-uid"),Gp.MOCK_USER=new Gp("mock-user");let Qp="10.5.2";const Yp=new wc("@firebase/firestore");function $p(){return Yp.logLevel}function Xp(e){if(Yp.logLevel<=mc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(em);Yp.debug("Firestore (".concat(Qp,"): ").concat(e),...i)}}function Jp(e){if(Yp.logLevel<=mc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(em);Yp.error("Firestore (".concat(Qp,"): ").concat(e),...i)}}function Zp(e){if(Yp.logLevel<=mc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(em);Yp.warn("Firestore (".concat(Qp,"): ").concat(e),...i)}}function em(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Qp,") INTERNAL ASSERTION FAILED: ")+e;throw Jp(t),new Error(t)}function nm(e,t){e||tm()}function rm(e,t){return e}const im={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class om extends $l{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class sm{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class am{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class lm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gp.UNAUTHENTICATED)))}shutdown(){}}class cm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class um{constructor(e){this.t=e,this.currentUser=Gp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new sm;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new sm,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Xp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Xp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sm)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nm("string"==typeof t.accessToken),new am(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nm(null===e||"string"==typeof e),new Gp(e)}}class dm{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Gp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new dm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Gp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pm{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Xp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Xp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Xp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nm("string"==typeof e.token),this.R=e.token,new fm(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=mm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ym(e,t){return e<t?-1:e>t?1:0}function vm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function bm(e){return e+"\0"}class wm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new om(im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new om(im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new om(im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new om(im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wm.fromMillis(Date.now())}static fromDate(e){return wm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new wm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ym(this.nanoseconds,e.nanoseconds):ym(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _m{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _m(e)}static min(){return new _m(new wm(0,0))}static max(){return new _m(new wm(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sm{constructor(e,t,n){void 0===t?t=0:t>e.length&&tm(),void 0===n?n=e.length-t:n>e.length-t&&tm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Em extends Sm{construct(e,t,n){return new Em(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new om(im.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Em(e)}static emptyPath(){return new Em([])}}const Im=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class km extends Sm{construct(e,t,n){return new km(e,t,n)}static isValidIdentifier(e){return Im.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),km.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new km(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new om(im.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new om(im.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new om(im.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new om(im.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new km(t)}static emptyPath(){return new km([])}}class Tm{constructor(e){this.path=e}static fromPath(e){return new Tm(Em.fromString(e))}static fromName(e){return new Tm(Em.fromString(e).popFirst(5))}static empty(){return new Tm(Em.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Em.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Em.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tm(new Em(e.slice()))}}class xm{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Cm(e){return e.fields.find((e=>2===e.kind))}function Am(e){return e.fields.filter((e=>2!==e.kind))}xm.UNKNOWN_ID=-1;class Nm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pm(0,Dm.min())}}function Rm(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_m.fromTimestamp(1e9===r?new wm(n+1,0):new wm(n,r));return new Dm(i,Tm.empty(),t)}function Om(e){return new Dm(e.readTime,e.key,-1)}class Dm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Dm(_m.min(),Tm.empty(),-1)}static max(){return new Dm(_m.max(),Tm.empty(),-1)}}function Lm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Tm.comparator(e.documentKey,t.documentKey),0!==n?n:ym(e.largestBatchId,t.largestBatchId))}const Mm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vm(e){if(e.code!==im.FAILED_PRECONDITION||e.message!==Mm)throw e;Xp("LocalStore","Unexpectedly lost primary lease")}class zm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof zm?t:zm.resolve(t)}catch(e){return zm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):zm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):zm.reject(t)}static resolve(e){return new zm(((t,n)=>{t(e)}))}static reject(e){return new zm(((t,n)=>{n(e)}))}static waitFor(e){return new zm(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=zm.resolve(!1);for(const n of e)t=t.next((e=>e?zm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new zm(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new zm(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Um{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new sm,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new qm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Qm(t.target.error);this.V.reject(new qm(e,n))}}static open(e,t,n,r){try{return new Um(t,e.transaction(r,n))}catch(e){throw new qm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Km(t)}}class jm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===jm.S(Wl())&&Jp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xp("SimpleDb","Removing database:",e),Hm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Yl())return!1;if(jm.C())return!0;const e=Wl(),t=jm.S(e),n=0<t&&t<10,r=jm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Xp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new qm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new om(im.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new om(im.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new qm(e,r))},r.onupgradeneeded=e=>{Xp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Xp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Um.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),zm.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Xp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Bm{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Hm(this.k.delete())}}class qm extends om{constructor(e,t){super(im.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Wm(e){return"IndexedDbTransactionError"===e.name}class Km{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hm(n)}add(e){return Xp("SimpleDb","ADD",this.store.name,e,e),Hm(this.store.add(e))}get(e){return Hm(this.store.get(e)).next((t=>(void 0===t&&(t=null),Xp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Xp("SimpleDb","DELETE",this.store.name,e),Hm(this.store.delete(e))}count(){return Xp("SimpleDb","COUNT",this.store.name),Hm(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new zm(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new zm(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Xp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new zm(((n,r)=>{t.onerror=e=>{const t=Qm(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new zm(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Bm(i),s=t(i.primaryKey,i.value,o);if(s instanceof zm){const e=s.catch((e=>(o.done(),zm.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>zm.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hm(e){return new zm(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Qm(e.target.error);n(t)}}))}let Gm=!1;function Qm(e){const t=jm.S(Wl());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new om("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Gm||(Gm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ym{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Xp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Xp("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Wm(e)?Xp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Vm(e)}await this.ee(6e4)}))}}class $m{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return zm.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Xp("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Xp("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Om(t);Lm(r,n)>0&&(n=r)})),new Dm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Jm(e){return null==e}function Zm(e){return 0===e&&1/e==-1/0}function eg(e){return"number"==typeof e&&Number.isInteger(e)&&!Zm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function tg(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rg(t)),t=ng(e.get(n),t);return rg(t)}function ng(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function rg(e){return e+"\x01\x01"}function ig(e){const t=e.length;if(nm(t>=2),2===t)return nm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Em.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&tm(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:tm()}o=t+2}return new Em(r)}Xm._e=-1;const og=["userId","batchId"];function sg(e,t){return[e,tg(t)]}function ag(e,t,n){return[e,tg(t),n]}const lg={},cg=["prefixPath","collectionGroup","readTime","documentId"],ug=["prefixPath","collectionGroup","documentId"],dg=["collectionGroup","readTime","prefixPath","documentId"],hg=["canonicalId","targetId"],fg=["targetId","path"],pg=["path","targetId"],mg=["collectionId","parent"],gg=["indexId","uid"],yg=["uid","sequenceNumber"],vg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bg=["indexId","uid","orderedDocumentKey"],wg=["userId","collectionPath","documentId"],_g=["userId","collectionPath","largestBatchId"],Sg=["userId","collectionGroup","largestBatchId"],Eg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ig=[...Eg,"documentOverlays"],kg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tg=kg,xg=[...Tg,"indexConfiguration","indexState","indexEntries"];class Cg extends Fm{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ag(e,t){const n=rm(e);return jm.M(n.ae,t)}function Ng(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Og{constructor(e,t){this.comparator=e,this.root=t||Lg.EMPTY}insert(e,t){return new Og(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lg.BLACK,null,null))}remove(e){return new Og(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lg.RED,this.left=null!=r?r:Lg.EMPTY,this.right=null!=i?i:Lg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Lg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tm();if(this.right.isRed())throw tm();const e=this.left.check();if(e!==this.right.check())throw tm();return e+(this.isRed()?0:1)}}Lg.EMPTY=null,Lg.RED=!0,Lg.BLACK=!1,Lg.EMPTY=new class{constructor(){this.size=0}get key(){throw tm()}get value(){throw tm()}get color(){throw tm()}get left(){throw tm()}get right(){throw tm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Lg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mg{constructor(e){this.comparator=e,this.data=new Og(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fg(this.data.getIterator())}getIteratorFrom(e){return new Fg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Mg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mg(this.comparator);return t.data=e,t}}class Fg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vg(e){return e.hasNext()?e.getNext():void 0}class zg{constructor(e){this.fields=e,e.sort(km.comparator)}static empty(){return new zg([])}unionWith(e){let t=new Mg(km.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zg(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ug extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ug("Invalid base64 string: "+e):e}}(e);return new jg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ym(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jg.EMPTY_BYTE_STRING=new jg("");const Bg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qg(e){if(nm(!!e),"string"==typeof e){let t=0;const n=Bg.exec(e);if(nm(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wg(e.seconds),nanos:Wg(e.nanos)}}function Wg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kg(e){return"string"==typeof e?jg.fromBase64String(e):jg.fromUint8Array(e)}function Hg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gg(e){const t=e.mapValue.fields.__previous_value__;return Hg(t)?Gg(t):t}function Qg(e){const t=qg(e.mapValue.fields.__local_write_time__.timestampValue);return new wm(t.seconds,t.nanos)}class Yg{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class $g{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $g("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $g&&e.projectId===this.projectId&&e.database===this.database}}const Xg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jg={nullValue:"NULL_VALUE"};function Zg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hg(e)?4:fy(e)?9007199254740991:10:tm()}function ey(e,t){if(e===t)return!0;const n=Zg(e);if(n!==Zg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qg(e).isEqual(Qg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qg(e.timestampValue),r=qg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kg(e.bytesValue).isEqual(Kg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wg(e.geoPointValue.latitude)===Wg(t.geoPointValue.latitude)&&Wg(e.geoPointValue.longitude)===Wg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wg(e.integerValue)===Wg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wg(e.doubleValue),r=Wg(t.doubleValue);return n===r?Zm(n)===Zm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vm(e.arrayValue.values||[],t.arrayValue.values||[],ey);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ng(n)!==Ng(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ey(n[i],r[i])))return!1;return!0}(e,t);default:return tm()}}function ty(e,t){return void 0!==(e.values||[]).find((e=>ey(e,t)))}function ny(e,t){if(e===t)return 0;const n=Zg(e),r=Zg(t);if(n!==r)return ym(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ym(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wg(e.integerValue||e.doubleValue),r=Wg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ry(e.timestampValue,t.timestampValue);case 4:return ry(Qg(e),Qg(t));case 5:return ym(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kg(e),r=Kg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ym(n[i],r[i]);if(0!==e)return e}return ym(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ym(Wg(e.latitude),Wg(t.latitude));return 0!==n?n:ym(Wg(e.longitude),Wg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ny(n[i],r[i]);if(e)return e}return ym(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Xg.mapValue&&t===Xg.mapValue)return 0;if(e===Xg.mapValue)return 1;if(t===Xg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=ym(r[s],o[s]);if(0!==e)return e;const t=ny(n[r[s]],i[o[s]]);if(0!==t)return t}return ym(r.length,o.length)}(e.mapValue,t.mapValue);default:throw tm()}}function ry(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ym(e,t);const n=qg(e),r=qg(t),i=ym(n.seconds,r.seconds);return 0!==i?i:ym(n.nanos,r.nanos)}function iy(e){return oy(e)}function oy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kg(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Tm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=oy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(oy(e.fields[i]));return n+"}"}(e.mapValue):tm()}function sy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ay(e){return!!e&&"integerValue"in e}function ly(e){return!!e&&"arrayValue"in e}function cy(e){return!!e&&"nullValue"in e}function uy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dy(e){return!!e&&"mapValue"in e}function hy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=hy(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function py(e){return"nullValue"in e?Jg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sy($g.empty(),Tm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:tm()}function my(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sy($g.empty(),Tm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Xg:tm()}function gy(e,t){const n=ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yy(e,t){const n=ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class vy{constructor(e){this.value=e}static empty(){return new vy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!dy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hy(t)}setAll(e){let t=km.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=hy(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());dy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ey(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];dy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Pg(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new vy(hy(this.value))}}function by(e){const t=[];return Pg(e.fields,((e,n)=>{const r=new km([e]);if(dy(n)){const e=by(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new zg(t)}class wy{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new wy(e,0,_m.min(),_m.min(),_m.min(),vy.empty(),0)}static newFoundDocument(e,t,n,r){return new wy(e,1,t,_m.min(),n,r,0)}static newNoDocument(e,t){return new wy(e,2,t,_m.min(),_m.min(),vy.empty(),0)}static newUnknownDocument(e,t){return new wy(e,3,t,_m.min(),_m.min(),vy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_m.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_m.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wy&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wy(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class _y{constructor(e,t){this.position=e,this.inclusive=t}}function Sy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Tm.comparator(Tm.fromName(s.referenceValue),n.key):ny(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ey(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ey(e.position[n],t.position[n]))return!1;return!0}class Iy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ky(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ty{}class xy extends Ty{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Fy(e,t,n):"array-contains"===t?new jy(e,n):"in"===t?new By(e,n):"not-in"===t?new qy(e,n):"array-contains-any"===t?new Wy(e,n):new xy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Vy(e,n):new zy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ny(t,this.value)):null!==t&&Zg(this.value)===Zg(t)&&this.matchesComparison(ny(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tm()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cy extends Ty{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Cy(e,t)}matches(e){return Ay(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ay(e){return"and"===e.op}function Ny(e){return"or"===e.op}function Py(e){return Ry(e)&&Ay(e)}function Ry(e){for(const t of e.filters)if(t instanceof Cy)return!1;return!0}function Oy(e){if(e instanceof xy)return e.field.canonicalString()+e.op.toString()+iy(e.value);if(Py(e))return e.filters.map((e=>Oy(e))).join(",");{const t=e.filters.map((e=>Oy(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Dy(e,t){return e instanceof xy?function(e,t){return t instanceof xy&&e.op===t.op&&e.field.isEqual(t.field)&&ey(e.value,t.value)}(e,t):e instanceof Cy?function(e,t){return t instanceof Cy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Dy(n,t.filters[r])),!0)}(e,t):void tm()}function Ly(e,t){const n=e.filters.concat(t);return Cy.create(n,e.op)}function My(e){return e instanceof xy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(iy(e.value))}(e):e instanceof Cy?function(e){return e.op.toString()+" {"+e.getFilters().map(My).join(" ,")+"}"}(e):"Filter"}class Fy extends xy{constructor(e,t,n){super(e,t,n),this.key=Tm.fromName(n.referenceValue)}matches(e){const t=Tm.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vy extends xy{constructor(e,t){super(e,"in",t),this.keys=Uy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zy extends xy{constructor(e,t){super(e,"not-in",t),this.keys=Uy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Uy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Tm.fromName(e.referenceValue)))}class jy extends xy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ly(t)&&ty(t.arrayValue,this.value)}}class By extends xy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ty(this.value.arrayValue,t)}}class qy extends xy{constructor(e,t){super(e,"not-in",t)}matches(e){if(ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ty(this.value.arrayValue,t)}}class Wy extends xy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ty(this.value.arrayValue,e)))}}class Ky{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Hy(e){return new Ky(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Gy(e){const t=rm(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Oy(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>iy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>iy(e))).join(",")),t.ce=e}return t.ce}function Qy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ky(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Dy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ey(e.startAt,t.startAt)&&Ey(e.endAt,t.endAt)}function Yy(e){return Tm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function $y(e,t){return e.filters.filter((e=>e instanceof xy&&e.field.isEqual(t)))}function Xy(e,t,n){let r=Jg,i=!0;for(const o of $y(e,t)){let e=Jg,t=!0;switch(o.op){case"<":case"<=":e=py(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Jg}gy({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];gy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Jy(e,t,n){let r=Xg,i=!0;for(const o of $y(e,t)){let e=Xg,t=!0;switch(o.op){case">=":case">":e=my(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Xg}yy({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];yy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Zy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ev(e,t,n,r,i,o,s,a){return new Zy(e,t,n,r,i,o,s,a)}function tv(e){return new Zy(e)}function nv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rv(e){return null!==e.collectionGroup}function iv(e){const t=rm(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Mg(km.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Iy(r,n))})),e.has(km.keyField().canonicalString())||t.le.push(new Iy(km.keyField(),n))}return t.le}function ov(e){const t=rm(e);return t.he||(t.he=sv(t,iv(e))),t.he}function sv(e,t){if("F"===e.limitType)return Hy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Iy(e.field,t)}));const n=e.endAt?new _y(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _y(e.startAt.position,e.startAt.inclusive):null;return Hy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function av(e,t){const n=e.filters.concat([t]);return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lv(e,t,n){return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cv(e,t){return Qy(ov(e),ov(t))&&e.limitType===t.limitType}function uv(e){return"".concat(Gy(ov(e)),"|lt:").concat(e.limitType)}function dv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>My(e))).join(", "),"]")),Jm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>iy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>iy(e))).join(",")),"Target(".concat(t,")")}(ov(e)),"; limitType=").concat(e.limitType,")")}function hv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Tm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of iv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Sy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,iv(e),t))&&!(e.endAt&&!function(e,t,n){const r=Sy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,iv(e),t))}(e,t)}function fv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pv(e){return(t,n)=>{let r=!1;for(const i of iv(e)){const e=mv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mv(e,t,n){const r=e.field.isKeyField()?Tm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ny(r,i):tm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tm()}}class gv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pg(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Rg(this.inner)}size(){return this.innerSize}}const yv=new Og(Tm.comparator);function vv(){return yv}const bv=new Og(Tm.comparator);function wv(){let e=bv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function _v(e){let t=bv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Sv(){return Iv()}function Ev(){return Iv()}function Iv(){return new gv((e=>e.toString()),((e,t)=>e.isEqual(t)))}const kv=new Og(Tm.comparator),Tv=new Mg(Tm.comparator);function xv(){let e=Tv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Cv=new Mg(ym);function Av(){return Cv}function Nv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zm(t)?"-0":t}}function Pv(e){return{integerValue:""+e}}function Rv(e,t){return eg(t)?Pv(t):Nv(e,t)}class Ov{constructor(){this._=void 0}}function Dv(e,t,n){return e instanceof Fv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Hg(t)&&(t=Gg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vv?zv(e,t):e instanceof Uv?jv(e,t):function(e,t){const n=Mv(e,t),r=qv(n)+qv(e.Ie);return ay(n)&&ay(e.Ie)?Pv(r):Nv(e.serializer,r)}(e,t)}function Lv(e,t,n){return e instanceof Vv?zv(e,t):e instanceof Uv?jv(e,t):n}function Mv(e,t){return e instanceof Bv?function(e){return ay(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fv extends Ov{}class Vv extends Ov{constructor(e){super(),this.elements=e}}function zv(e,t){const n=Wv(t);for(const r of e.elements)n.some((e=>ey(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Uv extends Ov{constructor(e){super(),this.elements=e}}function jv(e,t){let n=Wv(t);for(const r of e.elements)n=n.filter((e=>!ey(e,r)));return{arrayValue:{values:n}}}class Bv extends Ov{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qv(e){return Wg(e.integerValue||e.doubleValue)}function Wv(e){return ly(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kv{constructor(e,t){this.field=e,this.transform=t}}class Hv{constructor(e,t){this.version=e,this.transformResults=t}}class Gv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gv}static exists(e){return new Gv(void 0,e)}static updateTime(e){return new Gv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yv{}function $v(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new sb(e.key,Gv.none()):new tb(e.key,e.data,Gv.none());{const n=e.data,r=vy.empty();let i=new Mg(km.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new nb(e.key,r,new zg(i.toArray()),Gv.none())}}function Xv(e,t,n){e instanceof tb?function(e,t,n){const r=e.value.clone(),i=ib(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nb?function(e,t,n){if(!Qv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ib(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jv(e,t,n,r){return e instanceof tb?function(e,t,n,r){if(!Qv(e.precondition,t))return n;const i=e.value.clone(),o=ob(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof nb?function(e,t,n,r){if(!Qv(e.precondition,t))return n;const i=ob(e.fieldTransforms,r,t),o=t.data;return o.setAll(rb(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Qv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Zv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Mv(r.transform,e||null);null!=i&&(null===n&&(n=vy.empty()),n.set(r.field,i))}return n||null}function eb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vv&&t instanceof Vv||e instanceof Uv&&t instanceof Uv?vm(e.elements,t.elements,ey):e instanceof Bv&&t instanceof Bv?ey(e.Ie,t.Ie):e instanceof Fv&&t instanceof Fv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tb extends Yv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nb extends Yv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ib(e,t,n){const r=new Map;nm(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Lv(s,a,n[i]))}return r}function ob(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Dv(e,o,t))}return r}class sb extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ab extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Xv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Jv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Jv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ev();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=$v(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(_m.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xv())}isEqual(e){return this.batchId===e.batchId&&vm(this.mutations,e.mutations,((e,t)=>eb(e,t)))&&vm(this.baseMutations,e.baseMutations,((e,t)=>eb(e,t)))}}class cb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nm(e.mutations.length===n.length);let r=kv;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new cb(e,t,n,r)}}class ub{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class db{constructor(e,t){this.count=e,this.unchangedNames=t}}var hb,fb;function pb(e){switch(e){default:return tm();case im.CANCELLED:case im.UNKNOWN:case im.DEADLINE_EXCEEDED:case im.RESOURCE_EXHAUSTED:case im.INTERNAL:case im.UNAVAILABLE:case im.UNAUTHENTICATED:return!1;case im.INVALID_ARGUMENT:case im.NOT_FOUND:case im.ALREADY_EXISTS:case im.PERMISSION_DENIED:case im.FAILED_PRECONDITION:case im.ABORTED:case im.OUT_OF_RANGE:case im.UNIMPLEMENTED:case im.DATA_LOSS:return!0}}function mb(e){if(void 0===e)return Jp("GRPC error has no .code"),im.UNKNOWN;switch(e){case hb.OK:return im.OK;case hb.CANCELLED:return im.CANCELLED;case hb.UNKNOWN:return im.UNKNOWN;case hb.DEADLINE_EXCEEDED:return im.DEADLINE_EXCEEDED;case hb.RESOURCE_EXHAUSTED:return im.RESOURCE_EXHAUSTED;case hb.INTERNAL:return im.INTERNAL;case hb.UNAVAILABLE:return im.UNAVAILABLE;case hb.UNAUTHENTICATED:return im.UNAUTHENTICATED;case hb.INVALID_ARGUMENT:return im.INVALID_ARGUMENT;case hb.NOT_FOUND:return im.NOT_FOUND;case hb.ALREADY_EXISTS:return im.ALREADY_EXISTS;case hb.PERMISSION_DENIED:return im.PERMISSION_DENIED;case hb.FAILED_PRECONDITION:return im.FAILED_PRECONDITION;case hb.ABORTED:return im.ABORTED;case hb.OUT_OF_RANGE:return im.OUT_OF_RANGE;case hb.UNIMPLEMENTED:return im.UNIMPLEMENTED;case hb.DATA_LOSS:return im.DATA_LOSS;default:return tm()}}(fb=hb||(hb={}))[fb.OK=0]="OK",fb[fb.CANCELLED=1]="CANCELLED",fb[fb.UNKNOWN=2]="UNKNOWN",fb[fb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fb[fb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fb[fb.NOT_FOUND=5]="NOT_FOUND",fb[fb.ALREADY_EXISTS=6]="ALREADY_EXISTS",fb[fb.PERMISSION_DENIED=7]="PERMISSION_DENIED",fb[fb.UNAUTHENTICATED=16]="UNAUTHENTICATED",fb[fb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fb[fb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fb[fb.ABORTED=10]="ABORTED",fb[fb.OUT_OF_RANGE=11]="OUT_OF_RANGE",fb[fb.UNIMPLEMENTED=12]="UNIMPLEMENTED",fb[fb.INTERNAL=13]="INTERNAL",fb[fb.UNAVAILABLE=14]="UNAVAILABLE",fb[fb.DATA_LOSS=15]="DATA_LOSS";let gb=null;function yb(){return new TextEncoder}const vb=new Kp([4294967295,4294967295],0);function bb(e){const t=yb().encode(e),n=new Wp;return n.update(t),new Uint8Array(n.digest())}function wb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Kp([n,r],0),new Kp([i,o],0)]}class _b{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sb("Invalid padding: ".concat(t));if(n<0)throw new Sb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Sb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Sb("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Kp.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Kp.fromNumber(n)));return 1===r.compare(vb)&&(r=new Kp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=bb(e),[n,r]=wb(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _b(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=bb(e),[n,r]=wb(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ib.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Eb(_m.min(),r,new Og(ym),vv(),xv())}}class Ib{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ib(n,t,xv(),xv(),xv())}}class kb{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Tb{constructor(e,t){this.targetId=e,this.fe=t}}class xb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Cb{constructor(){this.ge=0,this.pe=Pb(),this.ye=jg.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xv(),t=xv(),n=xv();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tm()}})),new Ib(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Pb()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Ab{constructor(e){this.Le=e,this.ke=new Map,this.qe=vv(),this.Qe=Nb(),this.Ke=new Og(ym)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:tm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Yy(i))if(0===n){const e=new Tm(i.path);this.We(t,e,wy.newNoDocument(e,_m.min()))}else nm(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==gb||gb.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Kg(n).toUint8Array()}catch(e){if(e instanceof Ug)return Zp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new _b(o,r,i)}catch(e){return Zp(e instanceof Sb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Yy(i.target)){const t=new Tm(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,wy.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=xv();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Eb(e,t,this.Ke,this.qe,n);return this.qe=vv(),this.Qe=Nb(),this.Ke=new Og(ym),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Cb,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Mg(ym),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Xp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Cb),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Nb(){return new Og(Tm.comparator)}function Pb(){return new Og(Tm.comparator)}const Rb={asc:"ASCENDING",desc:"DESCENDING"},Ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Db={and:"AND",or:"OR"};class Lb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mb(e,t){return e.useProto3Json||Jm(t)?t:{value:t}}function Fb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zb(e,t){return Fb(e,t.toTimestamp())}function Ub(e){return nm(!!e),_m.fromTimestamp(function(e){const t=qg(e);return new wm(t.seconds,t.nanos)}(e))}function jb(e,t){return function(e){return new Em(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bb(e){const t=Em.fromString(e);return nm(uw(t)),t}function qb(e,t){return jb(e.databaseId,t.path)}function Wb(e,t){const n=Bb(t);if(n.get(1)!==e.databaseId.projectId)throw new om(im.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new om(im.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tm(Qb(n))}function Kb(e,t){return jb(e.databaseId,t)}function Hb(e){const t=Bb(e);return 4===t.length?Em.emptyPath():Qb(t)}function Gb(e){return new Em(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qb(e){return nm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yb(e,t,n){return{name:qb(e,t),fields:n.value.mapValue.fields}}function $b(e,t,n){const r=Wb(e,t.name),i=Ub(t.updateTime),o=t.createTime?Ub(t.createTime):_m.min(),s=new vy({mapValue:{fields:t.fields}}),a=wy.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xb(e,t){let n;if(t instanceof tb)n={update:Yb(e,t.key,t.value)};else if(t instanceof sb)n={delete:qb(e,t.key)};else if(t instanceof nb)n={update:Yb(e,t.key,t.data),updateMask:cw(t.fieldMask)};else{if(!(t instanceof ab))return tm();n={verify:qb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Fv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw tm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tm()}(e,t.precondition)),n}function Jb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Gv.updateTime(Ub(e.updateTime)):void 0!==e.exists?Gv.exists(e.exists):Gv.none()}(t.currentDocument):Gv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)nm("REQUEST_TIME"===t.setToServerValue),n=new Fv;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Vv(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Uv(e)}else"increment"in t?n=new Bv(e,t.increment):tm();const r=km.fromServerFormat(t.fieldPath);return new Kv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Wb(e,t.update.name),o=new vy({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new zg(t.map((e=>km.fromServerFormat(e))))}(t.updateMask);return new nb(i,o,e,n,r)}return new tb(i,o,n,r)}if(t.delete){const r=Wb(e,t.delete);return new sb(r,n)}if(t.verify){const r=Wb(e,t.verify);return new ab(r,n)}return tm()}function Zb(e,t){return{documents:[Kb(e,t.path)]}}function ew(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return lw(Cy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sw(e.field),direction:rw(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Mb(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tw(e){let t=Hb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nm(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=nw(e);return t instanceof Cy&&Py(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Iy(aw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Jm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new _y(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new _y(n,t)}(n.endAt)),ev(t,i,s,o,a,"F",l,c)}function nw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=aw(e.unaryFilter.field);return xy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=aw(e.unaryFilter.field);return xy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=aw(e.unaryFilter.field);return xy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=aw(e.unaryFilter.field);return xy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tm()}}(e):void 0!==e.fieldFilter?function(e){return xy.create(aw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cy.create(e.compositeFilter.filters.map((e=>nw(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tm()}}(e.compositeFilter.op))}(e):tm()}function rw(e){return Rb[e]}function iw(e){return Ob[e]}function ow(e){return Db[e]}function sw(e){return{fieldPath:e.canonicalString()}}function aw(e){return km.fromServerFormat(e.fieldPath)}function lw(e){return e instanceof xy?function(e){if("=="===e.op){if(uy(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NAN"}};if(cy(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uy(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NOT_NAN"}};if(cy(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sw(e.field),op:iw(e.op),value:e.value}}}(e):e instanceof Cy?function(e){const t=e.getFilters().map((e=>lw(e)));return 1===t.length?t[0]:{compositeFilter:{op:ow(e.op),filters:t}}}(e):tm()}function cw(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function uw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_m.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_m.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jg.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new dw(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dw(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hw{constructor(e){this.ut=e}}function fw(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:qb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fb(e,t.version.toTimestamp()),createTime:Fb(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mw(t.version)};else{if(!t.isUnknownDocument())return tm();r.unknownDocument={path:n.path.toArray(),version:mw(t.version)}}return r}function pw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mw(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gw(e){const t=new wm(e.seconds,e.nanoseconds);return _m.fromTimestamp(t)}function yw(e,t){const n=(t.baseMutations||[]).map((t=>Jb(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Jb(e.ut,t))),i=wm.fromMillis(t.localWriteTimeMs);return new lb(t.batchId,i,n,r)}function vw(e){const t=gw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?gw(e.lastLimboFreeSnapshotVersion):_m.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return nm(1===e.documents.length),ov(tv(Hb(e.documents[0])))}(e.query):function(e){return ov(tw(e))}(e.query),new dw(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,jg.fromBase64String(e.resumeToken))}function bw(e,t){const n=mw(t.snapshotVersion),r=mw(t.lastLimboFreeSnapshotVersion);let i;i=Yy(t.target)?Zb(e.ut,t.target):ew(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Gy(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ww(e){const t=tw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lv(t,t.limit,"L"):t}function _w(e,t){return new ub(t.largestBatchId,Jb(e.ut,t.overlayMutation))}function Sw(e,t){const n=t.path.lastSegment();return[e,tg(t.path.popLast()),n]}function Ew(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:mw(r.readTime),documentKey:tg(r.documentKey.path),largestBatchId:r.largestBatchId}}class Iw{getBundleMetadata(e,t){return kw(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:gw(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return kw(e).put(function(e){return{bundleId:e.id,createTime:mw(Ub(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Tw(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ww(e.bundledQuery),readTime:gw(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Tw(e).put(function(e){return{name:e.name,readTime:mw(Ub(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function kw(e){return Ag(e,"bundles")}function Tw(e){return Ag(e,"namedQueries")}class xw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new xw(e,n)}getOverlay(e,t){return Cw(e).get(Sw(this.userId,t)).next((e=>e?_w(this.serializer,e):null))}getOverlays(e,t){const n=Sv();return zm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new ub(t,i);r.push(this.lt(e,o))})),zm.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(tg(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Cw(e).H("collectionPathOverlayIndex",r))})),zm.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Sv(),i=tg(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Cw(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=_w(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Sv();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cw(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=_w(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return Cw(e).put(function(e,t,n){const[r,i,o]=Sw(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xb(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function Cw(e){return Ag(e,"documentOverlays")}class Aw{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Wg(e.integerValue));else if("doubleValue"in e){const n=Wg(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Zm(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Kg(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?fy(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):tm()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Tm.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Nw(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Pw(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Nw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Aw.St=new Aw;class Rw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Pw(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Pw(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ow{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Dw{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Lw{constructor(){this.Wt=new Rw,this.Gt=new Ow(this.Wt),this.zt=new Dw(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Mw{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Mw(this.indexId,this.documentKey,this.arrayValue,n)}}function Fw(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Vw(e.arrayValue,t.arrayValue),0!==n?n:(n=Vw(e.directionalValue,t.directionalValue),0!==n?n:Tm.comparator(e.documentKey,t.documentKey)))}function Vw(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class zw{constructor(e){this.Jt=new Mg(((e,t)=>km.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(nm(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Cm(e);if(void 0!==t&&!this.tn(t))return!1;const n=Am(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Mg(km.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Nm(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Nm(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Nm(n.field,"asc"===n.dir?0:1)));return new xm(xm.UNKNOWN_ID,this.collectionId,t,Pm.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uw(e){var t,n;if(nm(e instanceof xy||e instanceof Cy),e instanceof xy){if(e instanceof By){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>xy.create(e.field,"==",t))))||[];return Cy.create(r,"or")}return e}const r=e.filters.map((e=>Uw(e)));return Cy.create(r,e.op)}function jw(e){if(0===e.getFilters().length)return[];const t=Kw(Uw(e));return nm(Ww(t)),Bw(t)||qw(t)?[t]:t.getFilters()}function Bw(e){return e instanceof xy}function qw(e){return e instanceof Cy&&Py(e)}function Ww(e){return Bw(e)||qw(e)||function(e){if(e instanceof Cy&&Ny(e)){for(const t of e.getFilters())if(!Bw(t)&&!qw(t))return!1;return!0}return!1}(e)}function Kw(e){if(nm(e instanceof xy||e instanceof Cy),e instanceof xy)return e;if(1===e.filters.length)return Kw(e.filters[0]);const t=e.filters.map((e=>Kw(e)));let n=Cy.create(t,e.op);return n=Qw(n),Ww(n)?n:(nm(n instanceof Cy),nm(Ay(n)),nm(n.filters.length>1),n.filters.reduce(((e,t)=>Hw(e,t))))}function Hw(e,t){let n;return nm(e instanceof xy||e instanceof Cy),nm(t instanceof xy||t instanceof Cy),n=e instanceof xy?t instanceof xy?function(e,t){return Cy.create([e,t],"and")}(e,t):Gw(e,t):t instanceof xy?Gw(t,e):function(e,t){if(nm(e.filters.length>0&&t.filters.length>0),Ay(e)&&Ay(t))return Ly(e,t.getFilters());const n=Ny(e)?e:t,r=Ny(e)?t:e,i=n.filters.map((e=>Hw(e,r)));return Cy.create(i,"or")}(e,t),Qw(n)}function Gw(e,t){if(Ay(t))return Ly(t,e.getFilters());{const n=t.filters.map((t=>Hw(e,t)));return Cy.create(n,"or")}}function Qw(e){if(nm(e instanceof xy||e instanceof Cy),e instanceof xy)return e;const t=e.getFilters();if(1===t.length)return Qw(t[0]);if(Ry(e))return e;const n=t.map((e=>Qw(e))),r=[];return n.forEach((t=>{t instanceof xy?r.push(t):t instanceof Cy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Cy.create(r,e.op)}class Yw{constructor(){this.on=new $w}addToCollectionParentIndex(e,t){return this.on.add(t),zm.resolve()}getCollectionParents(e,t){return zm.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return zm.resolve()}deleteFieldIndex(e,t){return zm.resolve()}deleteAllFieldIndexes(e){return zm.resolve()}createTargetIndexes(e,t){return zm.resolve()}getDocumentsMatchingTarget(e,t){return zm.resolve(null)}getIndexType(e,t){return zm.resolve(0)}getFieldIndexes(e,t){return zm.resolve([])}getNextCollectionGroupToUpdate(e){return zm.resolve(null)}getMinOffset(e,t){return zm.resolve(Dm.min())}getMinOffsetFromCollectionGroup(e,t){return zm.resolve(Dm.min())}updateCollectionGroup(e,t,n){return zm.resolve()}updateIndexEntries(e,t){return zm.resolve()}}class $w{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mg(Em.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Mg(Em.comparator)).toArray()}}const Xw=new Uint8Array(0);class Jw{constructor(e,t){this.user=e,this.databaseId=t,this._n=new $w,this.an=new gv((e=>Gy(e)),((e,t)=>Qy(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:tg(r)};return Zw(e).put(i)}return zm.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[bm(t),""],!1,!0);return Zw(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ig(r.parent))}return n}))}addFieldIndex(e,t){const n=t_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=n_(e);return i.next((e=>{n.put(Ew(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=t_(e),r=n_(e),i=e_(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=t_(e),n=e_(e),r=n_(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return zm.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new zw(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=e_(e);let r=!0;const i=new Map;return zm.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=xv();const r=[];return zm.forEach(i,((i,o)=>{Xp("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Gy(t)));const s=function(e,t){const n=Cm(t);if(void 0===n)return null;for(const r of $y(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Am(t))for(const t of $y(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Am(t)){const t=0===i.kind?Xy(e,i.fieldPath,e.startAt):Jy(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new _y(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Am(t)){const t=0===i.kind?Jy(e,i.fieldPath,e.endAt):Xy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new _y(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return zm.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Tm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return zm.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:jw(Cy.create(e.filters,"and")).map((t=>Hy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):Xw,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],o),f=s.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new Mw(e,Tm.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Mw(e,Tm.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new zw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return zm.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Mg(km.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Lw;for(const r of Am(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Aw.St.ht(e,i)}return n.Ut()}In(e){const t=new Lw;return Aw.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Lw;return Aw.St.ht(sy(this.databaseId,t),n.jt(function(e){const t=Am(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Lw);let i=0;for(const o of Am(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&ly(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);Aw.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Lw;n.seed(e.Ut()),Aw.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof xy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=t_(e),r=n_(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return zm.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Pm(t.sequenceNumber,new Dm(gw(t.readTime),new Tm(ig(t.documentKey)),t.largestBatchId)):Pm.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Nm(km.fromServerFormat(t),n)}));return new xm(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ym(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=t_(e),i=n_(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>zm.forEach(t,(t=>i.put(Ew(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return zm.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?zm.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),zm.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?zm.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return e_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return e_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=e_(e);let i=new Mg(Fw);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Mw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Mg(Fw);const r=this.dn(t,e);if(null==r)return n;const i=Cm(t);if(null!=i){const o=e.data.field(i.fieldPath);if(ly(o))for(const i of o.arrayValue.values||[])n=n.add(new Mw(t.indexId,e.key,this.In(i),r))}else n=n.add(new Mw(t.indexId,e.key,Xw,r));return n}yn(e,t,n,r,i){Xp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Vg(o),l=Vg(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Vg(s)):t?(i(a),a=Vg(o)):(a=Vg(o),l=Vg(s))}}(r,i,Fw,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),zm.waitFor(o)}fn(e){let t=1;return n_(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Fw(e,t))).filter(((e,t,n)=>!t||0!==Fw(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Fw(o,e),i=Fw(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Xw,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Xw,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Fw(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(r_)}getMinOffset(e,t){return zm.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||tm())))).next(r_)}}function Zw(e){return Ag(e,"collectionParents")}function e_(e){return Ag(e,"indexEntries")}function t_(e){return Ag(e,"indexConfiguration")}function n_(e){return Ag(e,"indexState")}function r_(e){nm(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Lm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dm(t.readTime,t.documentKey,n)}const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class o_{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new o_(e,o_.DEFAULT_COLLECTION_PERCENTILE,o_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function s_(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{nm(1===a)})));const c=[];for(const u of n.mutations){const e=ag(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return zm.waitFor(o).next((()=>c))}function a_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tm();t=e.noDocument}return JSON.stringify(t).length}o_.DEFAULT_COLLECTION_PERCENTILE=10,o_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,o_.DEFAULT=new o_(41943040,o_.DEFAULT_COLLECTION_PERCENTILE,o_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),o_.DISABLED=new o_(-1,0,0);class l_{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){nm(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new l_(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return u_(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=d_(e),o=u_(e);return o.add({}).next((s=>{nm("number"==typeof s);const a=new lb(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Xb(e.ut,t))),i=n.mutations.map((t=>Xb(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Mg(((e,t)=>ym(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ag(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,lg))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),zm.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return u_(e).get(t).next((e=>e?(nm(e.userId===this.userId),yw(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?zm.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return u_(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(nm(t.batchId>=n),i=yw(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return u_(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return u_(e).W("userMutationsIndex",t).next((e=>e.map((e=>yw(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=sg(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return d_(e).Y({range:r},((n,r,o)=>{const[s,a,l]=n,c=ig(a);if(s===this.userId&&t.path.isEqual(c))return u_(e).get(l).next((e=>{if(!e)throw tm();nm(e.userId===this.userId),i.push(yw(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mg(ym);const r=[];return t.forEach((t=>{const i=sg(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=d_(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,l=ig(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),zm.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=sg(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Mg(ym);return d_(e).Y({range:o},((e,t,i)=>{const[o,a,l]=e,c=ig(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(u_(e).get(t).next((e=>{if(null===e)throw tm();nm(e.userId===this.userId),n.push(yw(this.serializer,e))})))})),zm.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return s_(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),zm.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return zm.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return d_(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ig(e[1]);r.push(t)}else n.done()})).next((()=>{nm(0===r.length)}))}))}containsKey(e,t){return c_(e,this.userId,t)}Mn(e){return h_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function c_(e,t,n){const r=sg(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return d_(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function u_(e){return Ag(e,"mutations")}function d_(e){return Ag(e,"documentMutations")}function h_(e){return Ag(e,"mutationQueues")}class f_{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new f_(0)}static Nn(){return new f_(-1)}}class p_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new f_(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>_m.fromTimestamp(new wm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>m_(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(nm(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return m_(e).Y(((o,s)=>{const a=vw(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>zm.waitFor(i))).next((()=>r))}forEachTarget(e,t){return m_(e).Y(((e,n)=>{const r=vw(n);t(r)}))}Bn(e){return g_(e).get("targetGlobalKey").next((e=>(nm(null!==e),e)))}Ln(e,t){return g_(e).put("targetGlobalKey",t)}kn(e,t){return m_(e).put(bw(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Gy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return m_(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=vw(n);Qy(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=y_(e);return t.forEach((t=>{const o=tg(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),zm.waitFor(r)}removeMatchingKeys(e,t,n){const r=y_(e);return zm.forEach(t,(t=>{const i=tg(t.path);return zm.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=y_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=y_(e);let i=xv();return r.Y({range:n,J:!0},((e,t,n)=>{const r=ig(e[1]),o=new Tm(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=tg(t.path),r=IDBKeyRange.bound([n],[bm(n)],!1,!0);let i=0;return y_(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return m_(e).get(t).next((e=>e?vw(e):null))}}function m_(e){return Ag(e,"targets")}function g_(e){return Ag(e,"targetGlobal")}function y_(e){return Ag(e,"targetDocuments")}function v_(e,t){let[n,r]=e,[i,o]=t;const s=ym(n,i);return 0===s?ym(r,o):s}class b_{constructor(e){this.Qn=e,this.buffer=new Mg(v_),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();v_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w_{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Xp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wm(e)?Xp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Vm(e)}await this.Gn(3e5)}))}}class __{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return zm.resolve(Xm._e);const n=new b_(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xp("LruGarbageCollector","Garbage collection skipped; disabled"),zm.resolve(i_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),i_):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Xp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),$p()<=mc.DEBUG&&Xp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),zm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function S_(e,t){return new __(e,t)}class E_{constructor(e,t){this.db=e,this.garbageCollector=S_(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return I_(e,n)}removeReference(e,t,n){return I_(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return I_(e,t)}Xn(e,t){return function(e,t){let n=!1;return h_(e).Z((r=>c_(e,r,t).next((e=>(e&&(n=!0),zm.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,_m.min()),y_(e).delete(function(e){return[0,tg(e.path)]}(o)))))}));r.push(t)}})).next((()=>zm.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return I_(e,t)}Zn(e,t){const n=y_(e);let r,i=Xm._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Xm._e&&t(new Tm(ig(r)),i),i=l,r=a):i=Xm._e})).next((()=>{i!==Xm._e&&t(new Tm(ig(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function I_(e,t){return y_(e).put(function(e,t){return{targetId:0,path:tg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class k_{constructor(){this.changes=new gv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wy.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?zm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class T_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return N_(e).put(n)}removeEntry(e,t,n){return N_(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pw(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=wy.newInvalidDocument(t);return N_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(P_(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:wy.newInvalidDocument(t)};return N_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(P_(t))},((e,r)=>{n={document:this.tr(t,r),size:a_(r)}})).next((()=>n))}getEntries(e,t){let n=vv();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=vv(),r=new Og(Tm.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,a_(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return zm.resolve();let r=new Mg(O_);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(P_(r.first()),P_(r.last())),o=r.getIterator();let s=o.getNext();return N_(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Tm.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&O_(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(P_(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),pw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return N_(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=vv();for(const i of e){const e=this.tr(Tm.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(hv(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=vv();const o=R_(t,n),s=R_(t,Dm.max());return N_(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(Tm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new C_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return A_(e).get("remoteDocumentGlobalKey").next((e=>(nm(!!e),e)))}er(e,t){return A_(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=$b(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Tm.fromSegments(t.noDocument.path),r=gw(t.noDocument.readTime);n=wy.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return tm();{const e=Tm.fromSegments(t.unknownDocument.path),r=gw(t.unknownDocument.version);n=wy.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new wm(e[0],e[1]);return _m.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(_m.min()))return e}return wy.newInvalidDocument(e)}}function x_(e){return new T_(e)}class C_ extends k_{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new gv((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Mg(((e,t)=>ym(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=fw(this._r.serializer,o);r=r.add(i.path.popLast());const l=a_(a);n+=l-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=fw(this._r.serializer,o.convertToNoDocument(_m.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),zm.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function A_(e){return Ag(e,"remoteDocumentGlobal")}function N_(e){return Ag(e,"remoteDocumentsV14")}function P_(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function R_(e,t){const n=t.documentKey.path.toArray();return[e,pw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function O_(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ym(n[o],r[o]),i)return i;return i=ym(n.length,r.length),i||(i=ym(n[n.length-2],r[r.length-2]),i||ym(n[n.length-1],r[r.length-1]))}class D_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class L_{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Jv(n.mutation,e,zg.empty(),wm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,xv()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xv();const r=Sv();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Sv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,xv())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=vv();const o=Iv(),s=Iv();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof nb)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Jv(s.mutation,t,s.mutation.getFieldMask(),wm.now())):o.set(t.key,zg.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new D_(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Iv();let r=new Og(((e,t)=>e-t)),i=xv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||zg.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||xv()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Ev();l.forEach((e=>{if(!i.has(e)){const r=$v(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return zm.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Tm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):zm.resolve(Sv());let s=-1,a=i;return o.next((t=>zm.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?zm.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,xv()))).next((e=>({batchId:s,changes:_v(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tm(t)).next((e=>{let t=wv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=wv();return this.indexManager.getCollectionParents(e,i).next((s=>zm.forEach(s,(s=>{const a=function(e,t){return new Zy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,wy.newInvalidDocument(r)))}));let n=wv();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Jv(o.mutation,r,zg.empty(),wm.now()),hv(t,r)&&(n=n.insert(e,r))})),n}))}}class M_{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return zm.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ub(e.createTime)}}(t)),zm.resolve()}getNamedQuery(e,t){return zm.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:ww(e.bundledQuery),readTime:Ub(e.readTime)}}(t)),zm.resolve()}}class F_{constructor(){this.overlays=new Og(Tm.comparator),this.lr=new Map}getOverlay(e,t){return zm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Sv();return zm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),zm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),zm.resolve()}getOverlaysForCollection(e,t,n){const r=Sv(),i=t.length+1,o=new Tm(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return zm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Og(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Sv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Sv(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return zm.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ub(t,n));let i=this.lr.get(t);void 0===i&&(i=xv(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class V_{constructor(){this.hr=new Mg(z_.Pr),this.Ir=new Mg(z_.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new z_(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new z_(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Tm(new Em([])),n=new z_(t,e),r=new z_(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Tm(new Em([])),n=new z_(t,e),r=new z_(t,e+1);let i=xv();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new z_(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class z_{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Tm.comparator(e.key,t.key)||ym(e.gr,t.gr)}static Tr(e,t){return ym(e.gr,t.gr)||Tm.comparator(e.key,t.key)}}class U_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Mg(z_.Pr)}checkEmpty(e){return zm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lb(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new z_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return zm.resolve(o)}lookupMutationBatch(e,t){return zm.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return zm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return zm.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return zm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new z_(t,0),r=new z_(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),zm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mg(ym);return t.forEach((e=>{const t=new z_(e,0),r=new z_(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),zm.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Tm.isDocumentKey(i)||(i=i.child(""));const o=new z_(new Tm(i),0);let s=new Mg(ym);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),zm.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nm(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return zm.forEach(t.mutations,(r=>{const i=new z_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new z_(t,0),r=this.yr.firstAfterOrEqual(n);return zm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,zm.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class j_{constructor(e){this.Cr=e,this.docs=new Og(Tm.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return zm.resolve(n?n.document.mutableCopy():wy.newInvalidDocument(t))}getEntries(e,t){let n=vv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():wy.newInvalidDocument(e))})),zm.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=vv();const o=t.path,s=new Tm(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Lm(Om(s),n)<=0||(r.has(s.key)||hv(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return zm.resolve(i)}getAllFromCollectionGroup(e,t,n,r){tm()}vr(e,t){return zm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new B_(this)}getSize(e){return zm.resolve(this.size)}}class B_ extends k_{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),zm.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class q_{constructor(e){this.persistence=e,this.Fr=new gv((e=>Gy(e)),Qy),this.lastRemoteSnapshotVersion=_m.min(),this.highestTargetId=0,this.Mr=0,this.Or=new V_,this.targetCount=0,this.Nr=f_.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),zm.resolve()}getLastRemoteSnapshotVersion(e){return zm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zm.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),zm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),zm.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new f_(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,zm.resolve()}updateTargetData(e,t){return this.kn(t),zm.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,zm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),zm.waitFor(i).next((()=>r))}getTargetCount(e){return zm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return zm.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),zm.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),zm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),zm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return zm.resolve(n)}containsKey(e,t){return zm.resolve(this.Or.containsKey(t))}}class W_{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Xm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new q_(this),this.indexManager=new Yw,this.remoteDocumentCache=function(e){return new j_(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new hw(t),this.Kr=new M_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new F_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new U_(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xp("MemoryPersistence","Starting transaction:",e);const r=new K_(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return zm.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class K_ extends Fm{constructor(e){super(),this.currentSequenceNumber=e}}class H_{constructor(e){this.persistence=e,this.Gr=new V_,this.zr=null}static jr(e){return new H_(e)}get Hr(){if(this.zr)return this.zr;throw tm()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),zm.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),zm.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),zm.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zm.forEach(this.Hr,(n=>{const r=Tm.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,_m.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return zm.or([()=>zm.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class G_{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Um("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",og,{unique:!0}),e.createObjectStore("documentMutations")}(e),Q_(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=zm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Q_(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_m.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",og,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return zm.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:wg});t.createIndex("collectionPathOverlayIndex",_g,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Sg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:cg});t.createIndex("documentKeyIndex",ug),t.createIndex("collectionGroupIndex",dg)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gg}).createIndex("sequenceNumberIndex",yg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vg}).createIndex("documentKeyIndex",bg,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=a_(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>zm.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>zm.forEach(n,(n=>{nm(n.userId===t.userId);const r=yw(this.serializer,n);return s_(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Em(n),s=function(e){return[0,tg(e)]}(o);r.push(t.get(s).next((n=>n?zm.resolve():(n=>t.put({targetId:0,path:tg(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>zm.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:mg});const n=t.store("collectionParents"),r=new $w,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:tg(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Em(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=ig(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=vw(n),i=bw(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Tm(Em.fromString(e.document.name).popFirst(5)):e.noDocument?Tm.fromSegments(e.noDocument.path):e.unknownDocument?Tm.fromSegments(e.unknownDocument.path):tm()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>zm.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=x_(this.serializer),i=new W_(H_.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:xv();yw(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),zm.forEach(n,((e,n)=>{const o=new Gp(n),s=xw.ct(this.serializer,o),a=i.getIndexManager(o),l=l_.ct(o,this.serializer,a,i.referenceDelegate);return new L_(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Cg(t,Xm._e),e).next()}))}))}}function Q_(e){e.createObjectStore("targetDocuments",{keyPath:fg}).createIndex("documentTargetsIndex",pg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hg,{unique:!0}),e.createObjectStore("targetGlobal")}const Y_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $_{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!$_.D())throw new om(im.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E_(this,r),this.Ii=t+"main",this.serializer=new hw(a),this.Ti=new jm(this.Ii,this.ai,new G_(this.serializer)),this.qr=new p_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=x_(this.serializer),this.Kr=new Iw,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Jp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new om(im.FAILED_PRECONDITION,Y_);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Xm(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>J_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Wm(e))return Xp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return X_(e).get("owner").next((e=>zm.resolve(this.wi(e))))}Si(e){return J_(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ag(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return zm.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?zm.resolve(!0):X_(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new om(im.FAILED_PRECONDITION,Y_);return!1}}return!(!this.networkEnabled||!this.inForeground)||J_(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Xp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Cg(e,Xm._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>J_(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return l_.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jw(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return xw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?xg:14===e?Tg:13===e?kg:12===e?Ig:11===e?Eg:void tm()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Cg(r,this.Lr?this.Lr.next():Xm._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Jp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new om(im.FAILED_PRECONDITION,Mm);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return X_(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new om(im.FAILED_PRECONDITION,Y_)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return X_(e).put("owner",t)}static D(){return jm.D()}pi(e){const t=X_(e);return t.get("owner").next((e=>this.wi(e)?(Xp("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):zm.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Jp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!Kl()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Xp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jp("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function X_(e){return Ag(e,"owner")}function J_(e){return Ag(e,"clientMetadata")}function Z_(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class eS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=xv(),r=xv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new eS(e,t.fromCache,n,r)}}class tS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nS{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new tS;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?($p()<=mc.DEBUG&&Xp("QueryEngine","SDK will not create cache indexes for query:",dv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),zm.resolve()):($p()<=mc.DEBUG&&Xp("QueryEngine","Query:",dv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?($p()<=mc.DEBUG&&Xp("QueryEngine","The SDK decides to create cache indexes for query:",dv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ov(t))):zm.resolve())}zi(e,t){if(nv(t))return zm.resolve(null);let n=ov(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=lv(t,null,"F"),n=ov(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=xv(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,lv(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return nv(t)||r.isEqual(_m.min())?zm.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?zm.resolve(null):($p()<=mc.DEBUG&&Xp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dv(t)),this.Xi(e,o,t,Rm(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Mg(pv(e));return t.forEach(((t,r)=>{hv(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return $p()<=mc.DEBUG&&Xp("QueryEngine","Using full collection scan to execute query:",dv(t)),this.Gi.getDocumentsMatchingQuery(e,t,Dm.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class rS{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Og(ym),this.ns=new gv((e=>Gy(e)),Qy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L_(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function iS(e,t,n,r){return new rS(e,t,n,r)}async function oS(e,t){const n=rm(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=xv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function sS(e){const t=rm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function aS(e,t,n){let r=xv(),i=xv();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=vv();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(_m.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Xp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function lS(e,t){const n=rm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function cS(e,t){const n=rm(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,zm.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new dw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function uS(e,t,n){const r=rm(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Wm(e))throw e;Xp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function dS(e,t,n){const r=rm(e);let i=_m.min(),o=xv();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=rm(e),i=r.ns.get(n);return void 0!==i?zm.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,ov(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:_m.min(),n?o:xv()))).next((e=>(pS(r,fv(t),e),{documents:e,ls:o})))))}function hS(e,t){const n=rm(e),r=rm(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function fS(e,t){const n=rm(e),r=n.rs.get(t)||_m.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Rm(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(pS(n,t,e),e)))}function pS(e,t,n){let r=e.rs.get(t)||_m.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function mS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xv();const r=await cS(e,ov(ww(t.bundledQuery))),i=rm(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Ub(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(jg.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function gS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function yS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class bS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new om(r.error.code,r.error.message))),o?new bS(e,t,r.state,i):(Jp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new om(n.error.code,n.error.message))),i?new wS(e,n.state,r):(Jp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _S{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Av();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=eg(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new _S(e,i):(Jp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class SS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SS(t.clientId,t.onlineState):(Jp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class ES{constructor(){this.activeTargetIds=Av()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Og(ym),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=gS(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new ES),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(gS(this.persistenceKey,n));if(e){const t=_S.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(vS(this.persistenceKey,e));if(n){const r=wS.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vS(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xp("SharedClientState","READ",e,t),t}setItem(e,t){Xp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Xp("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Jp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Xm._e;if(null!=e)try{const n=JSON.parse(e);nm("number"==typeof n),t=n}catch(e){Jp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Xm._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new bS(this.currentUser,e,t,n),i=yS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=yS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=vS(this.persistenceKey,e),i=new wS(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return _S.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bS.Ts(new Gp(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return wS.Ts(r,t)}Ms(e){return SS.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Xp("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Av();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class kS{constructor(){this.eo=new ES,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ES,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TS{ro(e){}shutdown(){}}class xS{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Xp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CS=null;function AS(){return null===CS?CS=268435456+Math.round(2147483648*Math.random()):CS++,"0x"+CS.toString(16)}const NS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const RS="WebChannelConnection";class OS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=AS(),s=this.So(e,t);Xp("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>(Xp("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Zp("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=NS[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=AS();return new Promise(((o,s)=>{const a=new qp;a.setWithCredentials(!0),a.listenOnce(Vp.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Fp.NO_ERROR:const t=a.getResponseJson();Xp(RS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Fp.TIMEOUT:Xp(RS,"RPC '".concat(e,"' ").concat(i," timed out")),s(new om(im.DEADLINE_EXCEEDED,"Request time out"));break;case Fp.HTTP_ERROR:const n=a.getStatus();if(Xp(RS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(im).indexOf(t)>=0?t:im.UNKNOWN}(t.status);s(new om(e,t.message))}else s(new om(im.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new om(im.UNAVAILABLE,"Connection failed."));break;default:tm()}}finally{Xp(RS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Xp(RS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=AS(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lp(),s=Mp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new jp({})),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Xp(RS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new PS({co:t=>{h?Xp(RS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Xp(RS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Xp(RS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Bp.EventType.OPEN,(()=>{h||Xp(RS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Bp.EventType.CLOSE,(()=>{h||(h=!0,Xp(RS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Bp.EventType.ERROR,(t=>{h||(h=!0,Zp(RS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new om(im.UNAVAILABLE,"The operation could not be completed")))})),p(u,Bp.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];nm(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Xp(RS,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=hb[e];if(void 0!==t)return mb(t)}(t),i=s.message;void 0===n&&(n=im.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Ro(new om(n,i)),u.close()}else Xp(RS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,zp.STAT_EVENT,(t=>{t.stat===Up.PROXY?Xp(RS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Up.NOPROXY&&Xp(RS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function DS(){return"undefined"!=typeof window?window:null}function LS(){return"undefined"!=typeof document?document:null}function MS(e){return new Lb(e,!0)}class FS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Xp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class VS{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new FS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===im.RESOURCE_EXHAUSTED?(Jp(t.toString()),Jp("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===im.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new om(im.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Xp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Xp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zS extends VS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(nm(void 0===t||"string"==typeof t),jg.fromBase64String(t||"")):(nm(void 0===t||t instanceof Uint8Array),jg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?im.UNKNOWN:mb(e.code);return new om(t,e.message||"")}(s);n=new xb(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wb(e,r.document.name),o=Ub(r.document.updateTime),s=r.document.createTime?Ub(r.document.createTime):_m.min(),a=new vy({mapValue:{fields:r.document.fields}}),l=wy.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new kb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wb(e,r.document),o=r.readTime?Ub(r.readTime):_m.min(),s=wy.newNoDocument(i,o),a=r.removedTargetIds||[];n=new kb([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wb(e,r.document),o=r.removedTargetIds||[];n=new kb([],o,i,null)}else{if(!("filter"in t))return tm();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new db(r,i),s=e.targetId;n=new Tb(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return _m.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?_m.min():t.readTime?Ub(t.readTime):_m.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Gb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Yy(r)?{documents:Zb(e,r)}:{query:ew(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vb(e,t.resumeToken);const r=Mb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(_m.min())>0){n.readTime=Fb(e,t.snapshotVersion.toTimestamp());const r=Mb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Gb(this.serializer),t.removeTarget=e,this.e_(t)}}class US extends VS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(nm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(nm(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ub(e.updateTime):Ub(t);return n.isEqual(_m.min())&&(n=Ub(t)),new Hv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ub(e.commitTime);return this.listener.I_(n,t)}return nm(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Gb(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Xb(this.serializer,e)))};this.e_(t)}}class jS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new om(im.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===im.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new om(im.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===im.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new om(im.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class BS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Jp(t),this.f_=!1):Xp("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{JS(this)&&(Xp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=rm(e);t.C_.add(4),await KS(t),t.M_.set("Unknown"),t.C_.delete(4),await WS(t)}(this))}))})),this.M_=new BS(n,r)}}async function WS(e){if(JS(e))for(const t of e.v_)await t(!0)}async function KS(e){for(const t of e.v_)await t(!1)}function HS(e,t){const n=rm(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),XS(n)?$S(n):gE(n).Ho()&&QS(n,t))}function GS(e,t){const n=rm(e),r=gE(n);n.D_.delete(t),r.Ho()&&YS(n,t),0===n.D_.size&&(r.Ho()?r.Zo():JS(n)&&n.M_.set("Unknown"))}function QS(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_m.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gE(e).u_(t)}function YS(e,t){e.x_.Oe(t),gE(e).c_(t)}function $S(e){e.x_=new Ab({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),gE(e).start(),e.M_.g_()}function XS(e){return JS(e)&&!gE(e).jo()&&e.D_.size>0}function JS(e){return 0===rm(e).C_.size}function ZS(e){e.x_=void 0}async function eE(e){e.D_.forEach(((t,n)=>{QS(e,t)}))}async function tE(e,t){ZS(e),XS(e)?(e.M_.w_(t),$S(e)):e.M_.set("Unknown")}async function nE(e,t,n){if(e.M_.set("Online"),t instanceof xb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Xp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rE(e,n)}else if(t instanceof kb?e.x_.$e(t):t instanceof Tb?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(_m.min()))try{const t=await sS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(jg.EMPTY_BYTE_STRING,r.snapshotVersion)),YS(e,t);const i=new dw(r.target,t,n,r.sequenceNumber);QS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xp("RemoteStore","Failed to raise snapshot:",t),await rE(e,t)}}async function rE(e,t,n){if(!Wm(t))throw t;e.C_.add(1),await KS(e),e.M_.set("Offline"),n||(n=()=>sS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xp("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await WS(e)}))}function iE(e,t){return t().catch((n=>rE(e,n,t)))}async function oE(e){const t=rm(e),n=yE(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;sE(t);)try{const e=await lS(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,aE(t,e)}catch(e){await rE(t,e)}lE(t)&&cE(t)}function sE(e){return JS(e)&&e.b_.length<10}function aE(e,t){e.b_.push(t);const n=yE(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function lE(e){return JS(e)&&!yE(e).jo()&&e.b_.length>0}function cE(e){yE(e).start()}async function uE(e){yE(e).E_()}async function dE(e){const t=yE(e);for(const n of e.b_)t.P_(n.mutations)}async function hE(e,t,n){const r=e.b_.shift(),i=cb.from(r,t,n);await iE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await oE(e)}async function fE(e,t){t&&yE(e).h_&&await async function(e,t){if(function(e){return pb(e)&&e!==im.ABORTED}(t.code)){const n=e.b_.shift();yE(e).Yo(),await iE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await oE(e)}}(e,t),lE(e)&&cE(e)}async function pE(e,t){const n=rm(e);n.asyncQueue.verifyOperationInProgress(),Xp("RemoteStore","RemoteStore received new credentials");const r=JS(n);n.C_.add(3),await KS(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await WS(n)}async function mE(e,t){const n=rm(e);t?(n.C_.delete(2),await WS(n)):t||(n.C_.add(2),await KS(n),n.M_.set("Unknown"))}function gE(e){return e.O_||(e.O_=function(e,t,n){const r=rm(e);return r.A_(),new zS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:eE.bind(null,e),Io:tE.bind(null,e),a_:nE.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),XS(e)?$S(e):e.M_.set("Unknown")):(await e.O_.stop(),ZS(e))}))),e.O_}function yE(e){return e.N_||(e.N_=function(e,t,n){const r=rm(e);return r.A_(),new US(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:uE.bind(null,e),Io:fE.bind(null,e),T_:dE.bind(null,e),I_:hE.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await oE(e)):(await e.N_.stop(),e.b_.length>0&&(Xp("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class vE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new vE(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new om(im.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bE(e,t){if(Jp("AsyncQueue","".concat(t,": ").concat(e)),Wm(e))return new om(im.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Tm.comparator(t.key,n.key):(e,t)=>Tm.comparator(e.key,t.key),this.keyedMap=wv(),this.sortedSet=new Og(this.comparator)}static emptySet(e){return new wE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _E{constructor(){this.B_=new Og(Tm.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):tm():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class SE{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new SE(e,t,wE.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class EE{constructor(){this.k_=void 0,this.listeners=[]}}class IE{constructor(){this.queries=new gv((e=>uv(e)),cv),this.onlineState="Unknown",this.q_=new Set}}async function kE(e,t){const n=rm(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new EE),i)try{o.k_=await n.onListen(r)}catch(e){const n=bE(e,"Initialization of query '".concat(dv(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&AE(n)}async function TE(e,t){const n=rm(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xE(e,t){const n=rm(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&AE(n)}function CE(e,t,n){const r=rm(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function AE(e){e.q_.forEach((e=>{e.next()}))}class NE{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new SE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=SE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class PE{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class RE{constructor(e){this.serializer=e}hs(e){return Wb(this.serializer,e)}Ps(e){return e.metadata.exists?$b(this.serializer,e.document,!1):wy.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ub(e)}}class OE{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Em.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new RE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||xv()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=rm(e);let o=xv(),s=vv();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await cS(i,function(e){return ov(tv(Em.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>aS(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new RE(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await mS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function DE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class LE{constructor(e){this.key=e}}class ME{constructor(e){this.key=e}}class FE{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xv(),this.mutatedKeys=xv(),this._a=pv(e),this.aa=new wE(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new _E,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=hv(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tm()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n);const o=t?this.Ia():[],s=0===this.oa.size&&this.current?1:0,a=s!==this.sa;return this.sa=s,0!==i.length||a?{snapshot:new SE(this.query,e.aa,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new _E,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xv(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new ME(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new LE(n))})),t}da(e){this.ia=e.ls,this.oa=xv();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return SE.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class VE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zE{constructor(e){this.key=e,this.Ra=!1}}class UE{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new gv((e=>uv(e)),cv),this.fa=new Map,this.ga=new Set,this.pa=new Og(Tm.comparator),this.ya=new Map,this.wa=new V_,this.Sa={},this.ba=new Map,this.Da=f_.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function jE(e,t){const n=fI(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await cS(n.localStore,ov(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await BE(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&HS(n.remoteStore,e)}return i}async function BE(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await dS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return ZE(e,t.targetId,s.Ta),s.snapshot}(e,t,n,r);const o=await dS(e.localStore,t,!0),s=new FE(t,o.ls),a=s.ca(o.documents),l=Ib.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);ZE(e,n,c.Ta);const u=new VE(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function qE(e,t){const n=rm(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!cv(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await uS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),GS(n.remoteStore,r.targetId),XE(n,r.targetId)})).catch(Vm)):(XE(n,r.targetId),await uS(n.localStore,r.targetId,!0))}async function WE(e,t){const n=rm(e);try{const e=await function(e,t){const n=rm(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(jg.EMPTY_BYTE_STRING,_m.min()).withLastLimboFreeSnapshotVersion(_m.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=vv(),l=xv();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(aS(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(_m.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return zm.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(nm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?nm(r.Ra):e.removedDocuments.size>0&&(nm(r.Ra),r.Ra=!1))})),await nI(n,e,t)}catch(e){await Vm(e)}}function KE(e,t,n){const r=rm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=rm(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&AE(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function HE(e,t,n){const r=rm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new Og(Tm.comparator);e=e.insert(o,wy.newNoDocument(o,_m.min()));const n=xv().add(o),i=new Eb(_m.min(),new Map,new Og(ym),e,n);await WE(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),tI(r)}else await uS(r.localStore,t,!1).then((()=>XE(r,t,n))).catch(Vm)}async function GE(e,t){const n=rm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=rm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=zm.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);nm(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=xv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);$E(n,r,null),YE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nI(n,e)}catch(e){await Vm(e)}}async function QE(e,t,n){const r=rm(e);try{const e=await function(e,t){const n=rm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);$E(r,t,n),YE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nI(r,e)}catch(n){await Vm(n)}}function YE(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function $E(e,t,n){const r=rm(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function XE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||JE(e,t)}))}function JE(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(GS(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),tI(e))}function ZE(e,t,n){for(const r of n)r instanceof LE?(e.wa.addReference(r.key,t),eI(e,r)):r instanceof ME?(Xp("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||JE(e,r.key)):tm()}function eI(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Xp("SyncEngine","New document in limbo: "+n),e.ga.add(r),tI(e))}function tI(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Tm(Em.fromString(t)),r=e.Da.next();e.ya.set(r,new zE(n)),e.pa=e.pa.insert(n,r),HS(e.remoteStore,new dw(ov(tv(n.path)),r,"TargetPurposeLimboResolution",Xm._e))}}async function nI(e,t,n){const r=rm(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=eS.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=rm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>zm.forEach(t,(t=>zm.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>zm.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Wm(e))throw e;Xp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function rI(e,t){const n=rm(e);if(!n.currentUser.isEqual(t)){Xp("SyncEngine","User change. New user:",t.toKey());const e=await oS(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new om(im.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nI(n,e._s)}}function iI(e,t){const n=rm(e),r=n.ya.get(t);if(r&&r.Ra)return xv().add(r.key);{let e=xv();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function oI(e,t){const n=rm(e),r=await dS(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&ZE(n,t.targetId,i.Ta),i}async function sI(e,t){const n=rm(e);return fS(n.localStore,t).then((e=>nI(n,e)))}async function aI(e,t,n,r){const i=rm(e),o=await function(e,t){const n=rm(e),r=rm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):zm.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await oE(i.remoteStore):"acknowledged"===n||"rejected"===n?($E(i,t,r||null),YE(i,t),function(e,t){rm(rm(e).mutationQueue).Fn(t)}(i.localStore,t)):tm(),await nI(i,o)):Xp("SyncEngine","Cannot apply mutation batch with id: "+t)}async function lI(e,t,n){const r=rm(e),i=[],o=[];for(const s of t){let e;const t=r.fa.get(s);if(t&&0!==t.length){e=await cS(r.localStore,ov(t[0]));for(const e of t){const t=r.ma.get(e),n=await oI(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await hS(r.localStore,s);e=await cS(r.localStore,t),await BE(r,cI(t),s,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function cI(e){return ev(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uI(e){return function(e){return rm(rm(e).persistence).Bi()}(rm(e).localStore)}async function dI(e,t,n,r){const i=rm(e);if(i.Ca)return void Xp("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await fS(i.localStore,fv(o[0])),r=Eb.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,jg.EMPTY_BYTE_STRING);await nI(i,e,r);break}case"rejected":await uS(i.localStore,t,!0),XE(i,t,r);break;default:tm()}}async function hI(e,t,n){const r=fI(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Xp("SyncEngine","Adding an already active target "+e);continue}const t=await hS(r.localStore,e),n=await cS(r.localStore,t);await BE(r,cI(t),n.targetId,!1,n.resumeToken),HS(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await uS(r.localStore,e,!1).then((()=>{GS(r.remoteStore,e),XE(r,e)})).catch(Vm)}}function fI(e){const t=rm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HE.bind(null,t),t.Va.a_=xE.bind(null,t.eventManager),t.Va.Fa=CE.bind(null,t.eventManager),t}function pI(e){const t=rm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QE.bind(null,t),t}class mI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=MS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return iS(this.persistence,new nS,e.initialUser,this.serializer)}createPersistence(e){return new W_(H_.jr,this.serializer)}createSharedClientState(e){return new kS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gI extends mI{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await pI(this.xa.syncEngine),await oE(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return iS(this.persistence,new nS,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new w_(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new $m(t,this.persistence);return new Ym(e.asyncQueue,n)}createPersistence(e){const t=Z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?o_.withCacheSize(this.cacheSizeBytes):o_.DEFAULT;return new $_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,DS(),LS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new kS}}class yI extends gI{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof IS&&(this.sharedClientState.syncEngine={Ys:aI.bind(null,t),Zs:dI.bind(null,t),Xs:hI.bind(null,t),Bi:uI.bind(null,t),Js:sI.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=rm(e);if(fI(n),pI(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await lI(n,e.toArray());n.Ca=!0,await mE(n.remoteStore,!0);for(const r of t)HS(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(XE(n,i),uS(n.localStore,i,!0)))),GS(n.remoteStore,i)})),await t,await lI(n,e),function(e){const t=rm(e);t.ya.forEach(((e,n)=>{GS(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Og(Tm.comparator)}(n),n.Ca=!1,await mE(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=DS();if(!IS.D(t))throw new om(im.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class vI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>KE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await mE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new IE}createDatastore(e){const t=MS(e.databaseInfo.databaseId),n=function(e){return new OS(e)}(e.databaseInfo);return function(e,t,n,r){return new jS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qS(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>KE(this.syncEngine,e,0)),xS.D()?new xS:new TS)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new UE(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=rm(e);Xp("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await KS(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function bI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class wI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Jp("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class _I{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new sm,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new PE(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class SI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new om(im.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=rm(e),r=Gb(n.serializer)+"/documents",i={documents:t.map((e=>qb(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){nm(!!t.found),t.found.name,t.found.updateTime;const n=Wb(e,t.found.name),r=Ub(t.found.updateTime),i=t.found.createTime?Ub(t.found.createTime):_m.min(),o=new vy({mapValue:{fields:t.found.fields}});return wy.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){nm(!!t.missing),nm(!!t.readTime);const n=Wb(e,t.missing),r=Ub(t.readTime);return wy.newNoDocument(n,r)}(e,t):tm()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());nm(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new sb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Tm.fromPath(t);this.mutations.push(new ab(n,this.precondition(n)))})),await async function(e,t){const n=rm(e),r=Gb(n.serializer)+"/documents",i={writes:t.map((e=>Xb(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tm();t=_m.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new om(im.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_m.min())?Gv.exists(!1):Gv.updateTime(t):Gv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_m.min()))throw new om(im.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gv.updateTime(t)}return Gv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EI{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new FS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new SI(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Jm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!pb(t)}return!1}}class II{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gp.UNAUTHENTICATED,this.clientId=gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new om(im.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kI(e,t){e.asyncQueue.verifyOperationInProgress(),Xp("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await oS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function TI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await CI(e);Xp("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>pE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pE(t.remoteStore,n))),e._onlineComponents=t}function xI(e){return"FirebaseError"===e.name?e.code===im.FAILED_PRECONDITION||e.code===im.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function CI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xp("FirestoreClient","Using user provided OfflineComponentProvider");try{await kI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!xI(n))throw n;Zp("Error using user provided cache. Falling back to memory cache: "+n),await kI(e,new mI)}}else Xp("FirestoreClient","Using default OfflineComponentProvider"),await kI(e,new mI);return e._offlineComponents}async function AI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xp("FirestoreClient","Using user provided OnlineComponentProvider"),await TI(e,e._uninitializedComponentsProvider._online)):(Xp("FirestoreClient","Using default OnlineComponentProvider"),await TI(e,new vI))),e._onlineComponents}function NI(e){return CI(e).then((e=>e.persistence))}function PI(e){return CI(e).then((e=>e.localStore))}function RI(e){return AI(e).then((e=>e.remoteStore))}function OI(e){return AI(e).then((e=>e.syncEngine))}function DI(e){return AI(e).then((e=>e.datastore))}async function LI(e){const t=await AI(e),n=t.eventManager;return n.onListen=jE.bind(null,t.syncEngine),n.onUnlisten=qE.bind(null,t.syncEngine),n}function MI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new sm;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new wI({next:o=>{t.enqueueAndForget((()=>TE(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new om(im.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new om(im.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new NE(tv(n.path),o,{includeMetadataChanges:!0,J_:!0});return kE(e,s)}(await LI(e),e.asyncQueue,t,n,r))),r.promise}function FI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new sm;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new wI({next:n=>{t.enqueueAndForget((()=>TE(e,s))),n.fromCache&&"server"===r.source?i.reject(new om(im.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new NE(n,o,{includeMetadataChanges:!0,J_:!0});return kE(e,s)}(await LI(e),e.asyncQueue,t,n,r))),r.promise}function VI(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?yb().encode(e):e,function(e,t){return new _I(e,t)}(function(e,t){if(e instanceof Uint8Array)return bI(e,t);if(e instanceof ArrayBuffer)return bI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,MS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=rm(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=rm(e),r=Ub(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(DE(r));const i=new OE(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const s=await i.complete();return await nI(e,s.ra,void 0),await function(e,t){const n=rm(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.na)}catch(e){return Zp("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await OI(e),i,r)}))}function zI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const UI=new Map;function jI(e,t,n){if(!n)throw new om(im.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function BI(e,t,n,r){if(!0===t&&!0===r)throw new om(im.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qI(e){if(!Tm.isDocumentKey(e))throw new om(im.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WI(e){if(Tm.isDocumentKey(e))throw new om(im.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function KI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":tm()}function HI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new om(im.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KI(e);throw new om(im.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function GI(e,t){if(t<=0)throw new om(im.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class QI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new om(im.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new om(im.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new om(im.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new om(im.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new om(im.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class YI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new om(im.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new om(im.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lm;switch(e.type){case"firstParty":return new hm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new om(im.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UI.get(e);t&&(Xp("ComponentProvider","Removing Datastore"),UI.delete(e),t.terminate())}(this),Promise.resolve()}}function $I(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=HI(e,YI))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Zp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gp.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fl(JSON.stringify({alg:"none",type:"JWT"})),Fl(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new om(im.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gp(o)}e._authCredentials=new cm(new am(t,n))}}class XI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new XI(this.firestore,e,this._query)}}class JI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ZI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new JI(this.firestore,e,this._key)}}class ZI extends XI{constructor(e,t,n){super(e,t,tv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new JI(this.firestore,null,new Tm(e))}withConverter(e){return new ZI(this.firestore,e,this._path)}}function ek(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lc(e),jI("collection","path",t),e instanceof YI){const n=Em.fromString(t,...r);return WI(n),new ZI(e,null,n)}{if(!(e instanceof JI||e instanceof ZI))throw new om(im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Em.fromString(t,...r));return WI(n),new ZI(e.firestore,null,n)}}function tk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lc(e),1===arguments.length&&(t=gm.newId()),jI("doc","path",t),e instanceof YI){const n=Em.fromString(t,...r);return qI(n),new JI(e,null,new Tm(n))}{if(!(e instanceof JI||e instanceof ZI))throw new om(im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Em.fromString(t,...r));return qI(n),new JI(e.firestore,e instanceof ZI?e.converter:null,new Tm(n))}}function nk(e,t){return e=lc(e),t=lc(t),(e instanceof JI||e instanceof ZI)&&(t instanceof JI||t instanceof ZI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rk(e,t){return e=lc(e),t=lc(t),e instanceof XI&&t instanceof XI&&e.firestore===t.firestore&&cv(e._query,t._query)&&e.converter===t.converter}class ik{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new FS(this,"async_queue_retry"),this.iu=()=>{const e=LS();e&&Xp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=LS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=LS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new sm;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Wm(e))throw e;Xp("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=vE.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&tm()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function ok(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class sk{constructor(){this._progressObserver={},this._taskCompletionResolver=new sm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ak extends YI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ik,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ck(this),this._firestoreClient.terminate()}}function lk(e){return e._firestoreClient||ck(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ck(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Yg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new II(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function uk(e,t,n){const r=new sm;return e.asyncQueue.enqueue((async()=>{try{await kI(e,n),await TI(e,t),r.resolve()}catch(e){const n=e;if(!xI(n))throw n;Zp("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function dk(e){return function(e){const t=new sm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=rm(e);JS(n.remoteStore)||Xp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=rm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=bE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await OI(e),t))),t.promise}(lk(e=HI(e,ak)))}function hk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await NI(e),n=await RI(e);return t.setNetworkEnabled(!0),function(e){const t=rm(e);return t.C_.delete(0),WS(t)}(n)}))}(lk(e=HI(e,ak)))}function fk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await NI(e),n=await RI(e);return t.setNetworkEnabled(!1),async function(e){const t=rm(e);t.C_.add(0),await KS(t),t.M_.set("Offline")}(n)}))}(lk(e=HI(e,ak)))}function pk(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=rm(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await PI(e),t)))}(lk(e=HI(e,ak)),t).then((t=>t?new XI(e,null,t.query):null))}function mk(e){if(e._initialized||e._terminated)throw new om(im.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gk(jg.fromBase64String(e))}catch(e){throw new om(im.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gk(jg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new om(im.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new km(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vk{constructor(e){this._methodName=e}}class bk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new om(im.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new om(im.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ym(this._lat,e._lat)||ym(this._long,e._long)}}const wk=/^__.*__$/;class _k{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new nb(e,this.data,this.fieldMask,t,this.fieldTransforms):new tb(e,this.data,t,this.fieldTransforms)}}class Sk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new nb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ek(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tm()}}class Ik{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ik(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Wk(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Ek(this.Iu)&&wk.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||MS(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ik({Iu:e,methodName:t,gu:n,path:km.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tk(e){const t=e._freezeSettings(),n=MS(e._databaseId);return new kk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xk(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);Uk("Data must be an object, but it was:",s,r);const a=Vk(r,s);let l,c;if(o.merge)l=new zg(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=jk(t,r,n);if(!s.contains(i))throw new om(im.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Kk(e,i)||e.push(i)}l=new zg(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new _k(new vy(a),l,c)}class Ck extends vk{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ck}}function Ak(e,t,n){return new Ik({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Nk extends vk{_toFieldTransform(e){return new Kv(e.path,new Fv)}isEqual(e){return e instanceof Nk}}class Pk extends vk{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Ak(this,e,!0),n=this.yu.map((e=>Fk(e,t))),r=new Vv(n);return new Kv(e.path,r)}isEqual(e){return this===e}}class Rk extends vk{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Ak(this,e,!0),n=this.yu.map((e=>Fk(e,t))),r=new Uv(n);return new Kv(e.path,r)}isEqual(e){return this===e}}class Ok extends vk{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Bv(e.serializer,Rv(e.serializer,this.wu));return new Kv(e.path,t)}isEqual(e){return this===e}}function Dk(e,t,n,r){const i=e.pu(1,t,n);Uk("Data must be an object, but it was:",i,r);const o=[],s=vy.empty();Pg(r,((e,r)=>{const a=qk(t,e,n);r=lc(r);const l=i.Ru(a);if(r instanceof Ck)o.push(a);else{const e=Fk(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new zg(o);return new Sk(s,a,i.fieldTransforms)}function Lk(e,t,n,r,i,o){const s=e.pu(1,t,n),a=[jk(t,r,n)],l=[i];if(o.length%2!=0)throw new om(im.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(jk(t,o[h])),l.push(o[h+1]);const c=[],u=vy.empty();for(let h=a.length-1;h>=0;--h)if(!Kk(c,a[h])){const e=a[h];let t=l[h];t=lc(t);const n=s.Ru(e);if(t instanceof Ck)c.push(e);else{const r=Fk(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new zg(c);return new Sk(u,d,s.fieldTransforms)}function Mk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fk(n,e.pu(r?4:3,t))}function Fk(e,t){if(zk(e=lc(e)))return Uk("Unsupported field value:",t,e),Vk(e,t);if(e instanceof vk)return function(e,t){if(!Ek(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fk(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=lc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wm.fromDate(e);return{timestampValue:Fb(t.serializer,n)}}if(e instanceof wm){const n=new wm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fb(t.serializer,n)}}if(e instanceof bk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gk)return{bytesValue:Vb(t.serializer,e._byteString)};if(e instanceof JI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:jb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(KI(e)))}(e,t)}function Vk(e,t){const n={};return Rg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pg(e,((e,r)=>{const i=Fk(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wm||e instanceof bk||e instanceof gk||e instanceof JI||e instanceof vk)}function Uk(e,t,n){if(!zk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=KI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function jk(e,t,n){if((t=lc(t))instanceof yk)return t._internalPath;if("string"==typeof t)return qk(e,t);throw Wk("Field path arguments must be of type string or ",e,!1,void 0,n)}const Bk=new RegExp("[~\\*/\\[\\]]");function qk(e,t,n){if(t.search(Bk)>=0)throw Wk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new yk(...t.split("."))._internalPath}catch(a){throw Wk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wk(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new om(im.INVALID_ARGUMENT,a+e+l)}function Kk(e,t){return e.some((e=>e.isEqual(t)))}class Hk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new JI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gk extends Hk{data(){return super.data()}}function Qk(e,t){return"string"==typeof t?qk(e,t):t instanceof yk?t._internalPath:t._delegate._internalPath}function Yk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new om(im.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $k{}class Xk extends $k{}function Jk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof $k&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof eT)).length,n=e.filter((e=>e instanceof Zk)).length;if(t>1||t>0&&n>0)throw new om(im.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Zk extends Xk{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Zk(e,t,n)}_apply(e){const t=this._parse(e);return lT(e._query,t),new XI(e.firestore,e.converter,av(e._query,t))}_parse(e){const t=Tk(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new om(im.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){aT(s,o);const t=[];for(const n of s)t.push(sT(r,e,n));a={arrayValue:{values:t}}}else a=sT(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||aT(s,o),a=Mk(n,t,s,"in"===o||"not-in"===o);return xy.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class eT extends $k{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new eT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Cy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)lT(n,i),n=av(n,i)}(e._query,t),new XI(e.firestore,e.converter,av(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tT extends Xk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new tT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new om(im.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new om(im.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iy(t,n)}(e._query,this._field,this._direction);return new XI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Zy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class nT extends Xk{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new nT(e,t,n)}_apply(e){return new XI(e.firestore,e.converter,lv(e._query,this._limit,this._limitType))}}class rT extends Xk{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new rT(e,t,n)}_apply(e){const t=oT(e,this.type,this._docOrFields,this._inclusive);return new XI(e.firestore,e.converter,function(e,t){return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class iT extends Xk{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new iT(e,t,n)}_apply(e){const t=oT(e,this.type,this._docOrFields,this._inclusive);return new XI(e.firestore,e.converter,function(e,t){return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function oT(e,t,n,r){if(n[0]=lc(n[0]),n[0]instanceof Hk)return function(e,t,n,r,i){if(!r)throw new om(im.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of iv(e))if(s.field.isKeyField())o.push(sy(t,r.key));else{const e=r.data.field(s.field);if(Hg(e))throw new om(im.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new om(im.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new _y(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Tk(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new om(im.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new om(im.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!rv(e)&&-1!==o.indexOf("/"))throw new om(im.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Em.fromString(o));if(!Tm.isDocumentKey(n))throw new om(im.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Tm(n);a.push(sy(t,i))}else{const e=Mk(n,r,o);a.push(e)}}return new _y(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function sT(e,t,n){if("string"==typeof(n=lc(n))){if(""===n)throw new om(im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rv(t)&&-1!==n.indexOf("/"))throw new om(im.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Em.fromString(n));if(!Tm.isDocumentKey(r))throw new om(im.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sy(e,new Tm(r))}if(n instanceof JI)return sy(e,n._key);throw new om(im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(KI(n),"."))}function aT(e,t){if(!Array.isArray(e)||0===e.length)throw new om(im.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function lT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new om(im.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new om(im.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class cT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tm()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Pg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new bk(Wg(e.latitude),Wg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Gg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qg(e));default:return null}}convertTimestamp(e){const t=qg(e);return new wm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Em.fromString(e);nm(uw(n));const r=new $g(n.get(1),n.get(3)),i=new Tm(n.popFirst(5));return r.isEqual(t)||Jp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function uT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dT extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new JI(this.firestore,null,t)}}class hT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fT extends Hk{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Qk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pT extends fT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class mT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new pT(this._firestore,this._userDataWriter,n.key,n,new hT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new om(im.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new pT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new pT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:gT(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tm()}}function yT(e,t){return e instanceof fT&&t instanceof fT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mT&&t instanceof mT&&e._firestore===t._firestore&&rk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class vT extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new JI(this.firestore,null,t)}}function bT(e){e=HI(e,JI);const t=HI(e.firestore,ak),n=lk(t),r=new vT(t);return function(e,t){const n=new sm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=rm(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new om(im.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=bE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await PI(e),t,n))),n.promise}(n,e._key).then((n=>new fT(t,r,e._key,n,new hT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function wT(e){e=HI(e,XI);const t=HI(e.firestore,ak),n=lk(t),r=new vT(t);return function(e,t){const n=new sm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await dS(e,t,!0),i=new FE(t,r.ls),o=i.ca(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=bE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await PI(e),t,n))),n.promise}(n,e._query).then((n=>new mT(t,r,e,n)))}function _T(e,t,n){e=HI(e,JI);const r=HI(e.firestore,ak),i=uT(e.converter,t,n);return kT(r,[xk(Tk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Gv.none())])}function ST(e,t,n){e=HI(e,JI);const r=HI(e.firestore,ak),i=Tk(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=lc(t))||t instanceof yk?Lk(i,"updateDoc",e._key,t,n,a):Dk(i,"updateDoc",e._key,t),kT(r,[o.toMutation(e._key,Gv.exists(!0))])}function ET(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=lc(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||ok(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(ok(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof JI)d=HI(e.firestore,ak),h=tv(e._key.path),u={next:t=>{n[l]&&n[l](TT(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=HI(e,XI);d=HI(t.firestore,ak),h=t._query;const r=new vT(d);u={next:e=>{n[l]&&n[l](new mT(d,r,t,e))},error:n[l+1],complete:n[l+2]},Yk(e._query)}return function(e,t,n,r){const i=new wI(r),o=new NE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>kE(await LI(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>TE(await LI(e),o)))}}(lk(d),h,c,u)}function IT(e,t){return function(e,t){const n=new wI(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){rm(e).q_.add(t),t.next()}(await LI(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){rm(e).q_.delete(t)}(await LI(e),n)))}}(lk(e=HI(e,ak)),ok(t)?t:{next:t})}function kT(e,t){return function(e,t){const n=new sm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=pI(e);try{const e=await function(e,t){const n=rm(e),r=wm.now(),i=t.reduce(((e,t)=>e.add(t.key)),xv());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=vv(),l=xv();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Zv(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new nb(e.key,t,by(t.value.mapValue),Gv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:_v(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Og(ym)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await nI(r,e.changes),await oE(r.remoteStore)}catch(e){const t=bE(e,"Failed to persist write");n.reject(t)}}(await OI(e),t,n))),n.promise}(lk(e),t)}function TT(e,t,n){const r=n.docs.get(t._key),i=new vT(e);return new fT(e,i,t._key,r,new hT(n.hasPendingWrites,n.fromCache),t.converter)}const xT={maxAttempts:5};class CT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tk(e)}set(e,t,n){this._verifyNotCommitted();const r=AT(e,this._firestore),i=uT(r.converter,t,n),o=xk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Gv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=AT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=lc(t))||t instanceof yk?Lk(this._dataReader,"WriteBatch.update",r._key,t,n,s):Dk(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Gv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=AT(e,this._firestore);return this._mutations=this._mutations.concat(new sb(t._key,Gv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new om(im.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function AT(e,t){if((e=lc(e)).firestore!==t)throw new om(im.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class NT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tk(e)}get(e){const t=AT(e,this._firestore),n=new dT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return tm();const r=e[0];if(r.isFoundDocument())return new Hk(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Hk(this._firestore,n,t._key,null,t.converter);throw tm()}))}set(e,t,n){const r=AT(e,this._firestore),i=uT(r.converter,t,n),o=xk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=AT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=lc(t))||t instanceof yk?Lk(this._dataReader,"Transaction.update",r._key,t,n,s):Dk(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=AT(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=AT(e,this._firestore),n=new vT(this._firestore);return super.get(e).then((e=>new fT(this._firestore,n,t._key,e._document,new hT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qp=e}(eu),Qc(new cc("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new ak(new um(e.getProvider("auth-internal")),new pm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new om(im.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $g(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ou(Hp,"4.3.2",e),ou(Hp,"4.3.2","esm2017")}();function PT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new om("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function RT(){if("undefined"===typeof Uint8Array)throw new om("unimplemented","Uint8Arrays are not available in this environment.")}function OT(){if("undefined"==typeof atob)throw new om("unimplemented","Blobs are unavailable in Firestore in this environment.")}class DT{constructor(e){this._delegate=e}static fromBase64String(e){return OT(),new DT(gk.fromBase64String(e))}static fromUint8Array(e){return RT(),new DT(gk.fromUint8Array(e))}toBase64(){return OT(),this._delegate.toBase64()}toUint8Array(){return RT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function LT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class MT{enableIndexedDbPersistence(e,t){return function(e,t){mk(e=HI(e,ak));const n=lk(e);if(n._uninitializedComponentsProvider)throw new om(im.FAILED_PRECONDITION,"SDK cache is already specified.");Zp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new vI;return uk(n,i,new gI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){mk(e=HI(e,ak));const t=lk(e);if(t._uninitializedComponentsProvider)throw new om(im.FAILED_PRECONDITION,"SDK cache is already specified.");Zp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new vI;return uk(t,r,new yI(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new om(im.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new sm;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!jm.D())return Promise.resolve();const t=e+"main";await jm.delete(t)}(Z_(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class FT{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof $g||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Zp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$I(this._delegate,e,t,n)}enableNetwork(){return hk(this._delegate)}disableNetwork(){return fk(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,BI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return dk(this._delegate)}onSnapshotsInSync(e){return IT(this._delegate,e)}get app(){if(!this._appCompat)throw new om("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new XT(this,ek(this._delegate,e))}catch(t){throw qT(t,"collection()","Firestore.collection()")}}doc(e){try{return new BT(this,tk(this._delegate,e))}catch(t){throw qT(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new QT(this,function(e,t){if(e=HI(e,YI),jI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new om(im.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new XI(e,null,function(e){return new Zy(Em.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw qT(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=HI(e,ak);const r=Object.assign(Object.assign({},xT),n);return function(e){if(e.maxAttempts<1)throw new om(im.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new sm;return e.asyncQueue.enqueueAndForget((async()=>{const i=await DI(e);new EI(e.asyncQueue,i,n,t,r).run()})),r.promise}(lk(e),(n=>t(new NT(e,n))),r)}(this._delegate,(t=>e(new zT(this,t))))}batch(){return lk(this._delegate),new UT(new CT(this._delegate,(e=>kT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=lk(e=HI(e,ak)),r=new sk;return VI(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return pk(this._delegate,e).then((e=>e?new QT(this,e):null))}}class VT extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new DT(new gk(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return BT.forKey(t,this.firestore,null)}}class zT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VT(e)}get(e){const t=JT(e);return this._delegate.get(t).then((e=>new HT(this._firestore,new fT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=JT(e);return n?(PT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=JT(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=JT(e);return this._delegate.delete(t),this}}class UT{constructor(e){this._delegate=e}set(e,t,n){const r=JT(e);return n?(PT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=JT(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=JT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jT{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new pT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new GT(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=jT.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new jT(e,new VT(e),t),r.set(t,i)),i}}jT.INSTANCES=new WeakMap;class BT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VT(e)}static forPath(e,t,n){if(e.length%2!==0)throw new om("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new BT(t,new JI(t._delegate,n,new Tm(e)))}static forKey(e,t,n){return new BT(t,new JI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new XT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new XT(this.firestore,ek(this._delegate,e))}catch(t){throw qT(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=lc(e))instanceof JI&&nk(this._delegate,e)}set(e,t){t=PT("DocumentReference.set",t);try{return t?_T(this._delegate,e,t):_T(this._delegate,e)}catch(n){throw qT(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ST(this._delegate,e):ST(this._delegate,e,t,...r)}catch(o){throw qT(o,"updateDoc()","DocumentReference.update()")}}delete(){return kT(HI((e=this._delegate).firestore,ak),[new sb(e._key,Gv.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=WT(t),i=KT(t,(e=>new HT(this.firestore,new fT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ET(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?bT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HI(e,JI);const t=HI(e.firestore,ak);return MI(lk(t),e._key,{source:"server"}).then((n=>TT(t,e,n)))}(this._delegate):function(e){e=HI(e,JI);const t=HI(e.firestore,ak);return MI(lk(t),e._key).then((n=>TT(t,e,n)))}(this._delegate),t.then((e=>new HT(this.firestore,new fT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new BT(this.firestore,e?this._delegate.withConverter(jT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qT(e,t,n){return e.message=e.message.replace(t,n),e}function WT(e){for(const t of e)if("object"===typeof t&&!LT(t))return t;return{}}function KT(e,t){var n,r;let i;return i=LT(e[0])?e[0]:LT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class HT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new BT(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yT(this._delegate,e._delegate)}}class GT extends HT{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||tm(),t}}class QT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VT(e)}where(e,t,n){try{return new QT(this.firestore,Jk(this._delegate,function(e,t,n){const r=t,i=Qk("where",e);return Zk._create(i,r,n)}(e,t,n)))}catch(r){throw qT(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new QT(this.firestore,Jk(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Qk("orderBy",e);return tT._create(n,t)}(e,t)))}catch(n){throw qT(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new QT(this.firestore,Jk(this._delegate,(GI("limit",t=e),nT._create("limit",t,"F"))))}catch(t){throw qT(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new QT(this.firestore,Jk(this._delegate,(GI("limitToLast",t=e),nT._create("limitToLast",t,"L"))))}catch(t){throw qT(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new QT(this.firestore,Jk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rT._create("startAt",t,!0)}(...arguments)))}catch(e){throw qT(e,"startAt()","Query.startAt()")}}startAfter(){try{return new QT(this.firestore,Jk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw qT(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new QT(this.firestore,Jk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw qT(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new QT(this.firestore,Jk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iT._create("endAt",t,!0)}(...arguments)))}catch(e){throw qT(e,"endAt()","Query.endAt()")}}isEqual(e){return rk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?wT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HI(e,XI);const t=HI(e.firestore,ak),n=lk(t),r=new vT(t);return FI(n,e._query,{source:"server"}).then((n=>new mT(t,r,e,n)))}(this._delegate):function(e){e=HI(e,XI);const t=HI(e.firestore,ak),n=lk(t),r=new vT(t);return Yk(e._query),FI(n,e._query).then((n=>new mT(t,r,e,n)))}(this._delegate),t.then((e=>new $T(this.firestore,new mT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=WT(t),i=KT(t,(e=>new $T(this.firestore,new mT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ET(this._delegate,r,i)}withConverter(e){return new QT(this.firestore,e?this._delegate.withConverter(jT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class YT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new GT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $T{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new QT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new GT(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new YT(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new GT(this._firestore,n))}))}isEqual(e){return yT(this._delegate,e._delegate)}}class XT extends QT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new BT(this.firestore,e):null}doc(e){try{return new BT(this.firestore,void 0===e?tk(this._delegate):tk(this._delegate,e))}catch(t){throw qT(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=HI(e.firestore,ak),r=tk(e),i=uT(e.converter,t);return kT(n,[xk(Tk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Gv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new BT(this.firestore,e)))}isEqual(e){return nk(this._delegate,e._delegate)}withConverter(e){return new XT(this.firestore,e?this._delegate.withConverter(jT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function JT(e){return HI(e,JI)}class ZT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new yk(...t)}static documentId(){return new ZT(km.keyField().canonicalString())}isEqual(e){return(e=lc(e))instanceof yk&&this._delegate._internalPath.isEqual(e._internalPath)}}class ex{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Nk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ex(e)}static delete(){const e=new Ck("deleteField");return e._methodName="FieldValue.delete",new ex(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pk("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ex(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rk("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ex(e)}static increment(e){const t=new Ok("increment",e);return t._methodName="FieldValue.increment",new ex(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tx={Firestore:FT,GeoPoint:bk,Timestamp:wm,Blob:DT,Transaction:zT,WriteBatch:UT,DocumentReference:BT,DocumentSnapshot:HT,Query:QT,QueryDocumentSnapshot:GT,QuerySnapshot:$T,CollectionReference:XT,FieldPath:ZT,FieldValue:ex,setLogLevel:function(e){var t;t=e,Yp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var nx;(function(e,t){e.INTERNAL.registerComponent(new cc("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},tx)))})(nx=Iu,((e,t)=>new FT(e,t,new MT))),nx.registerVersion("@firebase/firestore-compat","0.3.22");function rx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ix={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ox="EMAIL_SIGNIN",sx="PASSWORD_RESET",ax="RECOVER_EMAIL",lx="REVERT_SECOND_FACTOR_ADDITION",cx="VERIFY_AND_CHANGE_EMAIL",ux="VERIFY_EMAIL";function dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hx=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},fx=dx,px=new Xl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mx=new wc("@firebase/auth");function gx(e){if(mx.logLevel<=mc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mx.error("Auth (".concat(eu,"): ").concat(e),...n)}}function yx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _x(e,...n)}function vx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _x(e,...n)}function bx(e,t,n){const r=Object.assign(Object.assign({},fx()),{[t]:n});return new Xl("auth","Firebase",r).create(t,{appName:e.name})}function wx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&yx(e,"argument-error"),bx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return px.create(e,...n)}function Sx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _x(t,...r)}}function Ex(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gx(t),new Error(t)}function Ix(e,t){e||Ex(t)}function kx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tx(){return"http:"===xx()||"https:"===xx()}function xx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Cx{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ix(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wl())||Gl()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tx()||Hl()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ax(e,t){Ix(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Nx{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ex("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ex("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ex("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Px={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rx=new Cx(3e4,6e4);function Ox(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dx(e,t,n,r){return Lx(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=nc(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Nx.fetch()(Fx(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Lx(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Px),t);try{const t=new zx(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ux(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ux(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Ux(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Ux(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw bx(e,a,s);yx(e,a)}}catch(i){if(i instanceof $l)throw i;yx(e,"network-request-failed",{message:String(i)})}}async function Mx(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Dx(e,t,n,r,i);return"mfaPendingCredential"in o&&yx(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Fx(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ax(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Vx(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vx(this.auth,"network-request-failed"))),Rx.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ux(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vx(e,t,r);return i.customData._tokenResponse=n,i}function jx(e){return void 0!==e&&void 0!==e.getResponse}function Bx(e){return void 0!==e&&void 0!==e.enterprise}class qx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vx(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Wx(e,t){return Dx(e,"GET","/v2/recaptchaConfig",Ox(e,t))}function Kx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Hx(e){return 1e3*Number(e)}function Gx(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gx("JWT malformed, contained fewer than 3 sections"),null;try{const e=Vl(n);return e?JSON.parse(e):(gx("Failed to decode base64 JWT payload"),null)}catch(i){return gx("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Qx(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof $l&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class $x{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kx(this.lastLoginAt),this.creationTime=Kx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xx(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qx(e,async function(e,t){return Dx(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Sx(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=rx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $x(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Jx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Sx(e.idToken,"internal-error"),Sx("undefined"!==typeof e.idToken,"internal-error"),Sx("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Gx(e);return Sx(t,"internal-error"),Sx("undefined"!==typeof t.exp,"internal-error"),Sx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Sx(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Lx(e,{},(async()=>{const n=nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Fx(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Nx.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Jx;return n&&(Sx("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Sx("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Sx("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jx,this.toJSON())}_performRefresh(){return Ex("not implemented")}}function Zx(e,t){Sx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class eC{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=rx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $x(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Qx(this,this.stsTokenManager.getToken(this.auth,e));return Sx(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=lc(e),r=await n.getIdToken(t),i=Gx(r);Sx(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Kx(Hx(i.auth_time)),issuedAtTime:Kx(Hx(i.iat)),expirationTime:Kx(Hx(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=lc(e);await Xx(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Sx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new eC(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Sx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qx(this,async function(e,t){return Dx(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;Sx(v&&S,e,"internal-error");const E=Jx.fromJSON(this.name,S);Sx("string"===typeof v,e,"internal-error"),Zx(u,e.name),Zx(d,e.name),Sx("boolean"===typeof b,e,"internal-error"),Sx("boolean"===typeof w,e,"internal-error"),Zx(h,e.name),Zx(f,e.name),Zx(p,e.name),Zx(m,e.name),Zx(g,e.name),Zx(y,e.name);const I=new eC({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Jx;r.updateFromServerResponse(t);const i=new eC({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xx(i),i}}const tC=new Map;function nC(e){Ix(e instanceof Function,"Expected a class definition");let t=tC.get(e);return t?(Ix(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tC.set(e,t),t)}class rC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rC.type="NONE";const iC=rC;function oC(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class sC{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=oC(this.userKey,r.apiKey,i),this.fullPersistenceKey=oC("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eC._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new sC(nC(iC),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||nC(iC);const o=oC(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=eC._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new sC(i,e,n)):new sC(i,e,n)}}function aC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fC(t))return"Blackberry";if(pC(t))return"Webos";if(cC(t))return"Safari";if((t.includes("chrome/")||uC(t))&&!t.includes("edge/"))return"Chrome";if(hC(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function lC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/firefox\//i.test(e)}function cC(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/crios\//i.test(e)}function dC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/iemobile/i.test(e)}function hC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/android/i.test(e)}function fC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/blackberry/i.test(e)}function pC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/webos/i.test(e)}function mC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return mC(e)||hC(e)||pC(e)||fC(e)||/windows phone/i.test(e)||dC(e)}function yC(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=aC(Wl());break;case"Worker":t="".concat(aC(Wl()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(eu,"/").concat(r)}class vC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class bC{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class wC{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SC(this),this.idTokenSubscription=new SC(this),this.beforeStateQueue=new vC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nC(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await sC.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Sx(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xx(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?lc(e):null;return t&&Sx(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Sx(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(nC(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Dx(e,"GET","/v2/passwordPolicy",Ox(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bC(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Dx(e,"POST","/v2/accounts:revokeToken",Ox(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nC(e)||this._popupRedirectResolver;Sx(t,this,"argument-error"),this.redirectPersistenceManager=await sC.create(this,[nC(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sx(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Sx(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mx.logLevel<=mc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mx.warn("Auth (".concat(eu,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function _C(e){return lc(e)}class SC{constructor(e){this.auth=e,this.observer=null,this.addObserver=oc((e=>this.observer=e))}get next(){return Sx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function EC(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vx("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function IC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class kC{constructor(e){this.type="recaptcha-enterprise",this.auth=_C(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Bx(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Wx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qx(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Bx(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));EC("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function TC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new kC(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function xC(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await TC(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await TC(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function CC(e,t,n){const r=_C(e);Sx(r._canInitEmulator,r,"emulator-config-failed"),Sx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=AC(t),{host:s,port:a}=function(e){const t=AC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:NC(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:NC(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function AC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function NC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class PC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ex("not implemented")}_getIdTokenResponse(e){return Ex("not implemented")}_linkToIdToken(e,t){return Ex("not implemented")}_getReauthenticationResolver(e){return Ex("not implemented")}}async function RC(e,t){return Dx(e,"POST","/v1/accounts:resetPassword",Ox(e,t))}async function OC(e,t){return Dx(e,"POST","/v1/accounts:signUp",t)}async function DC(e,t){return Mx(e,"POST","/v1/accounts:signInWithPassword",Ox(e,t))}async function LC(e,t){return Dx(e,"POST","/v1/accounts:sendOobCode",Ox(e,t))}async function MC(e,t){return LC(e,t)}async function FC(e,t){return LC(e,t)}class VC extends PC{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new VC(e,t,"password")}static _fromEmailAndCode(e,t){return new VC(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return xC(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",DC);case"emailLink":return async function(e,t){return Mx(e,"POST","/v1/accounts:signInWithEmailLink",Ox(e,t))}(e,{email:this._email,oobCode:this._password});default:yx(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return xC(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC);case"emailLink":return async function(e,t){return Mx(e,"POST","/v1/accounts:signInWithEmailLink",Ox(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:yx(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zC(e,t){return Mx(e,"POST","/v1/accounts:signInWithIdp",Ox(e,t))}class UC extends PC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new UC(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yx("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=rx(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new UC(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return zC(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zC(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zC(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nc(t)}return e}}const jC={USER_NOT_FOUND:"user-not-found"};class BC extends PC{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new BC({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new BC({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Mx(e,"POST","/v1/accounts:signInWithPhoneNumber",Ox(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Mx(e,"POST","/v1/accounts:signInWithPhoneNumber",Ox(e,t));if(n.temporaryProof)throw Ux(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Mx(e,"POST","/v1/accounts:signInWithPhoneNumber",Ox(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),jC)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new BC({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class qC{constructor(e){var t,n,r,i,o,s;const a=rc(ic(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Sx(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=rc(ic(e)).link,n=t?rc(ic(t)).deep_link_id:null,r=rc(ic(e)).deep_link_id;return(r?rc(ic(r)).link:null)||r||n||t||e}(e);try{return new qC(t)}catch(n){return null}}}class WC{constructor(){this.providerId=WC.PROVIDER_ID}static credential(e,t){return VC._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qC.parseLink(t);return Sx(n,"argument-error"),VC._fromEmailAndCode(e,n.code,n.tenantId)}}WC.PROVIDER_ID="password",WC.EMAIL_PASSWORD_SIGN_IN_METHOD="password",WC.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class HC extends KC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class GC extends HC{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Sx("providerId"in t&&"signInMethod"in t,"argument-error"),UC._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Sx(e.idToken||e.accessToken,"argument-error"),UC._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return GC.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return GC.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new GC(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class QC extends HC{constructor(){super("facebook.com")}static credential(e){return UC._fromParams({providerId:QC.PROVIDER_ID,signInMethod:QC.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return QC.credentialFromTaggedObject(e)}static credentialFromError(e){return QC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return QC.credential(t.oauthAccessToken)}catch(n){return null}}}QC.FACEBOOK_SIGN_IN_METHOD="facebook.com",QC.PROVIDER_ID="facebook.com";class YC extends HC{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return UC._fromParams({providerId:YC.PROVIDER_ID,signInMethod:YC.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return YC.credentialFromTaggedObject(e)}static credentialFromError(e){return YC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return YC.credential(n,r)}catch(i){return null}}}YC.GOOGLE_SIGN_IN_METHOD="google.com",YC.PROVIDER_ID="google.com";class $C extends HC{constructor(){super("github.com")}static credential(e){return UC._fromParams({providerId:$C.PROVIDER_ID,signInMethod:$C.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $C.credentialFromTaggedObject(e)}static credentialFromError(e){return $C.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $C.credential(t.oauthAccessToken)}catch(n){return null}}}$C.GITHUB_SIGN_IN_METHOD="github.com",$C.PROVIDER_ID="github.com";class XC extends PC{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return zC(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zC(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zC(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new XC(n,i):null}static _create(e,t){return new XC(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class JC extends KC{constructor(e){Sx(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return JC.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return JC.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=XC.fromJSON(e);return Sx(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return XC._create(r,n)}catch(i){return null}}}class ZC extends HC{constructor(){super("twitter.com")}static credential(e,t){return UC._fromParams({providerId:ZC.PROVIDER_ID,signInMethod:ZC.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ZC.credentialFromTaggedObject(e)}static credentialFromError(e){return ZC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ZC.credential(n,r)}catch(i){return null}}}async function eA(e,t){return Mx(e,"POST","/v1/accounts:signUp",Ox(e,t))}ZC.TWITTER_SIGN_IN_METHOD="twitter.com",ZC.PROVIDER_ID="twitter.com";class tA{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await eC._fromIdTokenResponse(e,n,r),o=nA(n);return new tA({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=nA(n);return new tA({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function nA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rA extends $l{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rA.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rA(e,t,n,r)}}function iA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw rA._fromErrorAndOperation(e,n,t,r);throw n}))}function oA(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function sA(e,t){const n=lc(e);await lA(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Dx(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=oA(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function aA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qx(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tA._forOperation(e,"link",r)}async function lA(e,t,n){await Xx(t);const r=!1===e?"provider-already-linked":"no-such-provider";Sx(oA(t.providerData).has(n)===e,t.auth,r)}async function cA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Qx(e,iA(r,i,t,e),n);Sx(o.idToken,r,"internal-error");const s=Gx(o.idToken);Sx(s,r,"internal-error");const{sub:a}=s;return Sx(e.uid===a,r,"user-mismatch"),tA._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&yx(r,"user-mismatch"),o}}async function uA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await iA(e,r,t),o=await tA._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function dA(e,t){return uA(_C(e),t)}async function hA(e,t){const n=lc(e);return await lA(!1,n,t.providerId),aA(n,t)}async function fA(e,t){return cA(lc(e),t)}async function pA(e,t){const n=_C(e),r=await async function(e,t){return Mx(e,"POST","/v1/accounts:signInWithCustomToken",Ox(e,t))}(n,{token:t,returnSecureToken:!0}),i=await tA._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class mA{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?gA._fromServerResponse(e,t):"totpInfo"in t?yA._fromServerResponse(e,t):yx(e,"internal-error")}}class gA extends mA{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new gA(t)}}class yA extends mA{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new yA(t)}}function vA(e,t,n){var r;Sx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Sx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Sx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Sx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function bA(e){const t=_C(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wA(e,t){await async function(e,t){return Dx(e,"POST","/v1/accounts:update",Ox(e,t))}(lc(e),{oobCode:t})}async function _A(e,t){const n=lc(e),r=await RC(n,{oobCode:t}),i=r.requestType;switch(Sx(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Sx(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Sx(r.mfaInfo,n,"internal-error");default:Sx(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=mA._fromServerResponse(_C(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function SA(e,t){const n={identifier:t,continueUri:Tx()?kx():"http://localhost"},{signinMethods:r}=await async function(e,t){return Dx(e,"POST","/v1/accounts:createAuthUri",Ox(e,t))}(lc(e),n);return r||[]}async function EA(e,t){const n=lc(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&vA(n.auth,r,t);const{email:i}=await async function(e,t){return LC(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function IA(e,t,n){const r=lc(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&vA(r.auth,i,n);const{email:o}=await async function(e,t){return LC(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function kA(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=lc(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Qx(i,async function(e,t){return Dx(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function TA(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Qx(e,async function(e,t){return Dx(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class xA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class CA extends xA{constructor(e,t,n,r){super(e,t,n),this.username=r}}class AA extends xA{constructor(e,t){super(e,"facebook.com",t)}}class NA extends CA{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class PA extends xA{constructor(e,t){super(e,"google.com",t)}}class RA extends CA{constructor(e,t,n){super(e,"twitter.com",t,n)}}function OA(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Gx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new xA(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new AA(o,i);case"github.com":return new NA(o,i);case"google.com":return new PA(o,i);case"twitter.com":return new RA(o,i,e.screenName||null);case"custom":case"anonymous":return new xA(o,null);default:return new xA(o,r,i)}}(n)}class DA{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new DA("enroll",e,t)}static _fromMfaPendingCredential(e){return new DA("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return DA._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return DA._fromIdtoken(e.multiFactorSession.idToken)}return null}}class LA{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=_C(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>mA._fromServerResponse(n,e)));Sx(r.mfaPendingCredential,n,"internal-error");const o=DA._fromMfaPendingCredential(r.mfaPendingCredential);return new LA(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await tA._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Sx(t.user,n,"internal-error"),tA._forOperation(t.user,t.operationType,s);default:yx(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class MA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>mA._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new MA(e)}async getSession(){return DA._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Qx(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Qx(this.user,function(e,t){return Dx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ox(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const FA=new WeakMap;const VA="__sak";class zA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(VA,"1"),this.storage.removeItem(VA),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class UA extends zA{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Wl();return cC(e)||mC(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=gC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ql()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const jA=UA;class BA extends zA{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BA.type="SESSION";const qA=BA;class WA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new WA(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function KA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}WA.receivers=[];class HA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=KA("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function GA(){return window}function QA(){return"undefined"!==typeof GA().WorkerGlobalScope&&"function"===typeof GA().importScripts}const YA="firebaseLocalStorageDb",$A="firebaseLocalStorage",XA="fbase_key";class JA{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ZA(e,t){return e.transaction([$A],t?"readwrite":"readonly").objectStore($A)}function eN(){const e=indexedDB.open(YA,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore($A,{keyPath:XA})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains($A)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(YA);return new JA(e).toPromise()}(),t(await eN()))}))}))}async function tN(e,t,n){const r=ZA(e,!0).put({[XA]:t,value:n});return new JA(r).toPromise()}function nN(e,t){const n=ZA(e,!0).delete(t);return new JA(n).toPromise()}class rN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await eN()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WA._getInstance(QA()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eN();return await tN(e,VA,"1"),await nN(e,VA),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>tN(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ZA(e,!1).get(t),r=await new JA(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>nN(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ZA(e,!1).getAll();return new JA(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rN.type="LOCAL";const iN=rN;const oN=1e12;class sN{constructor(e){this.auth=e,this.counter=oN,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new aN(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||oN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||oN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||oN;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class aN{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Sx(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lN=IC("rcb"),cN=new Cx(3e4,6e4);class uN{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=GA().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Sx(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&jx(GA().grecaptcha)?Promise.resolve(GA().grecaptcha):new Promise(((n,r)=>{const i=GA().setTimeout((()=>{r(vx(e,"network-request-failed"))}),cN.get());GA()[lN]=()=>{GA().clearTimeout(i),delete GA()[lN];const o=GA().grecaptcha;if(!o||!jx(o))return void r(vx(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};EC("".concat("https://www.google.com/recaptcha/api.js?","?").concat(nc({onload:lN,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(vx(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=GA().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dN{async load(e){return new sN(e)}clearedOneInstance(){}}const hN="recaptcha",fN={theme:"light",type:"image"};class pN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},fN);this.parameters=n,this.type=hN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_C(e),this.isInvisible="invisible"===this.parameters.size,Sx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Sx(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dN:new uN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Sx(!this.parameters.sitekey,this.auth,"argument-error"),Sx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Sx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=GA()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Sx(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Sx(Tx()&&!QA(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Dx(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Sx(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Sx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mN{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=BC._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function gN(e,t,n){var r;const i=await n.verify();try{let o;if(Sx("string"===typeof i,e,"argument-error"),Sx(n.type===hN,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Sx("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Dx(e,"POST","/v2/accounts/mfaEnrollment:start",Ox(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Sx("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Sx(n,e,"missing-multi-factor-info");const s=await function(e,t){return Dx(e,"POST","/v2/accounts/mfaSignIn:start",Ox(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Dx(e,"POST","/v1/accounts:sendVerificationCode",Ox(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class yN{constructor(e){this.providerId=yN.PROVIDER_ID,this.auth=_C(e)}verifyPhoneNumber(e,t){return gN(this.auth,e,lc(t))}static credential(e,t){return BC._fromVerification(e,t)}static credentialFromResult(e){const t=e;return yN.credentialFromTaggedObject(t)}static credentialFromError(e){return yN.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?BC._fromTokenResponse(n,r):null}}function vN(e,t){return t?nC(t):(Sx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}yN.PROVIDER_ID="phone",yN.PHONE_SIGN_IN_METHOD="phone";class bN extends PC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zC(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zC(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zC(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wN(e){return uA(e.auth,new bN(e),e.bypassAuthState)}function _N(e){const{auth:t,user:n}=e;return Sx(n,t,"internal-error"),cA(n,new bN(e),e.bypassAuthState)}async function SN(e){const{auth:t,user:n}=e;return Sx(n,t,"internal-error"),aA(n,new bN(e),e.bypassAuthState)}class EN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return SN;case"reauthViaPopup":case"reauthViaRedirect":return _N;default:yx(this.auth,"internal-error")}}resolve(e){Ix(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ix(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IN=new Cx(2e3,1e4);class kN extends EN{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,kN.currentPopupAction&&kN.currentPopupAction.cancel(),kN.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Sx(e,this.auth,"internal-error"),e}async onExecution(){Ix(1===this.filter.length,"Popup operations only handle one event");const e=KA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vx(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vx(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kN.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vx(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,IN.get())};e()}}kN.currentPopupAction=null;const TN="pendingRedirect",xN=new Map;class CN extends EN{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xN.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=RN(t),r=PN(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xN.set(this.auth._key(),e)}return this.bypassAuthState||xN.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function AN(e,t){return PN(e)._set(RN(t),"true")}function NN(e,t){xN.set(e._key(),t)}function PN(e){return nC(e._redirectPersistence)}function RN(e){return oC(TN,e.config.apiKey,e.name)}function ON(e,t,n){return async function(e,t,n){const r=_C(e);wx(e,t,KC),await r._initializationPromise;const i=vN(r,n);return await AN(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function DN(e,t,n){return async function(e,t,n){const r=lc(e);wx(r.auth,t,KC),await r.auth._initializationPromise;const i=vN(r.auth,n);await AN(i,r.auth);const o=await FN(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function LN(e,t,n){return async function(e,t,n){const r=lc(e);wx(r.auth,t,KC),await r.auth._initializationPromise;const i=vN(r.auth,n);await lA(!1,r,t.providerId),await AN(i,r.auth);const o=await FN(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function MN(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=_C(e),i=vN(r,t),o=new CN(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function FN(e){const t=KA("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UN(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!UN(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vx(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zN(e))}saveEventToCache(e){this.cachedEventUids.add(zN(e)),this.lastProcessedEventTime=Date.now()}}function zN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function UN(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function jN(e){return Dx(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;function WN(e){const t=kx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qN.test(n))return!1;if(BN.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const KN=new Cx(3e4,6e4);function HN(){const e=GA().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let GN=null;function QN(e){return GN=GN||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){HN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HN(),n(vx(e,"network-request-failed"))},timeout:KN.get()})}if(null===(i=null===(r=GA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=GA().gapi)||void 0===o?void 0:o.load)){const t=IC("iframefcb");return GA()[t]=()=>{gapi.load?s():n(vx(e,"network-request-failed"))},EC("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw GN=null,e}))}(e),GN}const YN=new Cx(5e3,15e3),$N="__/auth/iframe",XN="emulator/auth/iframe",JN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eP(e){const t=e.config;Sx(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ax(t,XN):"https://".concat(e.config.authDomain,"/").concat($N),r={apiKey:t.apiKey,appName:e.name,v:eu},i=ZN.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(nc(r).slice(1))}const tP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function rP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tP),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Wl().toLowerCase();n&&(a=uC(c)?"_blank":n),lC(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return mC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new nP(null);const d=window.open(t||"",a,u);Sx(d,e,"popup-blocked");try{d.focus()}catch(h){}return new nP(d)}const iP="__/auth/handler",oP="emulator/auth/handler",sP=encodeURIComponent("fac");async function aP(e,t,n,r,i,o){Sx(e.config.authDomain,e,"auth-domain-config-required"),Sx(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eu,eventId:i};if(t instanceof KC){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof HC){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(sP,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(iP);return Ax(t,oP)}(e),"?").concat(nc(a).slice(1)).concat(c)}const lP="webStorageSupport";const cP=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qA,this._completeRedirectFn=MN,this._overrideRedirectResult=NN}async _openPopup(e,t,n,r){var i;Ix(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return rP(e,await aP(e,t,n,kx(),r),KA())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){GA().location.href=e}(await aP(e,t,n,kx(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ix(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await QN(e),n=GA().gapi;return Sx(n,e,"internal-error"),t.open({where:document.body,url:eP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JN,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vx(e,"network-request-failed"),o=GA().setTimeout((()=>{r(i)}),YN.get());function s(){GA().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new VN(e);return t.register("authEvent",(t=>{Sx(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lP,{type:lP},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[lP];void 0!==i&&t(!!i),yx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jN(e);for(const r of t)try{if(WN(r))return}catch(n){}yx(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gC()||cC()||mC()}};class uP{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ex("unexpected MultiFactorSessionType")}}}class dP extends uP{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new dP(e)}_finalizeEnroll(e,t,n){return function(e,t){return Dx(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ox(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Dx(e,"POST","/v2/accounts/mfaSignIn:finalize",Ox(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class hP{constructor(){}static assertion(e){return dP._fromCredential(e)}}hP.FACTOR_ID="phone";var fP="@firebase/auth",pP="1.4.0";class mP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Sx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=jl())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var gP;function yP(){return window}gP="Browser",Qc(new cc("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Sx(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:gP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(gP)},c=new wC(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nC);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Qc(new cc("auth-internal",(e=>(e=>new mP(e))(_C(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ou(fP,pP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gP)),ou(fP,pP,"esm2017");async function vP(e,t,n){var r;const{BuildInfo:i}=yP();Ix(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Ix(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return mC()?s.ibi=i.packageName:hC()?s.apn=i.packageName:yx(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,aP(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function bP(e){const{cordova:t}=yP();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const wP=20;class _P extends VN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function SP(e){const t=await kP()._get(TP(e));return t&&await kP()._remove(TP(e)),t}function EP(e,t){var n,r;const i=function(e){const t=xP(e),n=t.link?decodeURIComponent(t.link):void 0,r=xP(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xP(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=xP(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?vx(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function IP(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<wP;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function kP(){return nC(jA)}function TP(e){return oC("authEvent",e.config.apiKey,e.name)}function xP(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return rc(n.join("?"))}const CP=class{constructor(){this._redirectPersistence=qA,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=MN,this._overrideRedirectResult=NN}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new _P(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){yx(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=yP();Sx("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Sx("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Sx("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sx("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sx("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),xN.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:IP(),postBody:null,tenantId:e.tenantId,error:vx(e,"no-auth-event")}}(e,n,r);await function(e,t){return kP()._set(TP(e),t)}(e,o);const s=await vP(e,o,t);return async function(e,t,n){const{cordova:r}=yP();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(vx(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),hC()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await bP(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=yP(),n={};mC()?n.iosBundleId=t.packageName:hC()?n.androidPackageName=t.packageName:yx(e,"operation-not-supported-in-this-environment"),await jN(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=yP(),o=setTimeout((async()=>{await SP(e),t.onEvent(AP())}),500),s=async n=>{clearTimeout(o);const r=await SP(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=EP(r,n.url)),t.onEvent(i||AP())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");yP().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function AP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vx("no-auth-event")}}function NP(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function PP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return!("file:"!==NP()&&"ionic:"!==NP()&&"capacitor:"!==NP()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function RP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return Ql()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl();return/Edge\/\d+/.test(e)}(e)}function OP(){try{const e=self.localStorage,t=KA();if(e)return e.setItem(t,"1"),e.removeItem(t),!RP()||Yl()}catch(e){return DP()&&Yl()}return!1}function DP(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function LP(){return("http:"===NP()||"https:"===NP()||Hl()||PP())&&!(Gl()||Kl())&&OP()&&!DP()}function MP(){return PP()&&"undefined"!==typeof document}const FP={LOCAL:"local",NONE:"none",SESSION:"session"},VP=Sx,zP="persistence";async function UP(e){await e._initializationPromise;const t=jP(),n=oC(zP,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function jP(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const BP=Sx;class qP{constructor(){this.browserResolver=nC(cP),this.cordovaResolver=nC(CP),this.underlyingResolver=null,this._redirectPersistence=qA,this._completeRedirectFn=MN,this._overrideRedirectResult=NN}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return MP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return BP(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!MP()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function WP(e){return e.unwrap()}function KP(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new YP(e,function(e,t){var n;const r=lc(e),i=t;return Sx(t.customData.operationType,r,"argument-error"),Sx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),LA._fromError(r,i)}(e,t))}else if(r){const e=HP(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function HP(e){const{_tokenResponse:t}=e instanceof $l?e.customData:e;if(!t)return null;if(!(e instanceof $l)&&"temporaryProof"in t&&"phoneNumber"in t)return yN.credentialFromResult(e);const n=t.providerId;if(!n||n===ix.PASSWORD)return null;let r;switch(n){case ix.GOOGLE:r=YC;break;case ix.FACEBOOK:r=QC;break;case ix.GITHUB:r=$C;break;case ix.TWITTER:r=ZC;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?XC._create(n,s):UC._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new GC(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof $l?r.credentialFromError(e):r.credentialFromResult(e)}function GP(e,t){return t.catch((t=>{throw t instanceof $l&&KP(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,HP(r)),additionalUserInfo:OA(e),user:$P.getOrCreate(n)};var r}))}async function QP(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>GP(e,n.confirm(t))}}class YP{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return GP(WP(this.auth),this.resolver.resolveSignIn(e))}}class $P{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=lc(e);return FA.has(t)||FA.set(t,MA._fromUser(t)),FA.get(t)}(e)}static getOrCreate(e){return $P.USER_MAP.has(e)||$P.USER_MAP.set(e,new $P(e)),$P.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return GP(this.auth,hA(this._delegate,e))}async linkWithPhoneNumber(e,t){return QP(this.auth,async function(e,t,n){const r=lc(e);await lA(!1,r,"phone");const i=await gN(r.auth,t,lc(n));return new mN(i,(e=>hA(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return GP(this.auth,async function(e,t,n){const r=lc(e);wx(r.auth,t,KC);const i=vN(r.auth,n);return new kN(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,qP))}async linkWithRedirect(e){return await UP(_C(this.auth)),LN(this._delegate,e,qP)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return GP(this.auth,fA(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return QP(this.auth,async function(e,t,n){const r=lc(e),i=await gN(r.auth,t,lc(n));return new mN(i,(e=>fA(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return GP(this.auth,async function(e,t,n){const r=lc(e);wx(r.auth,t,KC);const i=vN(r.auth,n);return new kN(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,qP))}async reauthenticateWithRedirect(e){return await UP(_C(this.auth)),DN(this._delegate,e,qP)}sendEmailVerification(e){return EA(this._delegate,e)}async unlink(e){return await sA(this._delegate,e),this}updateEmail(e){return function(e,t){return TA(lc(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return TA(lc(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await aA(lc(e),t)}(this._delegate,e)}updateProfile(e){return kA(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return IA(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$P.USER_MAP=new WeakMap;const XP=Sx;class JP{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;XP(n,"invalid-api-key",{appName:e.name}),XP(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?qP:void 0;this._delegate=t.initialize({options:{persistence:eR(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(hx),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$P.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){CC(this._delegate,e,t)}applyActionCode(e){return wA(this._delegate,e)}checkActionCode(e){return _A(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await RC(lc(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bA(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return GP(this._delegate,async function(e,t,n){const r=_C(e),i=xC(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eA),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bA(e),t})),s=await tA._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return SA(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=qC.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){XP(LP(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await _C(e)._initializationPromise,MN(e,t,!1)}(this._delegate,qP);return e?GP(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){_C(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ZP(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ZP(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=_C(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Sx(t.handleCodeInApp,r,"argument-error"),t&&vA(r,e,t)}(i,n),await xC(r,i,"getOobCode",FC)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=_C(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&vA(r,i,n),await xC(r,i,"getOobCode",MC)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){VP(Object.values(FP).includes(t),e,"invalid-persistence-type"),Gl()?VP(t!==FP.SESSION,e,"unsupported-persistence-type"):Kl()?VP(t===FP.NONE,e,"unsupported-persistence-type"):DP()?VP(t===FP.NONE||t===FP.LOCAL&&Yl(),e,"unsupported-persistence-type"):VP(t===FP.NONE||OP(),e,"unsupported-persistence-type")}(this._delegate,e),e){case FP.SESSION:t=qA;break;case FP.LOCAL:t=await nC(iN)._isAvailable()?iN:jA;break;case FP.NONE:t=iC;break;default:return yx("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return GP(this._delegate,async function(e){var t;const n=_C(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new tA({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await eA(n,{returnSecureToken:!0}),i=await tA._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return GP(this._delegate,dA(this._delegate,e))}signInWithCustomToken(e){return GP(this._delegate,pA(this._delegate,e))}signInWithEmailAndPassword(e,t){return GP(this._delegate,function(e,t,n){return dA(lc(e),WC.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bA(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return GP(this._delegate,async function(e,t,n){const r=lc(e),i=WC.credentialWithLink(t,n||kx());return Sx(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),dA(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return QP(this._delegate,async function(e,t,n){const r=_C(e),i=await gN(r,t,lc(n));return new mN(i,(e=>dA(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return XP(LP(),this._delegate,"operation-not-supported-in-this-environment"),GP(this._delegate,async function(e,t,n){const r=_C(e);wx(e,t,KC);const i=vN(r,n);return new kN(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,qP))}async signInWithRedirect(e){return XP(LP(),this._delegate,"operation-not-supported-in-this-environment"),await UP(this._delegate),ON(this._delegate,e,qP)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await _A(lc(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ZP(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&$P.getOrCreate(e)),error:t,complete:n}}function eR(e,t){const n=function(e,t){const n=jP();if(!n)return[];const r=oC(zP,e,t);switch(n.getItem(r)){case FP.NONE:return[iC];case FP.LOCAL:return[iN,qA];case FP.SESSION:return[qA];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(iN)||n.push(iN),"undefined"!==typeof window)for(const r of[jA,qA])n.includes(r)||n.push(r);return n.includes(iC)||n.push(iC),n}JP.Persistence=FP;class tR{constructor(){this.providerId="phone",this._delegate=new yN(WP(Iu.auth()))}static credential(e,t){return yN.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}tR.PHONE_SIGN_IN_METHOD=yN.PHONE_SIGN_IN_METHOD,tR.PROVIDER_ID=yN.PROVIDER_ID;const nR=Sx;class rR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iu.app();var r;nR(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new pN(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}function iR(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function oR(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}!function(e){e.INTERNAL.registerComponent(new cc("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new JP(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ox,PASSWORD_RESET:sx,RECOVER_EMAIL:ax,REVERT_SECOND_FACTOR_ADDITION:lx,VERIFY_AND_CHANGE_EMAIL:cx,VERIFY_EMAIL:ux}},EmailAuthProvider:WC,FacebookAuthProvider:QC,GithubAuthProvider:$C,GoogleAuthProvider:YC,OAuthProvider:GC,SAMLAuthProvider:JC,PhoneAuthProvider:tR,PhoneMultiFactorGenerator:hP,RecaptchaVerifier:rR,TwitterAuthProvider:ZC,Auth:JP,AuthCredential:PC,Error:$l}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.9")}(Iu);var sR=function(){return sR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sR.apply(this,arguments)},aR=function(e){return{loading:void 0===e||null===e,value:e}},lR=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return sR(sR({},e),{error:t.error,loading:!1,value:void 0});case"reset":return aR(t.defaultValue);case"value":return sR(sR({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),aR(n)),i=r[0],o=r[1],s=(0,t.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),a=(0,t.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,t.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:s,setError:a,setValue:l,value:i.value}}),[i.error,i.loading,s,a,l,i.value])},cR=function(e,n){var r=lR((function(){return e.currentUser})),i=r.error,o=r.loading,s=r.setError,a=r.setValue,l=r.value;return(0,t.useEffect)((function(){var t=function(e,t,n,r){return lc(e).onAuthStateChanged(t,n,r)}(e,(function(e){return iR(void 0,void 0,void 0,(function(){var t;return oR(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),s(t),[3,4];case 4:return a(e),[2]}}))}))}),s);return function(){t()}}),[e]),[l,o,i]};var uR=function(){return uR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uR.apply(this,arguments)},dR=function(e){return{loading:void 0===e||null===e,value:e}},hR=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return uR(uR({},e),{error:t.error,loading:!1,value:void 0});case"reset":return dR(t.defaultValue);case"value":return uR(uR({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),dR(n)),i=r[0],o=r[1],s=(0,t.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),a=(0,t.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,t.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:s,setError:a,setValue:l,value:i.value}}),[i.error,i.loading,s,a,l,i.value])},fR=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},pR=function(e,t){var n=!e&&!t,r=!!e&&!!t&&rk(e,t);return n||r},mR=function(e,t){return fR(e,pR,t)},gR=function(e,n){var r=function(e,n){var r=hR(),i=r.error,o=r.loading,s=r.reset,a=r.setError,l=r.setValue,c=r.value,u=mR(e,s);return(0,t.useEffect)((function(){if(u.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?ET(u.current,n.snapshotListenOptions,l,a):ET(u.current,l,a);return function(){e()}}l(void 0)}),[u.current]),[c,o,i]}(e,n),i=r[0],o=r[1],s=r[2];return[yR(i,null===n||void 0===n?void 0:n.snapshotOptions,null===n||void 0===n?void 0:n.initialValue),o,s,i]},yR=function(e,n,r){return(0,t.useMemo)((function(){var t;return null!==(t=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)})))&&void 0!==t?t:r}),[e,n])};Iu.initializeApp({apiKey:"AIzaSyB6gP_8UK0ANh1ehnG5APwrG9zMvlXpMTM",authDomain:"silent-polygon-295917.firebaseapp.com",databaseURL:"https://silent-polygon-295917-default-rtdb.firebaseio.com",projectId:"silent-polygon-295917",storageBucket:"silent-polygon-295917.appspot.com",messagingSenderId:"988211688233",appId:"1:988211688233:web:88c8ef9e238ee8166cfd38",measurementId:"G-7N28726011"});const vR=Iu.auth(),bR=Iu.firestore(),wR={padding:"20px",margin:"20px"},_R={height:"70vh",overflowY:"auto",padding:"20px"},SR={marginTop:"20px",display:"flex"},ER={flexGrow:1,marginRight:"10px"};function IR(){return(0,Ar.jsxs)(Ol,{container:!0,direction:"column",alignItems:"center",children:[(0,Ar.jsx)(gi,{variant:"contained",color:"primary",onClick:()=>{const e=new Iu.auth.GoogleAuthProvider;vR.signInWithPopup(e)},children:"Sign in with Google"}),(0,Ar.jsx)("br",{}),(0,Ar.jsx)("p",{children:"Do not violate the community guidelines or you will be banned!"})]})}function kR(){return vR.currentUser&&(0,Ar.jsx)(gi,{variant:"outlined",color:"secondary",onClick:()=>vR.signOut(),children:"Sign Out"})}function TR(e){let{roomName:n}=e;const r=bR.collection("messages"),i=r.where("roomName","==",n),[o]=gR(i,{idField:"id"}),[s,a]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(o){const e=o.slice().sort(((e,t)=>e.createdAt-t.createdAt));a(e)}}),[o]);const[l,c]=(0,t.useState)("");return(0,Ar.jsxs)(Ol,{container:!0,direction:"column",gap:2,style:wR,children:[(0,Ar.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{uid:t,displayName:i}=vR.currentUser;await r.add({text:l,createdAt:Iu.firestore.FieldValue.serverTimestamp(),uid:t,displayName:i,roomName:n}),c("")},style:SR,children:[(0,Ar.jsx)(bl,{variant:"outlined",fullWidth:!0,value:l,onChange:e=>c(e.target.value),placeholder:"Enter your message",style:ER}),(0,Ar.jsx)(gi,{variant:"contained",color:"primary",type:"submit",disabled:!l,children:"Send"})]}),(0,Ar.jsx)(da,{elevation:3,style:_R,children:s&&s.slice().reverse().map((e=>(0,Ar.jsx)(xR,{message:e},e.id)))})]})}function xR(e){const{text:t,uid:n,displayName:r}=e.message,i=n===vR.currentUser.uid?"sent":"received";return(0,Ar.jsxs)("div",{className:"message ".concat(i),children:[(0,Ar.jsxs)("p",{children:[(0,Ar.jsx)("b",{children:r}),": ",t]}),(0,Ar.jsx)("br",{})]})}const CR=function(e){let{roomName:t}=e;const[n]=cR(vR);return(0,Ar.jsxs)("div",{children:[(0,Ar.jsx)("header",{children:(0,Ar.jsx)(kR,{})}),(0,Ar.jsx)("section",{children:n?(0,Ar.jsx)(TR,{roomName:t}):(0,Ar.jsx)(IR,{})})]})},AR=e=>{function n(){document.getElementsByClassName("drawer")[0].style.bottom="-100%",window.history.replaceState({},"",window.location.origin+window.location.pathname+window.location.search)}return(0,t.useEffect)((()=>{const e=e=>{27!==e.keyCode&&"Escape"!==e.key||n()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,Ar.jsxs)("div",{className:"drawer",children:[(0,Ar.jsx)("div",{className:"close-container",onClick:n,children:(0,Ar.jsx)("button",{children:"\u2716"})}),(0,Ar.jsxs)("div",{className:"drawer-content",children:[(0,Ar.jsx)(vi,{id:e.id1,children:(0,Ar.jsx)(CR,{roomName:window.room_name+"_chat"})}),(0,Ar.jsx)(vi,{id:e.id2,children:(0,Ar.jsx)("div",{dangerouslySetInnerHTML:{__html:(new DOMParser).parseFromString(window.download_page,"text/html").body.innerHTML}})}),(0,Ar.jsx)(vi,{id:e.id3,children:(0,Ar.jsx)("div",{dangerouslySetInnerHTML:{__html:(new DOMParser).parseFromString(window.join_page,"text/html").body.innerHTML}})}),(0,Ar.jsx)(vi,{id:e.id4,children:(0,Ar.jsx)(CR,{roomName:window.room_name+"_QnA"})})]})]})},NR=e=>{function t(e){var t=document.getElementById(e);Array.from(document.getElementsByClassName("drawer-page")).forEach((e=>{e.style.display="none"})),t.style.display="block",document.getElementsByClassName("drawer")[0].style.bottom="0%";const n="drawer",r={fragment:n};window.history.pushState(r,"","#"+n)}return window.onpopstate=()=>{document.getElementsByClassName("close-container")[0].click()},(0,Ar.jsxs)(Ar.Fragment,{children:[(0,Ar.jsxs)("div",{className:"menu-buttons",children:[(0,Ar.jsx)(yi,{id:e.page1,showDrawer:t,name:"CHAT"}),(0,Ar.jsx)(yi,{id:e.page2,showDrawer:t,name:"Download"}),(0,Ar.jsx)(yi,{id:e.page3,showDrawer:t,name:"Join"}),(0,Ar.jsx)(yi,{id:e.page4,showDrawer:t,name:"QnA"})]}),(0,Ar.jsx)(AR,{id1:e.page1,id2:e.page2,id3:e.page3,id4:e.page4})]})};var PR=n(7),RR=n.n(PR),OR=n(262),DR=n.n(OR),LR=n(71),MR=n.n(LR),FR=Object.defineProperty,VR=Object.defineProperties,zR=Object.getOwnPropertyDescriptors,UR=Object.getOwnPropertySymbols,jR=Object.prototype.hasOwnProperty,BR=Object.prototype.propertyIsEnumerable,qR=(e,t,n)=>t in e?FR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WR=(e,t)=>{for(var n in t||(t={}))jR.call(t,n)&&qR(e,n,t[n]);if(UR)for(var n of UR(t))BR.call(t,n)&&qR(e,n,t[n]);return e},KR=(e,t)=>VR(e,zR(t));function HR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return KR(WR({},e),{height:0,width:0,playerVars:KR(WR({},e.playerVars),{autoplay:0,start:0,end:0})})}var GR={videoId:RR().string,id:RR().string,className:RR().string,iframeClassName:RR().string,style:RR().object,title:RR().string,loading:RR().oneOf(["lazy","eager"]),opts:RR().objectOf(RR().any),onReady:RR().func,onError:RR().func,onPlay:RR().func,onPause:RR().func,onEnd:RR().func,onStateChange:RR().func,onPlaybackRateChange:RR().func,onPlaybackQualityChange:RR().func},QR=class extends t.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,n;return null==(n=(t=this.props).onReady)?void 0:n.call(t,e)},this.onPlayerError=e=>{var t,n;return null==(n=(t=this.props).onError)?void 0:n.call(t,e)},this.onPlayerStateChange=e=>{var t,n,r,i,o,s,a,l;switch(null==(n=(t=this.props).onStateChange)||n.call(t,e),e.data){case QR.PlayerState.ENDED:null==(i=(r=this.props).onEnd)||i.call(r,e);break;case QR.PlayerState.PLAYING:null==(s=(o=this.props).onPlay)||s.call(o,e);break;case QR.PlayerState.PAUSED:null==(l=(a=this.props).onPause)||l.call(a,e)}},this.onPlayerPlaybackRateChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackRateChange)?void 0:n.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackQualityChange)?void 0:n.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"===typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=KR(WR({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=MR()(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then((e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,n,r;if("undefined"===typeof this.props.videoId||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let i=!1;const o={videoId:this.props.videoId};(null==(t=this.props.opts)?void 0:t.playerVars)&&(i=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i?null==(n=this.internalPlayer)||n.loadVideoById(o):null==(r=this.internalPlayer)||r.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return t=this,n=null,r=function*(){(function(e,t){var n,r,i,o;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(o=t.opts)?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!DR()(HR(e.opts),HR(t.opts))}(e,this.props)&&(yield this.resetPlayer()),function(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=(null==(n=e.opts)?void 0:n.playerVars)||{},o=(null==(r=t.opts)?void 0:r.playerVars)||{};return i.start!==o.start||i.end!==o.end}(e,this.props)&&this.updateVideo()},new Promise(((e,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},s=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,s);a((r=r.apply(t,n)).next())}));var t,n,r}componentWillUnmount(){this.destroyPlayer()}render(){return t.createElement("div",{className:this.props.className,style:this.props.style},t.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},YR=QR;YR.propTypes=GR,YR.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},YR.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var $R=YR;const XR=()=>{const[e,n]=(0,t.useState)(null),r="https://blog.askjhansi.com/session-ended/";let i=!1;function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;if(null!==t){let e=new Date((new Date).toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),r=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),s=60*window.start_hour*60;s+=60*window.start_minute;let a=60*r*60+60*i+o-s;try{a<0?window.location.href="https://blog.askjhansi.com/2757-2/":t.seekTo(a),t.playVideo()}catch(n){console.log(n)}}}setInterval((function(){if(null!==e){let t=e.getCurrentTime();e.getDuration()-t<5&&!i&&(i=!0,window.location.href=r)}}),2e3),document.addEventListener("visibilitychange",(function(){document.hidden||o()}));let s=!1;return(0,Ar.jsxs)("div",{className:"yt-video-container",children:[(0,Ar.jsx)($R,{videoId:window.video_id,className:"yt-video-player",opts:{playerVars:{playsinline:1,disablekb:1,fs:0,modestbranding:1,rel:0,showinfo:0,autoplay:1,controls:0,vq:"large"},width:"100%",height:"100%"},onReady:e=>{document.getElementsByClassName("yt-player-button")[0].addEventListener("click",(function(){n(e.target),o(e.target),document.getElementsByClassName("yt-player-button")[0].style.display="none"}))},onStateChange:e=>{1===e.data&&(setTimeout((()=>{document.getElementsByClassName("yt-thumbnail-overlay")[0].style.opacity="0",document.getElementsByClassName("yt-player-button")[0].style.display="none"}),3100),s||(o(),s=!0)),0===e.data&&(e.target.pauseVideo(),window.location.href=r)}}),(0,Ar.jsx)("img",{className:"yt-thumbnail-overlay",src:window.thumbnail_url,alt:"Overlay Player",draggable:"false"}),(0,Ar.jsx)("i",{className:"fa fa-play-circle yt-player-button",style:{fontSize:"100px"}})]})},JR=()=>(0,Ar.jsxs)(Ar.Fragment,{children:[(0,Ar.jsx)(XR,{}),(0,Ar.jsx)(NR,{page1:"drawer-page1",page2:"drawer-page2",page3:"drawer-page3",page4:"drawer-page4"})]});i.createRoot(document.getElementById("react-root")).render((0,Ar.jsx)(t.StrictMode,{children:(0,Ar.jsx)(JR,{})}))})()})();
//# sourceMappingURL=main.037deeb1.js.map